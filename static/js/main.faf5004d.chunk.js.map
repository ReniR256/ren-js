{"version":3,"sources":["../../../../src/types/parameters.ts","../../../../src/types/messages.ts","../../../../src/types/renVM.ts","../../../../src/types/types.ts","../../../../src/utils/promiEvent.ts","../../../../src/utils/utils.ts","../../../../src/utils/value.ts","../../../src/index.ts","state/connect.tsx","state/uiContainer.tsx","components/controllers/GetTrades.tsx","components/views/tooltip/TooltipStyles.tsx","components/views/tooltip/Tooltip.tsx","components/views/Footer.tsx","components/controllers/ErrorBoundary.tsx","images/brave.svg","images/coinbase.svg","images/imtoken.svg","images/metamask.svg","images/status.svg","images/trust.svg","state/generalTypes.ts","lib/className.ts","components/views/Popup.tsx","components/views/LogIn.tsx","components/views/OpeningShiftMini.tsx","components/views/shift-popup/AskForAddress.tsx","lib/txUrl.ts","components/views/shift-popup/Complete.tsx","components/views/shift-popup/DepositReceived.tsx","images/qr.svg","scss/animations.ts","components/views/LabelledInput.tsx","components/views/ProgressBar.tsx","components/views/shift-popup/ShowDepositAddress.tsx","components/views/shift-popup/SubmitToEthereum.tsx","components/controllers/OpeningShift.tsx","components/controllers/ProgressBar.tsx","components/controllers/Main.tsx","components/controllers/App.tsx","lib/sentry.ts","index.tsx","scss/theme.ts","components/controllers/Storage.ts","../../../src/btc.ts","../../../../src/renVM/shifterNetwork.ts","../../../src/bch.ts","../../../src/zec.ts","../../../../src/lib/abi.ts","../../../src/assets.ts","../../../../src/types/networks.ts","lib/postMessage.ts","../../../../src/renVM/darknode.ts","../../../../src/lib/promievent.ts","../../../src/common.ts","../../../../src/renVM/jsonRPC.ts","../../../../src/renVM/darknodeGroup.ts","lib/errors.ts","../../../src/shiftIn.ts","../../../src/shiftOut.ts","images/logo-small-grey.png","state/sdkContainer.tsx","lib/utils.ts","lib/environmentVariables.ts","images/icons/info.svg"],"names":["GatewayMessageType","RenNetwork","Chain","Asset","RenContract","Tokens","BTC","Mint","Btc2Eth","RenVMType","connect","_containers","Component","props","to","containers","initialState","renNetwork","undefined","wrongNetwork","expectedNetwork","loggedOut","paused","utxos","OrderedMap","gatewayPopupID","UIContainer","state","a","setState","clearAddress","address","handleShift","submitting","resetTrade","deposit","set","utxo","txid","setSubmitting","setLoggedOut","pause","resume","Container","GetTrades","withRouter","uiContainer","location","React","queryParams","parseLocation","search","replace","queryShiftID","id","catch","console","error","network","DEFAULT_NETWORK","_addListener","e","data","from","frameID","type","_acknowledgeMessage","getStorage","storage","postMessageToClient","window","Trades","_catchInteractionErr_","Ready","TooltipChildStyle","styled","span","width","direction","color","css","onTop","align","right","center","TooltipContainerStyle","Tooltip","contents","children","child","div","RenVMLink","Footer","bridgeInfo","alt","role","src","smallLogo","style","marginRight","href","target","rel","infoIcon","defaultState","errorInfo","ErrorBoundary","componentDidCatch","description","shownToUser","reportFeedback","Sentry","this","className","popup","whiteSpace","toString","componentStack","onClick","onCancel","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","y1","y2","offset","stopColor","x1","fill","d","_ref","svgRef","title","viewBox","ref","ForwardRef","forwardRef","cx","cy","r","x2","fillRule","transform","xlinkHref","mask","height","rx","points","x","y","enableBackground","xmlSpace","clipRule","Token","clipPath","args","join","Popup","mini","LogIn","token","correctNetwork","Map","symbol","name","decimals","priority","chain","RenJS","Chains","Bitcoin","validator","isTestnet","validate","ZEC","Zcash","BCH","BitcoinCash","isTestnetAddress","isMainnetAddress","OpeningShiftMini","SDKContainer","shift","Error","shiftParams","sendToken","slice","AskForAddress","message","onAddress","updateAddress","updateError","updateSubmitting","inputRef","tokenDetails","get","toUpperCase","onSubmit","event","preventDefault","String","onChange","value","autoFocus","required","aria-required","disabled","txUrl","tx","isTx","hash","match","Ethereum","contracts","etherscan","utils","strip0x","renderChain","Complete","inTx","outTx","networkDetails","DepositReceived","renVMStatus","renTxHash","submitDeposit","setError","initialized","setInitialized","marginTop","fontSize","status","TxStatus","TxStatusNil","TxStatusConfirming","TxStatusPending","TxStatusExecuting","TxStatusDone","TxStatusReverted","renderTxStatus","pulseAnimation","size","keyframes","transparentize","pulse","OuterDiv","LabelledDiv","inputLabel","loading","rest","setWidth","StyledInputFlex","StyledInput","p","lighten","theme","primaryColor","DepositLabel","label","lightGrey","ScanningDot","ProgressPulse","ProgressItem","progress","tooltip","classNames","itemsLength","percent","Math","min","px","ProgressBar","items","bluePercent","bluePx","grayPercent","grayPx","map","item","index","ScanningText","ScanningDiv","ScanningBanner","ConfirmationsContainer","ConfirmationsHeader","ConfirmationsBlock","input","AddressControls","ContinueButton","button","ShowDepositAddress","order","onQRClick","depositAddress","waitForDeposit","onDeposit","understood","setUnderstood","copied","setCopied","showSpinner","setShowSpinner","timer","setTimer","failed","setFailed","showDepositAddress","setTimeout","onClickAddress","clearTimeout","showAddress","text","onCopy","tooltipText","showUTXOs","numberOfConfirmations","range","confirmations","textAlign","maxWidth","valueSeq","last","TransparentButton","TransparentLoading","Loading","SubmitToEthereum","txHash","submit","failedTransaction","setFailedTransaction","shownError","level","LabelLevel","Warning","getRequiredAddressAndName","contractCalls","Array","reduce","accOuter","contractCall","isFunction","isPromise","contractParams","acc","param","QRCodeContainer","QRCodeOuter","ParentContainer","ParentInfo","AmountSpan","OpeningShift","sdkContainer","showQR","setShowQR","returned","setReturned","toggleShowQR","onNoBurnFound","updateShift","sdkRenVM","url","getURL","document","hostname","urlDomain","toLowerCase","inner","ShiftOutStatus","Committed","requiredAddressAndName","variableName","requestedToken","updateToAddress","submitBurnToEthereum","SubmittedToEthereum","ConfirmedOnEthereum","SubmittedToRenVM","submitBurnToRenVM","NoBurnFound","ReturnedFromRenVM","contractAddress","sendTo","shiftOut","requiredAmount","BigNumber","isBigNumber","exponentiatedBy","toFixed","suggestedAmount","amount","ShiftInStatus","Deposited","generateAddress","waitForDeposits","Confirmed","submitMintToRenVM","submitMintToEthereum","shiftIn","ShiftProgress","statusToProgress","Main","fromClient","sendMsg","Pause","pauseOnClick","Resume","resumeOnClick","cancelShift","retries","floor","sqrt","sleep","nonce","removeStorageTrade","Cancel","cancelOnClick","onDone","response","queryShiftStatus","Done","urlRenNetwork","Shift","GetStatus","payload","alreadyPaused","shiftParamsIn","shiftID","time","Date","now","randomID","Ox","repeat","historyEvent","shiftDetails","Zec2Eth","Bch2Eth","processShiftInParams","processShiftOutParams","sync","getShiftStatus","Chaosnet","Mainnet","top","NotFound","dsn","SENTRY_DSN","environment","SENTRY_ENVIRONMENT","release","SOURCE_VERSION","whitelistUrls","integrations","ExtraErrorData","scope","setExtra","pageLoadedAt","ReactDOM","inject","basename","process","path","exact","component","getElementById","stores","parent","referrer","getStore","domainIn","storeName","URL","store","localForage","createInstance","domain","getItem","getStorageItem","cancelled","Set","updateStorageTrade","trade","has","setItem","add","removeItem","n","buffer","shiftInABITemplate","constant","inputs","outputs","payable","stateMutability","getUTXOs","addressToHex","addressFrom","ethNetwork","mercuryURL","btc","zec","bch","chainSoName","listener","addEventListener","_removeListener","removeEventListener","Promise","resolve","messageID","random","acknowledged","removeListener","Acknowledgement","count","SendTransaction","GetTransactionBurn","GetTransactionStatus","postMessage","RPCMethod","pageLoaded","loadedAt","naturalTime","getTime","suffix","countDown","toUTCString","_catchErr_","details","_noCapture_","category","setTag","setLevel","forEach","errorObject","cache","rawErrorJSON","JSON","stringify","parse","push","rawError","ignoreNetwork","isNetworkError","_catchBackgroundErr_","module","exports","BitcoinTx","ZCashTx","BCashTx","EthereumTx","renContract","parseRenContract","resolveInToken","asset","options","existingShift","firstValue","values","compareTxStatus","compareShiftStatus","Status","defaultToken","partial","retry","renVM","params","transactionHash","createTransaction","transactionConfig","burnReference","readFromEthereum","shiftOutObject","submitToRenVM","on","in","Eth2Zec","Eth2Bch","shiftInObject","addr","promise","onRenTxHash","shiftOnHash","onStatus","transaction","signature","queryTx","Buffer","getReceipt","web3","receipt","blockHash","eth","getTransactionReceipt","left","start","end","_","filter","arg","maxBy","fn","next","statuses","REACT_APP_SENTRY_DSN"],"mappings":"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AMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,sCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,0CACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IAAMzB,cAAc,UAAW,CACjC5B,UAAW,MACXqD,OAAQ,wCACN,IA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","file":"static/js/main.faf5004d.chunk.js","sourcesContent":["export var ShiftedToken;\n(function (ShiftedToken) {\n    ShiftedToken[\"zBTC\"] = \"zBTC\";\n    ShiftedToken[\"zZEC\"] = \"zZEC\";\n    ShiftedToken[\"zBCH\"] = \"zBCH\";\n})(ShiftedToken || (ShiftedToken = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYW1ldGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90eXBlcy9wYXJhbWV0ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLE1BQU0sQ0FBTixJQUFZLFlBSVg7QUFKRCxXQUFZLFlBQVk7SUFDcEIsNkJBQWEsQ0FBQTtJQUNiLDZCQUFhLENBQUE7SUFDYiw2QkFBYSxDQUFBO0FBQ2pCLENBQUMsRUFKVyxZQUFZLEtBQVosWUFBWSxRQUl2QiJ9","export var GatewayMessageType;\n(function (GatewayMessageType) {\n    GatewayMessageType[\"Pause\"] = \"pause\";\n    GatewayMessageType[\"Resume\"] = \"resume\";\n    GatewayMessageType[\"Ready\"] = \"ready\";\n    GatewayMessageType[\"Shift\"] = \"shift\";\n    GatewayMessageType[\"Trades\"] = \"trades\";\n    GatewayMessageType[\"GetTrades\"] = \"getTrades\";\n    GatewayMessageType[\"Status\"] = \"status\";\n    GatewayMessageType[\"GetStatus\"] = \"getStatus\";\n    GatewayMessageType[\"Cancel\"] = \"cancel\";\n    GatewayMessageType[\"Error\"] = \"error\";\n    GatewayMessageType[\"Done\"] = \"done\";\n    GatewayMessageType[\"SendTransaction\"] = \"sendTransaction\";\n    GatewayMessageType[\"GetTransactionStatus\"] = \"getTransactionStatus\";\n    GatewayMessageType[\"GetTransactionBurn\"] = \"getTransactionBurn\";\n    GatewayMessageType[\"Acknowledgement\"] = \"acknowledgement\";\n})(GatewayMessageType || (GatewayMessageType = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsTUFBTSxDQUFOLElBQVksa0JBb0JYO0FBcEJELFdBQVksa0JBQWtCO0lBQzFCLHFDQUFlLENBQUE7SUFDZix1Q0FBaUIsQ0FBQTtJQUNqQixxQ0FBZSxDQUFBO0lBQ2YscUNBQWUsQ0FBQTtJQUVmLHVDQUFpQixDQUFBO0lBQ2pCLDZDQUF1QixDQUFBO0lBRXZCLHVDQUFpQixDQUFBO0lBQ2pCLDZDQUF1QixDQUFBO0lBQ3ZCLHVDQUFpQixDQUFBO0lBQ2pCLHFDQUFlLENBQUE7SUFDZixtQ0FBYSxDQUFBO0lBRWIseURBQW1DLENBQUE7SUFDbkMsbUVBQTZDLENBQUE7SUFDN0MsK0RBQXlDLENBQUE7SUFFekMseURBQW1DLENBQUE7QUFDdkMsQ0FBQyxFQXBCVyxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBb0I3QiJ9","export var RenNetwork;\n(function (RenNetwork) {\n    RenNetwork[\"Mainnet\"] = \"mainnet\";\n    RenNetwork[\"Chaosnet\"] = \"chaosnet\";\n    RenNetwork[\"Testnet\"] = \"testnet\";\n    RenNetwork[\"Devnet\"] = \"devnet\";\n    RenNetwork[\"Localnet\"] = \"localnet\";\n})(RenNetwork || (RenNetwork = {}));\nexport var Chain;\n(function (Chain) {\n    Chain[\"Bitcoin\"] = \"Btc\";\n    Chain[\"Ethereum\"] = \"Eth\";\n    Chain[\"Zcash\"] = \"Zec\";\n    Chain[\"BitcoinCash\"] = \"Bch\";\n})(Chain || (Chain = {}));\nexport var Asset;\n(function (Asset) {\n    Asset[\"BTC\"] = \"BTC\";\n    Asset[\"ZEC\"] = \"ZEC\";\n    Asset[\"ETH\"] = \"ETH\";\n    Asset[\"BCH\"] = \"BCH\";\n})(Asset || (Asset = {}));\nexport var RenContract;\n(function (RenContract) {\n    RenContract[\"Btc2Eth\"] = \"BTC0Btc2Eth\";\n    RenContract[\"Eth2Btc\"] = \"BTC0Eth2Btc\";\n    RenContract[\"Zec2Eth\"] = \"ZEC0Zec2Eth\";\n    RenContract[\"Eth2Zec\"] = \"ZEC0Eth2Zec\";\n    RenContract[\"Bch2Eth\"] = \"BCH0Bch2Eth\";\n    RenContract[\"Eth2Bch\"] = \"BCH0Eth2Bch\";\n})(RenContract || (RenContract = {}));\nexport const Tokens = {\n    // Bitcoin\n    BTC: {\n        Mint: RenContract.Btc2Eth,\n        Btc2Eth: RenContract.Btc2Eth,\n        Burn: RenContract.Eth2Btc,\n        Eth2Btc: RenContract.Eth2Btc,\n    },\n    // Zcash\n    ZEC: {\n        Mint: RenContract.Zec2Eth,\n        Zec2Eth: RenContract.Zec2Eth,\n        Burn: RenContract.Eth2Zec,\n        Eth2Zec: RenContract.Eth2Zec,\n    },\n    // Bitcoin Cash\n    BCH: {\n        Mint: RenContract.Bch2Eth,\n        Bch2Eth: RenContract.Bch2Eth,\n        Burn: RenContract.Eth2Bch,\n        Eth2Bch: RenContract.Eth2Bch,\n    },\n};\nexport var RenVMType;\n(function (RenVMType) {\n    RenVMType[\"TypeAddress\"] = \"address\";\n    RenVMType[\"TypeStr\"] = \"str\";\n    RenVMType[\"TypeB32\"] = \"b32\";\n    RenVMType[\"TypeB\"] = \"b\";\n    RenVMType[\"TypeI8\"] = \"i8\";\n    RenVMType[\"TypeI16\"] = \"i16\";\n    RenVMType[\"TypeI32\"] = \"i32\";\n    RenVMType[\"TypeI64\"] = \"i64\";\n    RenVMType[\"TypeI128\"] = \"i128\";\n    RenVMType[\"TypeI256\"] = \"i256\";\n    RenVMType[\"TypeU8\"] = \"u8\";\n    RenVMType[\"TypeU16\"] = \"u16\";\n    RenVMType[\"TypeU32\"] = \"u32\";\n    RenVMType[\"TypeU64\"] = \"u64\";\n    RenVMType[\"TypeU128\"] = \"u128\";\n    RenVMType[\"TypeU256\"] = \"u256\";\n    RenVMType[\"TypeRecord\"] = \"record\";\n    RenVMType[\"TypeList\"] = \"list\";\n    // Ext\n    RenVMType[\"ExtTypeEthCompatAddress\"] = \"ext_ethCompatAddress\";\n    RenVMType[\"ExtTypeBtcCompatUTXO\"] = \"ext_btcCompatUTXO\";\n    RenVMType[\"ExtTypeBtcCompatUTXOs\"] = \"ext_btcCompatUTXOs\";\n    RenVMType[\"ExtTypeEthCompatTx\"] = \"ext_ethCompatTx\";\n    RenVMType[\"ExtEthCompatPayload\"] = \"ext_ethCompatPayload\";\n})(RenVMType || (RenVMType = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuVk0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHlwZXMvcmVuVk0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFOLElBQVksVUFNWDtBQU5ELFdBQVksVUFBVTtJQUNsQixpQ0FBbUIsQ0FBQTtJQUNuQixtQ0FBcUIsQ0FBQTtJQUNyQixpQ0FBbUIsQ0FBQTtJQUNuQiwrQkFBaUIsQ0FBQTtJQUNqQixtQ0FBcUIsQ0FBQTtBQUN6QixDQUFDLEVBTlcsVUFBVSxLQUFWLFVBQVUsUUFNckI7QUFFRCxNQUFNLENBQU4sSUFBWSxLQUtYO0FBTEQsV0FBWSxLQUFLO0lBQ2Isd0JBQWUsQ0FBQTtJQUNmLHlCQUFnQixDQUFBO0lBQ2hCLHNCQUFhLENBQUE7SUFDYiw0QkFBbUIsQ0FBQTtBQUN2QixDQUFDLEVBTFcsS0FBSyxLQUFMLEtBQUssUUFLaEI7QUFFRCxNQUFNLENBQU4sSUFBWSxLQUtYO0FBTEQsV0FBWSxLQUFLO0lBQ2Isb0JBQVcsQ0FBQTtJQUNYLG9CQUFXLENBQUE7SUFDWCxvQkFBVyxDQUFBO0lBQ1gsb0JBQVcsQ0FBQTtBQUNmLENBQUMsRUFMVyxLQUFLLEtBQUwsS0FBSyxRQUtoQjtBQUVELE1BQU0sQ0FBTixJQUFZLFdBT1g7QUFQRCxXQUFZLFdBQVc7SUFDbkIsc0NBQXVCLENBQUE7SUFDdkIsc0NBQXVCLENBQUE7SUFDdkIsc0NBQXVCLENBQUE7SUFDdkIsc0NBQXVCLENBQUE7SUFDdkIsc0NBQXVCLENBQUE7SUFDdkIsc0NBQXVCLENBQUE7QUFDM0IsQ0FBQyxFQVBXLFdBQVcsS0FBWCxXQUFXLFFBT3RCO0FBRUQsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHO0lBQ2xCLFVBQVU7SUFDVixHQUFHLEVBQUU7UUFDRCxJQUFJLEVBQUUsV0FBVyxDQUFDLE9BQU87UUFDekIsT0FBTyxFQUFFLFdBQVcsQ0FBQyxPQUFPO1FBRTVCLElBQUksRUFBRSxXQUFXLENBQUMsT0FBTztRQUN6QixPQUFPLEVBQUUsV0FBVyxDQUFDLE9BQU87S0FDL0I7SUFFRCxRQUFRO0lBQ1IsR0FBRyxFQUFFO1FBQ0QsSUFBSSxFQUFFLFdBQVcsQ0FBQyxPQUFPO1FBQ3pCLE9BQU8sRUFBRSxXQUFXLENBQUMsT0FBTztRQUU1QixJQUFJLEVBQUUsV0FBVyxDQUFDLE9BQU87UUFDekIsT0FBTyxFQUFFLFdBQVcsQ0FBQyxPQUFPO0tBQy9CO0lBRUQsZUFBZTtJQUNmLEdBQUcsRUFBRTtRQUNELElBQUksRUFBRSxXQUFXLENBQUMsT0FBTztRQUN6QixPQUFPLEVBQUUsV0FBVyxDQUFDLE9BQU87UUFFNUIsSUFBSSxFQUFFLFdBQVcsQ0FBQyxPQUFPO1FBQ3pCLE9BQU8sRUFBRSxXQUFXLENBQUMsT0FBTztLQUMvQjtDQUNKLENBQUM7QUFFRixNQUFNLENBQU4sSUFBWSxTQTBCWDtBQTFCRCxXQUFZLFNBQVM7SUFDakIsb0NBQXVCLENBQUE7SUFDdkIsNEJBQWUsQ0FBQTtJQUNmLDRCQUFlLENBQUE7SUFDZix3QkFBVyxDQUFBO0lBQ1gsMEJBQWEsQ0FBQTtJQUNiLDRCQUFlLENBQUE7SUFDZiw0QkFBZSxDQUFBO0lBQ2YsNEJBQWUsQ0FBQTtJQUNmLDhCQUFpQixDQUFBO0lBQ2pCLDhCQUFpQixDQUFBO0lBQ2pCLDBCQUFhLENBQUE7SUFDYiw0QkFBZSxDQUFBO0lBQ2YsNEJBQWUsQ0FBQTtJQUNmLDRCQUFlLENBQUE7SUFDZiw4QkFBaUIsQ0FBQTtJQUNqQiw4QkFBaUIsQ0FBQTtJQUNqQixrQ0FBcUIsQ0FBQTtJQUNyQiw4QkFBaUIsQ0FBQTtJQUVqQixNQUFNO0lBQ04sNkRBQWdELENBQUE7SUFDaEQsdURBQTBDLENBQUE7SUFDMUMseURBQTRDLENBQUE7SUFDNUMsbURBQXNDLENBQUE7SUFDdEMseURBQTRDLENBQUE7QUFDaEQsQ0FBQyxFQTFCVyxTQUFTLEtBQVQsU0FBUyxRQTBCcEIifQ==","export var ShiftInStatus;\n(function (ShiftInStatus) {\n    ShiftInStatus[\"Committed\"] = \"shiftIn_committed\";\n    ShiftInStatus[\"Deposited\"] = \"shiftIn_deposited\";\n    ShiftInStatus[\"Confirmed\"] = \"shiftIn_confirmed\";\n    ShiftInStatus[\"SubmittedToRenVM\"] = \"shiftIn_submittedToRenVM\";\n    ShiftInStatus[\"ReturnedFromRenVM\"] = \"shiftIn_returnedFromRenVM\";\n    ShiftInStatus[\"SubmittedToEthereum\"] = \"shiftIn_submittedToEthereum\";\n    ShiftInStatus[\"ConfirmedOnEthereum\"] = \"shiftIn_confirmedOnEthereum\";\n})(ShiftInStatus || (ShiftInStatus = {}));\nexport var ShiftOutStatus;\n(function (ShiftOutStatus) {\n    ShiftOutStatus[\"Committed\"] = \"shiftOut_committed\";\n    ShiftOutStatus[\"SubmittedToEthereum\"] = \"shiftOut_submittedToEthereum\";\n    ShiftOutStatus[\"ConfirmedOnEthereum\"] = \"shiftOut_confirmedOnEthereum\";\n    ShiftOutStatus[\"SubmittedToRenVM\"] = \"shiftOut_submittedToRenVM\";\n    ShiftOutStatus[\"ReturnedFromRenVM\"] = \"shiftOut_returnedFromRenVM\";\n    ShiftOutStatus[\"NoBurnFound\"] = \"shiftOut_noBurnFound\";\n})(ShiftOutStatus || (ShiftOutStatus = {}));\nexport var TxStatus;\n(function (TxStatus) {\n    // TxStatusNil is used for transactions that have not been seen, or are\n    // otherwise unknown.\n    TxStatus[\"TxStatusNil\"] = \"nil\";\n    // TxStatusConfirming is used for transactions that are currently waiting\n    // for their underlying blockchain transactions to ne confirmed.\n    TxStatus[\"TxStatusConfirming\"] = \"confirming\";\n    // TxStatusPending is used for transactions that are waiting for consensus\n    // to be reached on when the transaction should be executed.\n    TxStatus[\"TxStatusPending\"] = \"pending\";\n    // TxStatusExecuting is used for transactions that are currently being\n    // executed.\n    TxStatus[\"TxStatusExecuting\"] = \"executing\";\n    // TxStatusDone is used for transactions that have been successfully\n    // executed.\n    TxStatus[\"TxStatusDone\"] = \"done\";\n    // TxStatusReverted is used for transactions that were reverted during\n    // execution.\n    TxStatus[\"TxStatusReverted\"] = \"reverted\";\n})(TxStatus || (TxStatus = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHlwZXMvdHlwZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUEsTUFBTSxDQUFOLElBQVksYUFRWDtBQVJELFdBQVksYUFBYTtJQUNyQixnREFBK0IsQ0FBQTtJQUMvQixnREFBK0IsQ0FBQTtJQUMvQixnREFBK0IsQ0FBQTtJQUMvQiw4REFBNkMsQ0FBQTtJQUM3QyxnRUFBK0MsQ0FBQTtJQUMvQyxvRUFBbUQsQ0FBQTtJQUNuRCxvRUFBbUQsQ0FBQTtBQUN2RCxDQUFDLEVBUlcsYUFBYSxLQUFiLGFBQWEsUUFReEI7QUFFRCxNQUFNLENBQU4sSUFBWSxjQU9YO0FBUEQsV0FBWSxjQUFjO0lBQ3RCLGtEQUFnQyxDQUFBO0lBQ2hDLHNFQUFvRCxDQUFBO0lBQ3BELHNFQUFvRCxDQUFBO0lBQ3BELGdFQUE4QyxDQUFBO0lBQzlDLGtFQUFnRCxDQUFBO0lBQ2hELHNEQUFvQyxDQUFBO0FBQ3hDLENBQUMsRUFQVyxjQUFjLEtBQWQsY0FBYyxRQU96QjtBQUVELE1BQU0sQ0FBTixJQUFZLFFBbUJYO0FBbkJELFdBQVksUUFBUTtJQUNoQix1RUFBdUU7SUFDdkUscUJBQXFCO0lBQ3JCLCtCQUFtQixDQUFBO0lBQ25CLHlFQUF5RTtJQUN6RSxnRUFBZ0U7SUFDaEUsNkNBQWlDLENBQUE7SUFDakMsMEVBQTBFO0lBQzFFLDREQUE0RDtJQUM1RCx1Q0FBMkIsQ0FBQTtJQUMzQixzRUFBc0U7SUFDdEUsWUFBWTtJQUNaLDJDQUErQixDQUFBO0lBQy9CLG9FQUFvRTtJQUNwRSxZQUFZO0lBQ1osaUNBQXFCLENBQUE7SUFDckIsc0VBQXNFO0lBQ3RFLGFBQWE7SUFDYix5Q0FBNkIsQ0FBQTtBQUNqQyxDQUFDLEVBbkJXLFFBQVEsS0FBUixRQUFRLFFBbUJuQiJ9","// Modified from web3-core-method\n/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file PromiEvent.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>, Samuel Furter <samuel@ethereum.org>\n * @date 2018\n */\n// tslint:disable: no-any\nimport { EventEmitter } from \"events\";\nexport class InternalPromiEvent {\n    /**\n     * @constructor\n     */\n    constructor() {\n        // tslint:disable-next-line: promise-must-complete\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n        this._cancelled = false;\n        this.eventEmitter = new EventEmitter();\n        return new Proxy(this, {\n            get: this.proxyHandler\n        });\n    }\n    /**\n     * Proxy handler to call the promise or eventEmitter methods\n     */\n    proxyHandler(target, name) {\n        if (name === \"resolve\" || name === \"reject\") {\n            return target[name];\n        }\n        if (name === \"then\") {\n            return target.promise.then.bind(target.promise);\n        }\n        if (name === \"catch\") {\n            return target.promise.catch.bind(target.promise);\n        }\n        if (name === \"_cancel\") {\n            // tslint:disable-next-line: no-object-mutation\n            return () => { this._cancelled = true; };\n        }\n        if (name === \"_isCancelled\") {\n            // tslint:disable-next-line: no-object-mutation\n            return () => this._cancelled === true;\n        }\n        // tslint:disable-next-line: no-if-statement\n        if (target.eventEmitter[name]) {\n            return target.eventEmitter[name];\n        }\n    }\n}\nexport const newPromiEvent = () => new InternalPromiEvent();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9wcm9taUV2ZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQztBQUVqQzs7Ozs7Ozs7Ozs7Ozs7O0VBZUU7QUFDRjs7OztHQUlHO0FBRUgseUJBQXlCO0FBRXpCLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFdEMsTUFBTSxPQUFPLGtCQUFrQjtJQTZCM0I7O09BRUc7SUFDSDtRQUNJLGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksT0FBTyxDQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1lBQzlDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3pCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFFeEIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXZDLE9BQU8sSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ25CLEdBQUcsRUFBRSxJQUFJLENBQUMsWUFBWTtTQUN6QixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxZQUFZLENBQUMsTUFBaUMsRUFBRSxJQUFZO1FBQy9ELElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO1lBQ3pDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3ZCO1FBRUQsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQ2pCLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNuRDtRQUVELElBQUksSUFBSSxLQUFLLE9BQU8sRUFBRTtZQUNsQixPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDcEQ7UUFFRCxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDcEIsK0NBQStDO1lBQy9DLE9BQU8sR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLElBQUksS0FBSyxjQUFjLEVBQUU7WUFDekIsK0NBQStDO1lBQy9DLE9BQU8sR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxJQUFJLENBQUM7U0FDekM7UUFFRCw0Q0FBNEM7UUFDNUMsSUFBSyxNQUFNLENBQUMsWUFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNwQyxPQUFRLE1BQU0sQ0FBQyxZQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzdDO0lBQ0wsQ0FBQztDQUNKO0FBSUQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLEdBQTBELEVBQUUsQ0FBQyxJQUFJLGtCQUFrQixFQUE4QyxDQUFDIn0=","/**\n * Represents 1 second for functions that accept a parameter in milliseconds.\n */\nexport const SECONDS = 1000;\n/**\n * Pauses the thread for the specified number of milliseconds.\n * @param ms The number of milliseconds to pause for.\n */\nexport const sleep = async (ms) => new Promise(resolve => setTimeout(resolve, ms));\n/**\n * Remove 0x prefix from a hex string. If the input doesn't have a 0x prefix,\n * it's returned unchanged.\n * @param hex The hex value to be prefixed.\n */\nexport const strip0x = (hex) => hex.substring(0, 2) === \"0x\" ? hex.slice(2) : hex;\n/**\n * Add a 0x prefix to a hex value, converting to a string first. If the input\n * is already prefixed, it's returned unchanged.\n * @param hex The hex value to be prefixed.\n */\nexport const Ox = (hex) => {\n    const hexString = typeof hex === \"string\" ? hex : hex.toString(\"hex\");\n    return hexString.substring(0, 2) === \"0x\" ? hexString : `0x${hexString}`;\n};\n/**\n * Returns a hex string filled with zeroes (prefixed with '0x').\n * @param bytes The number of bytes.\n */\nexport const NULL = (bytes) => Ox(\"00\".repeat(bytes));\n/**\n * Converts an Ethereum ABI and values to the parameters expected by RenJS\n * for shifting in.\n * @param options The ABI of the function, or ABI of the contract and the\n *                function name.\n * @param args The values of the parameters - one per function input.\n */\n// tslint:disable-next-line: no-any\nexport const abiToParams = (options, ...args) => {\n    const { fnABI, contractABI, fnName } = options;\n    const abi = fnABI || (contractABI ? contractABI.filter(x => x.type === \"function\" && x.name === fnName)[0] : undefined);\n    if (!abi) {\n        throw new Error(fnName ? `Unable to find ABI for function ${fnName}.` : `Invalid ABI passed in.`);\n    }\n    const inputs = abi.inputs || [];\n    if (inputs.length !== args.length) {\n        throw new Error(`Mismatched parameter count. Expected ${inputs.length} but got ${args.length} inputs.`);\n    }\n    return inputs.map((input, i) => ({\n        name: input.name,\n        value: args[i],\n        type: input.type,\n    }));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbHMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0E7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBRTVCOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxLQUFLLEVBQUUsRUFBVSxFQUFpQixFQUFFLENBQ3JELElBQUksT0FBTyxDQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBRzFEOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxHQUFXLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0FBRTFGOzs7O0dBSUc7QUFDSCxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUF5QixFQUFFLEVBQUU7SUFDNUMsTUFBTSxTQUFTLEdBQUcsT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLEVBQUUsQ0FBQztBQUM3RSxDQUFDLENBQUM7QUFFRjs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxLQUFhLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFFOUQ7Ozs7OztHQU1HO0FBQ0gsbUNBQW1DO0FBQ25DLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFzQixPQUFnRSxFQUFFLEdBQUcsSUFBZSxFQUFXLEVBQUU7SUFDOUksTUFBTSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBZ0UsQ0FBQztJQUV4RyxNQUFNLEdBQUcsR0FBRyxLQUFLLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFVBQVUsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUV4SCxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ04sTUFBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLG1DQUFtQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsd0JBQXdCLENBQUMsQ0FBQztLQUNyRztJQUVELE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDO0lBRWhDLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsd0NBQXdDLE1BQU0sQ0FBQyxNQUFNLFlBQVksSUFBSSxDQUFDLE1BQU0sVUFBVSxDQUFDLENBQUM7S0FDM0c7SUFFRCxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtRQUNoQixLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtLQUNuQixDQUFDLENBQUMsQ0FBQztBQUNSLENBQUMsQ0FBQyJ9","/**\n * The `value` function converts between different cryptocurrency units.\n * See `value.spec.ts` for example usage.\n */\nimport BigNumber from \"bignumber.js\";\nconst convert = (valueIn, fromUnit, toUnit) => {\n    return valueIn.multipliedBy(fromUnit).dividedBy(toUnit);\n};\nexport const toBigNumber = (valueIn) => BigNumber.isBigNumber(valueIn) ? new BigNumber(valueIn) : new BigNumber(valueIn.toString());\nexport const toFixed = (input) => input.toFixed ? input.toFixed() : input.toString();\nclass BaseValue {\n    constructor(unitTypes, valueIn, unit) {\n        // tslint:disable-next-line: no-use-before-declare\n        this.to = (unit) => convert(this.value, new BigNumber(\"1\"), this.unitTypes[resolveUnit(unit)]);\n        this.unitTypes = unitTypes;\n        this.value = convert(toBigNumber(valueIn), this.unitTypes[unit], new BigNumber(\"1\"));\n    }\n}\n// BTC /////////////////////////////////////////////////////////////////////////\nconst BTCUnits = {\n    sats: new BigNumber(\"0.00000001\"),\n    ubtc: new BigNumber(\"0.000001\"),\n    mbtc: new BigNumber(\"0.001\"),\n    btc: new BigNumber(\"1\"),\n};\nclass BTCValue extends BaseValue {\n    constructor(valueIn, unit) {\n        super(BTCUnits, valueIn, unit);\n        this.sats = () => this.to(\"sats\");\n        this.btc = () => this.to(\"btc\");\n        this._smallest = () => this.to(\"sats\");\n        this._readable = () => this.to(\"btc\");\n    }\n}\nBTCValue.units = BTCUnits;\nBTCValue.synonyms = [{ synonyms: [\"bitcoin\", \"bitcoins\", \"tbtc\"], unit: \"btc\" }]; // tbtc is used to indicate testnet btc\n// BCH /////////////////////////////////////////////////////////////////////////\nconst BCHUnits = {\n    sats: new BigNumber(\"0.00000001\"),\n    ubch: new BigNumber(\"0.000001\"),\n    mbch: new BigNumber(\"0.001\"),\n    bch: new BigNumber(\"1\"),\n};\nclass BCHValue extends BaseValue {\n    constructor(valueIn, unit) {\n        super(BCHUnits, valueIn, unit);\n        this.sats = () => this.to(\"sats\");\n        this.bch = () => this.to(\"bch\");\n        this._smallest = () => this.to(\"sats\");\n        this._readable = () => this.to(\"bch\");\n    }\n}\nBCHValue.units = BCHUnits;\nBCHValue.synonyms = [{ synonyms: [\"bitcoin-cash\", \"bcash\", \"tbch\"], unit: \"btc\" }];\n// ZEC /////////////////////////////////////////////////////////////////////////\nconst ZECUnits = {\n    zats: new BigNumber(\"0.00000001\"),\n    uzec: new BigNumber(\"0.000001\"),\n    mzec: new BigNumber(\"0.001\"),\n    zec: new BigNumber(\"1\"),\n};\nclass ZECValue extends BaseValue {\n    constructor(valueIn, unit) {\n        super(ZECUnits, valueIn, unit);\n        this.zats = () => this.to(\"zats\");\n        this.zec = () => this.to(\"zec\");\n        this._smallest = () => this.to(\"zats\");\n        this._readable = () => this.to(\"zec\");\n    }\n}\nZECValue.units = ZECUnits;\nZECValue.synonyms = [{ synonyms: [\"zcash\", \"tzec\", \"taz\"], unit: \"zec\" }];\n// Sats ////////////////////////////////////////////////////////////////////////\nconst SatsUnits = {\n    sats: new BigNumber(\"0.00000001\"),\n    bch: new BigNumber(\"1\"),\n    btc: new BigNumber(\"1\"),\n};\nclass SatsValue extends BaseValue {\n    constructor(valueIn, unit) {\n        super(SatsUnits, valueIn, unit);\n        this.sats = () => this.to(\"sats\");\n        this.btc = () => this.to(\"btc\");\n        this.bch = () => this.to(\"bch\");\n        this._smallest = () => this.to(\"sats\");\n        this._readable = () => this.to(\"btc\");\n    }\n}\nSatsValue.units = SatsUnits;\nSatsValue.synonyms = [{}];\n// ETH /////////////////////////////////////////////////////////////////////////\nconst ETHUnits = {\n    wei: new BigNumber(\"0.000000000000000001\"),\n    kwei: new BigNumber(\"0.000000000000001\"),\n    mwei: new BigNumber(\"0.000000000001\"),\n    gwei: new BigNumber(\"0.000000001\"),\n    finney: new BigNumber(\"0.001\"),\n    eth: new BigNumber(\"1\"),\n};\nclass ETHValue extends BaseValue {\n    constructor(valueIn, unit) {\n        super(ETHUnits, valueIn, unit);\n        this.wei = () => this.to(\"wei\");\n        this.eth = () => this.to(\"eth\");\n        this._smallest = () => this.to(\"wei\");\n        this._readable = () => this.to(\"eth\");\n    }\n}\nETHValue.units = ETHUnits;\nETHValue.synonyms = [{ synonyms: [\"ethereum\", \"ether\", \"keth\"], unit: \"eth\" }];\n////////////////////////////////////////////////////////////////////////////////\n// General /////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////\nconst valueClasses = [BTCValue, BCHValue, ZECValue, ETHValue];\nconst resolveUnit = (unitIn) => {\n    const unit = unitIn.toLowerCase().replace(/µ/, \"u\");\n    // Satoshis\n    if (unit.slice(0, 3) === \"sat\") {\n        return \"sats\";\n    }\n    for (const ValueClass of valueClasses) {\n        // Check if the unit belongs to the class\n        if (new Set(Object.keys(ValueClass.units)).has(unit)) {\n            return unit;\n        }\n        // Handle synonyms\n        for (const { synonyms, unit: synonymUnit } of ValueClass.synonyms) {\n            if (new Set(synonyms).has(unit)) {\n                return synonymUnit;\n            }\n        }\n    }\n    throw new Error(`Unknown unit ${unitIn}`);\n};\nexport const value = (valueIn, unitIn) => {\n    const unit = resolveUnit(unitIn);\n    // Satoshis\n    if (unit === \"sats\") {\n        return new SatsValue(valueIn, \"sats\");\n    }\n    for (const ValueClass of valueClasses) {\n        // Check if the unit belongs to the class\n        if (new Set(Object.keys(ValueClass.units)).has(unit)) {\n            return new ValueClass(valueIn, unit);\n        }\n    }\n    throw new Error(`Unknown unit ${unitIn}`);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsdWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbHMvdmFsdWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBRUgsT0FBTyxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBSXJDLE1BQU0sT0FBTyxHQUFHLENBQUMsT0FBa0IsRUFBRSxRQUFtQixFQUFFLE1BQWlCLEVBQUUsRUFBRTtJQUMzRSxPQUFPLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzVELENBQUMsQ0FBQztBQUlGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLE9BQW9CLEVBQWEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztBQUM1SixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxLQUEyRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztBQUUzSixNQUFNLFNBQVM7SUFHWCxZQUFZLFNBQVksRUFBRSxPQUFvQixFQUFFLElBQWE7UUFDN0Qsa0RBQWtEO1FBQzNDLE9BQUUsR0FBRyxDQUFDLElBQWEsRUFBYSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBYyxDQUFZLENBQUMsQ0FBQyxDQUFDO1FBRnpFLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQUMs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","import { createBCHAddress, getBitcoinCashUTXOs } from \"@renproject/chains/build/main/bch\";\nimport { createBTCAddress, getBitcoinUTXOs } from \"@renproject/chains/build/main/btc\";\nimport { createZECAddress, getZcashUTXOs } from \"@renproject/chains/build/main/zec\";\nimport { Asset, Chain, NULL, Ox, RenContract, ShiftedToken, strip0x, value, } from \"@renproject/interfaces\";\nimport BigNumber from \"bignumber.js\";\nimport { crypto } from \"bitcore-lib\";\nimport BN from \"bn.js\";\nimport { ecrecover, keccak256, pubToAddress } from \"ethereumjs-util\";\nimport { AbiCoder } from \"web3-eth-abi\";\nimport { keccak256 as web3Keccak256 } from \"web3-utils\";\nimport { bchUtils, btcUtils, zecUtils } from \"./assets\";\n// Pad a hex string if necessary so that its length is even\n// export const evenHex = (hex: string) => hex.length % 2 ? `0${strip0x(hex)}` : hex;\nconst unzip = (zip) => [zip.map(param => param.type), zip.map(param => param.value)];\n// tslint:disable-next-line:no-any\nconst rawEncode = (types, parameters) => (new AbiCoder()).encodeParameters(types, parameters);\n// tslint:disable-next-line: no-any\nexport const generatePHash = (...zip) => {\n    // You can annotate values passed in to soliditySha3.\n    // Example: { type: \"address\", value: srcToken }\n    // Check if they called as hashPayload([...]) instead of hashPayload(...)\n    const args = Array.isArray(zip) ? zip[0] : zip; // tslint:disable-line: no-any\n    // If the payload is empty, use 0x0\n    if (args.length === 0) {\n        return NULL(32);\n    }\n    const [types, values] = unzip(args);\n    return Ox(keccak256(rawEncode(types, values))); // sha3 can accept a Buffer\n};\nconst renContractRegex = /^(.*)0(.*)2(.*)$/;\nconst defaultMatch = [undefined, undefined, undefined, undefined];\n// parseRenContract splits an action (e.g. `BTC0Eth2Btc`) into the asset\n// (`BTC`), the from chain (`Eth`)\nexport const parseRenContract = (renContract) => {\n    // re.exec(\"BTC0Eth2Btc\") => ['BTC0Eth2Btc', 'BTC', 'Eth', 'Btc']\n    const [, asset, from, to] = renContractRegex.exec(renContract) || defaultMatch;\n    if (!asset || !from || !to) {\n        throw new Error(`Invalid Ren Contract \"${renContract}\"`);\n    }\n    return {\n        asset: asset,\n        from: from,\n        to: to\n    };\n};\nexport const getTokenName = (tokenOrContract) => {\n    switch (tokenOrContract) {\n        case ShiftedToken.zBTC:\n        case ShiftedToken.zZEC:\n        case ShiftedToken.zBCH: return tokenOrContract;\n        case Asset.BTC:\n        case \"BTC\": return ShiftedToken.zBTC;\n        case Asset.ZEC:\n        case \"ZEC\": return ShiftedToken.zZEC;\n        case Asset.BCH:\n        case \"BCH\": return ShiftedToken.zBCH;\n        case Asset.ETH: throw new Error(`Unexpected token ${tokenOrContract}`);\n        default:\n            return getTokenName(parseRenContract(tokenOrContract).asset);\n    }\n};\nexport const syncGetTokenAddress = (renContract, network) => {\n    switch (parseRenContract(renContract).asset) {\n        case Asset.BTC:\n            return network.contracts.addresses.shifter.zBTC._address;\n        case Asset.ZEC:\n            return network.contracts.addresses.shifter.zZEC._address;\n        case Asset.BCH:\n            return network.contracts.addresses.shifter.zBCH._address;\n        default:\n            throw new Error(`Invalid Ren Contract ${renContract}`);\n    }\n};\nexport const generateGHash = (payload, /* amount: number | string, */ to, renContract, nonce, network) => {\n    const token = syncGetTokenAddress(renContract, network);\n    const pHash = generatePHash(payload);\n    const encoded = rawEncode([\"bytes32\", /*\"uint256\",*/ \"address\", \"address\", \"bytes32\"], [Ox(pHash), /*amount,*/ Ox(token), Ox(to), Ox(nonce)]);\n    return Ox(keccak256(encoded));\n};\nexport const generateSighash = (pHash, amount, to, renContract, nonceHash, network) => {\n    const token = syncGetTokenAddress(renContract, network);\n    const encoded = rawEncode([\"bytes32\", \"uint256\", \"address\", \"address\", \"bytes32\"], [Ox(pHash), amount, token, to, nonceHash]);\n    return Ox(keccak256(encoded));\n};\nexport const toBase64 = (input) => (Buffer.isBuffer(input) ? input : Buffer.from(strip0x(input), \"hex\")).toString(\"base64\");\nexport const renTxHashToBase64 = (renTxHash) => {\n    if (Buffer.isBuffer(renTxHash)) {\n        return renTxHash.toString(\"base64\");\n    }\n    // Check if it's hex-encoded\n    if (renTxHash.match(/^(0x)?[0-9a-fA-Z]{64}$/)) {\n        return Buffer.from(strip0x(renTxHash), \"hex\").toString(\"base64\");\n    }\n    return renTxHash;\n};\nexport const generateShiftInTxHash = (renContract, encodedID, utxo) => {\n    return renTxHashToBase64(keccak256(`txHash_${renContract}_${encodedID}_${toBase64(utxo.txid)}_${utxo.output_no}`));\n};\nexport const generateShiftOutTxHash = (renContract, encodedID) => {\n    return renTxHashToBase64(keccak256(`txHash_${renContract}_${encodedID}`));\n};\n// export const generateNHash = (tx: Tx): string => {\n//     const encoded = rawEncode(\n//         [\"bytes32\", \"bytes32\"],\n//         [Ox(tx.hash), Ox(tx.args.n)],\n//     );\n//     return Ox(keccak256(encoded));\n// };\nexport const SECONDS = 1000;\n// tslint:disable-next-line: no-string-based-set-timeout\nexport const sleep = async (milliseconds) => new Promise((resolve) => setTimeout(resolve, milliseconds));\nexport const signatureToString = (sig) => Ox(`${strip0x(sig.r)}${sig.s}${sig.v.toString(16)}`);\nconst switchV = (v) => v === 27 ? 28 : 27; // 28 - (v - 27);\nconst secp256k1n = new BN(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\", \"hex\");\nexport const fixSignature = (response, network) => {\n    if (!response.out) {\n        throw new Error(`Expected transaction response to have signature`);\n    }\n    const expectedSighash = generateSighash(response.autogen.phash, response.autogen.amount, response.in.to, response.to, response.autogen.nhash, network);\n    if (Ox(response.autogen.sighash) !== Ox(expectedSighash)) {\n        // tslint:disable-next-line: no-console\n        console.warn(`Warning: RenVM returned invalid signature hash. Expected ${expectedSighash} but for ${response.autogen.sighash}`);\n    }\n    const r = response.out.r;\n    let s = new BN(strip0x(response.out.s), \"hex\");\n    let v = ((parseInt(response.out.v || \"0\", 10) + 27) || 27);\n    // For a given key, there are two valid signatures for each signed message.\n    // We always take the one with the lower `s`.\n    if (s.gt(secp256k1n.div(new BN(2)))) {\n        // Take s = -s % secp256k1n\n        s = secp256k1n.sub(new BN(s));\n        // Switch v\n        v = switchV(v);\n    }\n    // Currently, the wrong `v` value may be returned from RenVM. We recover the\n    // address to see if we need to switch `v`. This can be removed once RenVM\n    // has been updated.\n    const recovered = {\n        [v]: pubToAddress(ecrecover(Buffer.from(strip0x(response.autogen.sighash), \"hex\"), v, Buffer.from(strip0x(r), \"hex\"), s.toArrayLike(Buffer, \"be\", 32))),\n        [switchV(v)]: pubToAddress(ecrecover(Buffer.from(strip0x(response.autogen.sighash), \"hex\"), switchV(v), Buffer.from(strip0x(r), \"hex\"), s.toArrayLike(Buffer, \"be\", 32))),\n    };\n    const expected = Buffer.from(strip0x(network.contracts.renVM.mintAuthority), \"hex\");\n    if (recovered[v].equals(expected)) {\n        // Do nothing\n    }\n    else if (recovered[switchV(v)].equals(expected)) {\n        // tslint:disable-next-line: no-console\n        console.info(\"[info][ren-js] switching v value\");\n        v = switchV(v);\n    }\n    else {\n        throw new Error(`Invalid signature - unable to recover mint authority from signature (Expected ${Ox(expected)}, got ${Ox(recovered[v])})`);\n    }\n    const signature = {\n        r,\n        s: strip0x(s.toArrayLike(Buffer, \"be\", 32).toString(\"hex\")),\n        v,\n    };\n    return signature;\n};\n// Currently should equal 0x2275318eaeb892d338c6737eebf5f31747c1eab22b63ccbc00cd93d4e785c116\nexport const BURN_TOPIC = web3Keccak256(\"LogShiftOut(bytes,uint256,uint256,bytes)\");\n// tslint:disable-next-line: no-any\nexport const ignoreError = (error) => {\n    try {\n        return (error && error.message && (error.message.match(/Invalid block number/) ||\n            error.message.match(/Timeout exceeded during the transaction confirmation process./)));\n    }\n    catch (error) {\n        return false;\n    }\n};\nexport const withDefaultAccount = async (web3, config) => {\n    if (!config.from) {\n        if (web3.eth.defaultAccount) {\n            config.from = web3.eth.defaultAccount;\n        }\n        else {\n            const accounts = await web3.eth.getAccounts();\n            if (accounts.length === 0) {\n                throw new Error(\"Must provide a 'from' address in the transaction config.\");\n            }\n            config.from = accounts[0];\n        }\n    }\n    return config;\n};\n// tslint:disable-next-line: no-any\nexport const extractError = (error) => {\n    if (typeof error === \"object\") {\n        if (error.response) {\n            return extractError(error.response);\n        }\n        if (error.data) {\n            return extractError(error.data);\n        }\n        if (error.error) {\n            return extractError(error.error);\n        }\n        if (error.message) {\n            return extractError(error.message);\n        }\n        if (error.statusText) {\n            return extractError(error.statusText);\n        }\n        try {\n            return JSON.stringify(error);\n        }\n        catch (error) {\n            // Ignore JSON error\n        }\n    }\n    return String(error);\n};\nexport const retryNTimes = async (fnCall, retries) => {\n    let returnError;\n    // tslint:disable-next-line: no-constant-condition\n    for (let i = 0; retries === -1 || i < retries; i++) {\n        // if (i > 0) {\n        //     console.debug(`Retrying...`);\n        // }\n        try {\n            return await fnCall();\n        }\n        catch (error) {\n            if (String(error).match(/timeout of .* exceeded/)) {\n                returnError = error;\n            }\n            else {\n                const errorMessage = extractError(error);\n                if (errorMessage) {\n                    error.message += ` (${errorMessage})`;\n                }\n                returnError = error;\n            }\n        }\n    }\n    throw returnError;\n};\n/**\n * Generates a random hex string (prefixed with '0x').\n * @param bytes The number of bytes to generate.\n */\nexport const randomBytes = (bytes) => {\n    try {\n        // @ts-ignore\n        if (window) {\n            const uints = new Uint32Array(bytes / 4); // 4 bytes (32 bits)\n            // @ts-ignore\n            window.crypto.getRandomValues(uints);\n            let str = \"\";\n            for (const uint of uints) {\n                str += \"0\".repeat(8 - uint.toString(16).length) + uint.toString(16);\n            }\n            return Ox(str);\n        }\n    }\n    catch (error) {\n        // Ignore error\n    }\n    return Ox(crypto.Random.getRandomBuffer(bytes));\n};\n/**\n * Returns a random 32 byte hex string (prefixed with '0x').\n */\nexport const randomNonce = () => randomBytes(32);\n/**\n * Waits for the receipt of a transaction to be available, retrying every 3\n * seconds until it is.\n *\n * @param web3 A web3 instance.\n * @param transactionHash The hash of the transaction being read.\n *\n * @/param nonce The nonce of the transaction, to detect if it has been\n *        overwritten.\n */\nexport const waitForReceipt = async (web3, transactionHash /*, nonce?: number*/) => {\n    // TODO: Handle transactions being overwritten.\n    // Wait for confirmation\n    let receipt;\n    while (!receipt || !receipt.blockHash) {\n        receipt = (await web3.eth.getTransactionReceipt(transactionHash));\n        if (receipt && receipt.blockHash) {\n            break;\n        }\n        await sleep(3 * 1000);\n    }\n    // Status might be undefined - so check against `false` explicitly.\n    if (receipt.status === false) {\n        throw new Error(`Transaction was reverted. { \"transactionHash\": \"${transactionHash}\" }`);\n    }\n    return receipt;\n};\nexport const toBigNumber = (n) => BigNumber.isBigNumber(n) ? new BigNumber(n.toFixed()) : new BigNumber(n.toString());\nexport const getTokenAddress = async (network, web3, tokenOrContract) => {\n    try {\n        const shifterRegistry = new web3.eth.Contract(network.contracts.addresses.shifter.ShifterRegistry.abi, network.contracts.addresses.shifter.ShifterRegistry.address);\n        return await shifterRegistry.methods.getTokenBySymbol(getTokenName(tokenOrContract)).call();\n    }\n    catch (error) {\n        (error || {}).error = `Error looking up ${tokenOrContract} token address: ${error.message}`;\n        throw error;\n    }\n};\nexport const getShifterAddress = async (network, web3, tokenOrContract) => {\n    try {\n        const shifterRegistry = new web3.eth.Contract(network.contracts.addresses.shifter.ShifterRegistry.abi, network.contracts.addresses.shifter.ShifterRegistry.address);\n        return await shifterRegistry.methods.getShifterBySymbol(getTokenName(tokenOrContract)).call();\n    }\n    catch (error) {\n        (error || {}).error = `Error looking up ${tokenOrContract} shifter address: ${error.message}`;\n        throw error;\n    }\n};\nexport const assert = (assertion, sentence) => {\n    if (!assertion) {\n        throw new Error(`Failed assertion${sentence ? `: ${sentence}` : \"\"}`);\n    }\n    return true;\n};\n// export const generateNHash = (tx: Tx): string => {\n//     const encoded = rawEncode(\n//         [\"bytes32\", \"bytes32\"],\n//         [Ox(tx.hash), Ox(tx.args.n)],\n//     );\n//     return Ox(keccak256(encoded));\n// };\n// Generates the gateway address\nexport const generateAddress = (renContract, gHash, network) => {\n    const chain = parseRenContract(renContract).from;\n    const mpkh = network.contracts.renVM.mpkh;\n    switch (chain) {\n        case Chain.Bitcoin:\n            return createBTCAddress(network.isTestnet, mpkh, gHash);\n        case Chain.Zcash:\n            return createZECAddress(network.isTestnet, mpkh, gHash);\n        case Chain.BitcoinCash:\n            return createBCHAddress(network.isTestnet, mpkh, gHash);\n        default:\n            throw new Error(`Unable to generate deposit address for chain ${chain}`);\n    }\n};\n// Retrieves unspent deposits at the provided address\nexport const retrieveDeposits = async (_network, renContract, depositAddress, confirmations = 0) => {\n    const chain = parseRenContract(renContract).from;\n    switch (chain) {\n        case Chain.Bitcoin:\n            return (await getBitcoinUTXOs(_network)(depositAddress, confirmations)).map((utxo) => ({ chain: Chain.Bitcoin, utxo }));\n        case Chain.Zcash:\n            return (await getZcashUTXOs(_network)(depositAddress, confirmations)).map((utxo) => ({ chain: Chain.Zcash, utxo }));\n        case Chain.BitcoinCash:\n            // tslint:disable-next-line: no-unnecessary-type-assertion\n            return (await getBitcoinCashUTXOs(_network)(depositAddress, confirmations)).map((utxo) => ({ chain: Chain.BitcoinCash, utxo }));\n        default:\n            throw new Error(`Unable to retrieve deposits for chain ${chain}`);\n    }\n};\nexport const utils = {\n    Ox,\n    strip0x,\n    randomNonce,\n    value,\n    // Bitcoin\n    BTC: btcUtils,\n    btc: btcUtils,\n    // Zcash\n    ZEC: zecUtils,\n    zec: zecUtils,\n    // Bitcoin Cash\n    BCH: bchUtils,\n    bch: bchUtils,\n};\n// TODO: Fetch from contract\nexport const DEFAULT_SHIFT_FEE = new BigNumber(10000);\nexport const resolveInToken = (sendToken) => {\n    switch (sendToken) {\n        case \"BTC\":\n            return RenContract.Btc2Eth;\n        case \"BCH\":\n            return RenContract.Bch2Eth;\n        case \"ZEC\":\n            return RenContract.Zec2Eth;\n        default:\n            return sendToken;\n    }\n};\nexport const resolveOutToken = (sendToken) => {\n    switch (sendToken) {\n        case \"BTC\":\n            return RenContract.Eth2Btc;\n        case \"BCH\":\n            return RenContract.Eth2Bch;\n        case \"ZEC\":\n            return RenContract.Eth2Zec;\n        default:\n            return sendToken;\n    }\n};\nexport const resolveSendTo = ({ shiftIn }) => (params) => {\n    params.sendToken = shiftIn ? resolveInToken(params.sendToken) : resolveOutToken(params.sendToken);\n    return params;\n};\n/**\n * `resolveContractCall` simplifies the arguments required by RenJS by allowing\n * developers to pass in a non-contract address as the `sendTo` field.\n * This function checks if this is the case and makes the required changes to\n * the parameters;\n */\nexport const resolveSendCall = async (web3, network, params) => {\n    const { sendTo, txConfig, ...restOfParams } = params;\n    // The contract call hasn't been provided - but `sendTo` has. We overwrite\n    // the contract call with a simple adapter call.\n    const shiftIn = sendTo.match(/^(0x)[0-9a-fA-Z]{40}$/);\n    const sendToken = shiftIn ? resolveInToken(params.sendToken) : resolveOutToken(params.sendToken);\n    const renContract = parseRenContract(sendToken);\n    if (renContract.to === Chain.Ethereum) {\n        // Shift in\n        return {\n            ...restOfParams,\n            suggestedAmount: restOfParams.sendAmount,\n            contractCalls: [{\n                    sendTo: \"0x2Faa571A69aed0CdE2d3C96c0Dce9D2aa2E3806C\",\n                    contractFn: \"shiftIn\",\n                    contractParams: [\n                        { type: \"address\", name: \"_shifter\", value: network.contracts.addresses.shifter[`${renContract.asset}Shifter`]._address },\n                        { type: \"address\", name: \"_shiftedToken\", value: network.contracts.addresses.shifter[`z${renContract.asset}`]._address },\n                        { type: \"address\", name: \"_address\", value: sendTo },\n                    ],\n                    txConfig,\n                }],\n        };\n    }\n    else {\n        // Shift out\n        const { sendAmount, ...restOfBurnParams } = restOfParams;\n        if (!sendAmount) {\n            throw new Error(`Send amount must be provided in order to send directly to an address.`);\n        }\n        const addressToHex = utils[parseRenContract(sendToken).asset].addressToHex(sendTo);\n        const shiftedTokenAddress = await getTokenAddress(network, web3, sendToken);\n        const approve = {\n            sendTo: shiftedTokenAddress,\n            contractFn: \"approve\",\n            contractParams: [\n                { type: \"address\", name: \"spender\", value: network.contracts.addresses.shifter.BasicAdapter.address },\n                { type: \"uint256\", name: \"amount\", value: toBigNumber(sendAmount).toFixed() },\n            ],\n            txConfig,\n        };\n        return {\n            ...restOfBurnParams,\n            suggestedAmount: restOfParams.sendAmount,\n            contractCalls: [\n                approve,\n                {\n                    sendTo: network.contracts.addresses.shifter.BasicAdapter.address,\n                    contractFn: \"shiftOut\",\n                    contractParams: [\n                        { type: \"address\", name: \"_shifterRegistry\", value: network.contracts.addresses.shifter.ShifterRegistry.address },\n                        { type: \"string\", name: \"_symbol\", value: getTokenName(renContract.asset) },\n                        { type: \"bytes\", name: \"_to\", value: addressToHex },\n                        { type: \"uint256\", name: \"_amount\", value: toBigNumber(sendAmount).toFixed() },\n                    ],\n                    txConfig: { gas: 200000, ...txConfig },\n                }\n            ]\n        };\n    }\n};\nexport const processShiftInParams = (_network, _params) => {\n    const processors = [\n        resolveSendTo({ shiftIn: true }),\n    ];\n    return processors.reduce((params, processor) => processor(params), _params);\n};\nexport const processShiftOutParams = (_network, _params) => {\n    const processors = [\n        resolveSendTo({ shiftIn: false }),\n    ];\n    return processors.reduce((params, processor) => processor(params), _params);\n};\n// Type generics are not playing well.\n// export const processParameters = <T extends ShiftInParams | ShiftOutParams, K extends ShiftInParams | ShiftOutParams>(_network: NetworkDetails, _params: T, { shiftIn }: { shiftIn: T extends ShiftOutParams ? false : true }): K => {\n//     return resolveContractCall(_network, resolveSendTo(_params, { shiftIn }) as K);\n// };\nexport const extractBurnReference = async (web3, txHash) => {\n    const receipt = await waitForReceipt(web3, txHash);\n    if (!receipt.logs) {\n        throw Error(\"No events found in transaction\");\n    }\n    let burnReference;\n    for (const [, event] of Object.entries(receipt.logs)) {\n        if (event.topics[0] === BURN_TOPIC) {\n            burnReference = event.topics[1];\n            break;\n        }\n    }\n    if (!burnReference && burnReference !== 0) {\n        throw Error(\"No reference ID found in logs\");\n    }\n    return burnReference;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLG1CQUFtQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDMUYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLGVBQWUsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQ3RGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUNwRixPQUFPLEVBQ0gsS0FBSyxFQUFFLEtBQUssRUFBVyxJQUFJLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBYyxZQUFZLEVBQ3RELE9BQU8sRUFBc0IsS0FBSyxHQUNyRCxNQUFNLHdCQUF3QixDQUFDO0FBQ2hDLE9BQU8sU0FBUyxNQUFNLGNBQWMsQ0FBQztBQUNyQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN2QixPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUdyRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxTQUFTLElBQUksYUFBYSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRXhELE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQWtCeEQsMkRBQTJEO0FBQzNELHFGQUFxRjtBQUVyRixNQUFNLEtBQUssR0FBRyxDQUFDLEdBQVksRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FB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","// tslint:disable:no-any\nimport * as React from \"react\";\n\n// import { Loading } from \"@renproject/react-components\";\nimport { Container, Subscribe } from \"unstated\";\n\n// import { PersistContainer } from \"unstated-persist\";\n\ninterface AnyConnectedProps {\n    containers: Array<Container<any>>;\n}\nexport interface ConnectedProps<Containers extends any[]> {\n    containers: Containers;\n}\n\ntype Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n\ntype GetContainers<Props> = Props extends ConnectedProps<infer Containers> ?\n    Containers : never;\ntype GetContainerClasses<Props> = Props extends ConnectedProps<Array<infer ContainerInstance>> ?\n    Array<new (...params: any[]) => ContainerInstance> : never;\n\n// const isBootstrapped = (container: Container<any> | PersistContainer<any>): boolean => {\n//     return (container as any).persist === undefined || container.state._persist_version !== undefined;\n// }\n\n// Somewhat typesafe version of https://github.com/goncy/unstated-connect\nexport const connect = <Props extends AnyConnectedProps>(_containers: GetContainerClasses<Props>) =>\n    (Component: React.ComponentClass<Props & ConnectedProps<GetContainers<Props>>> | React.StatelessComponent<Props & ConnectedProps<GetContainers<Props>>>) => (props: Omit<Props, \"containers\">) => (\n        <Subscribe to={_containers}>\n            {(...containers) =>\n                // containers.every(isBootstrapped) ?\n                <Component {...({ ...props, containers } as unknown as Props & ConnectedProps<GetContainers<Props>>)} />\n                // : <Loading />\n            }\n        </Subscribe>\n    );\n","import { OrderedMap } from \"immutable\";\nimport { Container } from \"unstated\";\nimport Web3 from \"web3\";\nimport { UTXO } from \"@renproject/utils\";\n\nimport { ETHEREUM_NODE } from \"../lib/environmentVariables\";\n\nconst initialState = {\n    // web3: new Web3(ETHEREUM_NODE),\n\n    renNetwork: undefined as string | undefined,\n    wrongNetwork: undefined as number | undefined,\n    expectedNetwork: undefined as string | undefined,\n\n    loggedOut: null as string | null,\n    paused: false,\n\n    // address: null as string | null,\n    utxos: OrderedMap<string, UTXO>(),\n\n    gatewayPopupID: null as string | null,\n};\n\nexport class UIContainer extends Container<typeof initialState> {\n    public state = initialState;\n\n    // public connect = async (web3: Web3, address: string | null): Promise<void> => this.setState(state => ({ ...state, web3, address, loggedOut: null }));\n    public connect = async (): Promise<void> => this.setState(state => ({ ...state, loggedOut: null }));\n\n    public clearAddress = async (): Promise<void> => this.setState(state => ({ ...state, address: null }));\n\n    public handleShift = async (gatewayPopupID: string | null) => this.setState(state => ({ ...state, submitting: false, gatewayPopupID }));\n\n    public resetTrade = async () => this.setState(state => ({ ...state, gatewayPopupID: null, submitting: false }));\n\n    public deposit = async (deposit: UTXO) => this.setState(state => ({ ...state, utxos: this.state.utxos.set(deposit.utxo.txid, deposit) }));\n\n    public setSubmitting = async (submitting: boolean) => this.setState(state => ({ ...state, submitting }));\n\n    public setLoggedOut = async (loggedOut?: string) => this.setState(state => ({ ...state, loggedOut: loggedOut || null }));\n\n    public pause = async () => this.setState(state => ({ ...state, paused: true }));\n    public resume = async () => this.setState(state => ({ ...state, paused: false }));\n    // /**\n    //  * lookForLogout detects if the user has changed or logged out of their Web3\n    //  * wallet\n    //  */\n    // public lookForLogout = async () => {\n    //     const { address, web3 } = this.state;\n\n    //     if (!address || !web3) { return; }\n\n    //     const accounts = (await web3.eth.getAccounts())\n    //         .map((web3Address: string) => web3Address.toLowerCase());\n\n    //     if (!accounts.includes(address.toLowerCase())) {\n    //         await this.clearAddress();\n    //         await this.setLoggedOut(address);\n    //     }\n    // }\n}\n","import * as React from \"react\";\n\nimport { GatewayMessage, GatewayMessageType, HistoryEvent } from \"@renproject/interfaces\";\nimport { parse as parseLocation } from \"qs\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport { DEFAULT_NETWORK } from \"../../lib/environmentVariables\";\nimport { _catchInteractionErr_ } from \"../../lib/errors\";\nimport { _acknowledgeMessage, _addListener, postMessageToClient } from \"../../lib/postMessage\";\nimport { connect, ConnectedProps } from \"../../state/connect\";\nimport { UIContainer } from \"../../state/uiContainer\";\nimport { getStorage } from \"./Storage\";\n\n/**\n * App is the main visual component responsible for displaying different routes\n * and running background app loops\n */\nexport const GetTrades = withRouter(connect<RouteComponentProps & ConnectedProps<[UIContainer]>>([UIContainer])(\n    ({ containers: [uiContainer], location }) => {\n\n        React.useEffect(() => {\n            const queryParams = parseLocation(location.search.replace(/^\\?/, \"\"));\n            const queryShiftID = queryParams.id;\n            uiContainer.handleShift(queryShiftID).catch(console.error);\n            const renNetwork: string = queryParams.network || DEFAULT_NETWORK;\n            uiContainer.setState({ renNetwork }).catch(console.error);\n\n            // tslint:disable-next-line: no-any\n            _addListener((e: { data: GatewayMessage<any> }) => {\n                if (e.data && e.data.from === \"ren\" && e.data.frameID === uiContainer.state.gatewayPopupID) {\n                    (async () => {\n                        switch (e.data.type) {\n                            case GatewayMessageType.GetTrades:\n                                _acknowledgeMessage(e.data);\n                                const storage: Map<string, HistoryEvent> = await getStorage(uiContainer.state.renNetwork || renNetwork);\n                                postMessageToClient(window, e.data.frameID, GatewayMessageType.Trades, storage);\n                                // `GetTrades` remains for backwards compatibility\n                                postMessageToClient(window, e.data.frameID, GatewayMessageType.GetTrades, storage);\n                                break;\n                            default:\n                                // Acknowledge that we got the message. We don't\n                                // know how to handle it, but we don't want\n                                // the parent window to keep re-sending it.\n                                _acknowledgeMessage(e.data);\n                        }\n                    })().catch((error) => _catchInteractionErr_(error, \"Error in App: onMessage\"));\n                }\n            });\n            postMessageToClient(window, queryShiftID, GatewayMessageType.Ready, {});\n        }, [location.search, uiContainer]);\n\n        return <></>;\n    }\n));\n","import styled, { css } from \"styled-components\";\n\nconst onTop = (color: string) => css`\n  bottom: 110%;\n  &::after {\n      top: 100%;\n    border-color: ${color} transparent transparent transparent;\n  };\n`;\n\nconst onBottom = (color: string) => css`\n  top: 110%;\n  &::after {\n      bottom: 100%;\n    border-color: transparent transparent ${color} transparent;\n  };\n`;\n\nconst center = (width: number) => css`\n  margin-left: -${width / 2}px;\n  &::after {\n    left: 50%;\n  }\n`;\n\nconst left = (width: number) => css`\n  margin-left: -${width * 0.9}px;\n  &::after {\n    left: 90%;\n  }\n`;\n\nconst right = (width: number) => css`\n  margin-left: -${width * 0.1}px;\n  &::after {\n    left: 10%;\n  }\n`;\n\nexport const TooltipChildStyle = styled.span<{ width?: number, align?: string, direction?: string }>`\n        text-align: center;\n        visibility: hidden;\n        background-color: #333;\n        color: white;\n        padding: 10px;\n        border-radius: 4px;\n        position: absolute;\n        left: 50%;\n        width: ${props => props.width || 100}px;\n        opacity: 0;\n        transition: all 0.2s;\n        z-index: 100;\n        &::after {\n            content: \"\";\n            position: absolute;\n            margin-left: -5px;\n            border-width: 5px;\n            border-style: solid;\n        }\n        ${props => props.direction === \"bottom\" ? onBottom(\"#333\") : onTop(\"#333\")}\n        ${props => props.align === \"left\" ? left(props.width || 100) : props.align === \"right\" ? right(props.width || 100) : center(props.width || 100)}\n    `;\n\n// tslint:disable-next-line: no-any\nexport const TooltipContainerStyle = styled.span<{ child: JSX.Element }>`\n    position: relative;\n    cursor: pointer;\n        &: hover ${TooltipChildStyle} {\n        visibility: visible;\n        opacity: 1;\n    }\n    `;\n","import * as React from \"react\";\n\nimport { TooltipChildStyle, TooltipContainerStyle } from \"./TooltipStyles\";\n\nexport const Tooltip: React.FC<{\n  contents?: React.ReactNode;\n  width?: number;\n  direction?: string;\n  align?: string;\n}> = ({ contents, width, direction, align, children }) => {\n  const child = <TooltipChildStyle width={width} direction={direction} align={align}>\n    {contents}\n  </TooltipChildStyle>;\n\n  return <TooltipContainerStyle child={child}>\n    {child}\n    {children}\n  </TooltipContainerStyle>;\n};\n","import * as React from \"react\";\n\nimport styled from \"styled-components\";\n\nimport infoIcon from \"../../images/icons/info.svg\";\nimport smallLogo from \"../../images/logo-small-grey.png\";\nimport { Tooltip } from \"./tooltip/Tooltip\";\n\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-top: 1px solid #ccc;\n    position: fixed;\n    bottom:0;\n    height: 30px;\n    width: 100%;\n    font-size: 1.2rem;\n    color: rgba(0, 0, 0, 0.4);\n    padding: 0 30px;\n    z-index: 100;\n    &::before {\n        content: '';\n    }\n    `;\nconst RenVMLink = styled.a`\n    text-decoration: underline;\n    `;\n\nexport const Footer: React.FC<{}> = props => {\n    const bridgeInfo = `Your tokens will be bridged to Ethereum in a completely trustless and decentralized way.`;\n\n    return (\n        <Container>\n            <div>\n                <img alt=\"\" role=\"presentation\" src={smallLogo} style={{ width: \"10px\", marginRight: \"5px\" }} /><span>Powered by <RenVMLink href=\"https://renproject.io/renvm\" target=\"_blank\" rel=\"noopener noreferrer\">RenVM</RenVMLink></span>\n            </div>\n            <div>\n                <Tooltip align=\"left\" width={200} contents={<span>{bridgeInfo} Read more about RenVM and sMPC <a href=\"https://renproject.io/renvm\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</span>}><img alt={bridgeInfo} src={infoIcon} /></Tooltip>\n            </div>\n        </Container>\n    );\n};\n","import * as Sentry from \"@sentry/browser\";\nimport * as React from \"react\";\n\nimport { _catchInteractionErr_ } from \"../../lib/errors\";\n\nconst defaultState = { // Entries must be immutable\n    error: null as null | Error,\n    errorInfo: null as null | React.ErrorInfo,\n};\n\nexport class ErrorBoundary extends React.Component<Props, typeof defaultState> {\n    constructor(props: Props) {\n        super(props);\n        this.state = defaultState;\n    }\n\n    public componentDidCatch = (error: Error, errorInfo: React.ErrorInfo) => {\n        this.setState({\n            error,\n            errorInfo,\n        });\n        _catchInteractionErr_(error, {\n            ...errorInfo,\n            description: \"Error caught in ErrorBoundary\",\n            shownToUser: \"As Error Boundary\",\n        });\n    }\n\n    /**\n     * The main render function.\n     * @dev Should have minimal computation, loops and anonymous functions.\n     */\n    public render(): React.ReactNode {\n        const { errorInfo, error } = this.state;\n        if (errorInfo) {\n            // Error path\n            return (\n                <div className={this.props.popup ? \"popup\" : \"\"}>\n                    <h2>Something went wrong.</h2>\n                    <details style={{ whiteSpace: \"pre-wrap\" }}>\n                        {error && error.toString()}\n                        <br />\n                        {errorInfo.componentStack}\n                    </details>\n                    {this.props.popup ? <div className=\"popup--buttons\">\n                        <button onClick={this.reportFeedback}>Report feedback</button>\n                        <button onClick={this.props.onCancel}>Close</button>\n                    </div> : null\n                    }\n                </div>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n\n    private readonly reportFeedback = () => {\n        Sentry.showReportDialog();\n    }\n}\n\ninterface Props {\n    /**\n     * Popup specifies whether or not the Error Boundary is being rendered in\n     * the popup controller.\n     */\n    popup?: boolean;\n\n    /**\n     * If `popup` is true, then onCancel should also be provided.\n     */\n    onCancel?(): void;\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"braveA\",\n  y1: \"51%\",\n  y2: \"51%\"\n}, React.createElement(\"stop\", {\n  offset: 0.4,\n  stopColor: \"#f50\"\n}), React.createElement(\"stop\", {\n  offset: 0.6,\n  stopColor: \"#ff2000\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"braveB\",\n  x1: \"2%\",\n  y1: \"51%\",\n  y2: \"51%\"\n}, React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#ff452a\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#ff2000\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"url(#braveA)\",\n  d: \"M2395 723l60-147-170-176c-92-92-288-38-288-38l-222-252H992L769 363s-196-53-288 37L311 575l60 147-75 218 250 953c52 204 87 283 234 387l457 310c44 27 98 74 147 74s103-47 147-74l457-310c147-104 182-183 234-387l250-953z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M1935 524s287 347 287 420c0 75-36 94-72 133l-215 230c-20 20-63 54-38 113 25 60 60 134 20 210-40 77-110 128-155 120a820 820 0 0 1-190-90c-38-25-160-126-160-165s126-110 150-124c23-16 130-78 132-102s2-30-30-90-88-140-80-192c10-52 100-80 167-105l207-78c16-8 12-15-36-20-48-4-183-22-244-5s-163 43-173 57c-8 14-16 14-7 62l58 315c4 40 12 67-30 77-44 10-117 27-142 27s-99-17-142-27-35-37-30-77c4-40 48-268 57-315 10-48 1-48-7-62-10-14-113-40-174-57-60-17-196 1-244 6-48 4-52 10-36 20l207 77c66 25 158 53 167 105 10 53-47 132-80 192s-32 66-30 90 110 86 132 102c24 15 150 85 150 124s-119 140-159 165a820 820 0 0 1-190 90c-45 8-115-43-156-120-40-76-4-150 20-210 25-60-17-92-38-113l-215-230c-35-37-71-57-71-131s287-420 287-420l273 44c32 0 103-27 168-50 65-20 110-22 110-22s44 0 110 22 136 50 168 50c33 0 275-47 275-47zm-215 1328c18 10 7 32-10 44l-254 198c-20 20-52 50-73 50s-52-30-73-50a13200 13200 0 0 0-255-198c-16-12-27-33-10-44l150-80a870 870 0 0 1 188-73c15 0 110 34 187 73l150 80z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"url(#braveB)\",\n  d: \"M1999 363l-224-253H992L769 363s-196-53-288 37c0 0 260-23 350 123l276 47c32 0 103-27 168-50 65-20 110-22 110-22s44 0 110 22 136 50 168 50c33 0 275-47 275-47 90-146 350-123 350-123-92-92-288-38-288-38\"\n});\n\nvar SvgBrave = function SvgBrave(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 2770 2770\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBrave, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/brave.3b2eb25c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, React.createElement(\"circle\", {\n  id: \"coinbaseA\",\n  cx: 59.928,\n  cy: 59.928,\n  r: 59.928\n}), React.createElement(\"linearGradient\", {\n  x1: \"50%\",\n  y1: \"0%\",\n  x2: \"50%\",\n  y2: \"100%\",\n  id: \"coinbaseC\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2E66F8\",\n  offset: \"0%\"\n}), React.createElement(\"stop\", {\n  stopColor: \"#124ADB\",\n  offset: \"100%\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  d: \"M0 0h128v128H0z\"\n}), React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"nonzero\",\n  d: \"M0 0h128v128H0z\"\n}), React.createElement(\"path\", {\n  d: \"M0 0h128v128H0z\"\n}), React.createElement(\"path\", {\n  d: \"M19 64c0 24.853 20.147 45 45 45s45-20.147 45-45-20.147-45-45-45-45 20.147-45 45zm33.5-14.5a3 3 0 0 0-3 3v23a3 3 0 0 0 3 3h23a3 3 0 0 0 3-3v-23a3 3 0 0 0-3-3h-23z\",\n  fill: \"#FFF\"\n}), React.createElement(\"g\", {\n  transform: \"translate(4 4)\"\n}, React.createElement(\"mask\", {\n  id: \"coinbaseB\",\n  fill: \"#fff\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#coinbaseA\"\n})), React.createElement(\"g\", {\n  mask: \"url(#coinbaseB)\"\n}, React.createElement(\"path\", {\n  d: \"M0 0h119.856v119.856H0z\"\n}), React.createElement(\"rect\", {\n  fill: \"url(#coinbaseC)\",\n  fillRule: \"nonzero\",\n  width: 119.856,\n  height: 119.856,\n  rx: 48\n}), React.createElement(\"path\", {\n  d: \"M24.97 59.928c0 19.307 15.651 34.958 34.958 34.958s34.958-15.651 34.958-34.958S79.235 24.97 59.928 24.97 24.97 40.62 24.97 59.928zm26.024-11.264a2.33 2.33 0 0 0-2.33 2.33v17.868a2.33 2.33 0 0 0 2.33 2.33h17.868a2.33 2.33 0 0 0 2.33-2.33V50.994a2.33 2.33 0 0 0-2.33-2.33H50.994z\",\n  fill: \"#FFF\"\n}))));\n\nvar SvgCoinbase = function SvgCoinbase(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 128 128\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCoinbase, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/coinbase.b2fa2681.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, React.createElement(\"linearGradient\", {\n  id: \"imtokenGradient\",\n  x1: \"97.204%\",\n  x2: \"0%\",\n  y1: \"2.796%\",\n  y2: \"100%\"\n}, React.createElement(\"stop\", {\n  offset: \"0%\",\n  stopColor: \"#11C4D1\"\n}), React.createElement(\"stop\", {\n  offset: \"100%\",\n  stopColor: \"#0062AD\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"nonzero\"\n}, React.createElement(\"path\", {\n  fill: \"url(#imtokenGradient)\",\n  d: \"M23.915.624c.791 10.714-6.096 15.778-12.27 16.318C5.905 17.444.502 13.917.028 8.498c-.391-4.477 2.376-6.383 4.55-6.573 2.236-.196 4.115 1.346 4.278 3.213.157 1.795-.963 2.612-1.742 2.68-.616.054-1.391-.32-1.461-1.123-.06-.69.202-.784.138-1.517-.114-1.305-1.252-1.457-1.875-1.403-.754.066-2.122.946-1.93 3.138.193 2.211 2.313 3.958 5.092 3.715 2.999-.262 5.087-2.597 5.244-5.872a1.19 1.19 0 0 1 .107-.503l.001-.004a1.411 1.411 0 0 1 .113-.197c.064-.096.146-.202.252-.318.001-.003.001-.003.003-.003.077-.087.17-.181.275-.282 1.31-1.236 6.028-4.151 10.49-3.228a.447.447 0 0 1 .352.403\",\n  transform: \"translate(0 .5)\"\n}));\n\nvar SvgImtoken = function SvgImtoken(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 18,\n    viewBox: \"0 0 24 18\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgImtoken, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/imtoken.4de0bf70.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.st0{fill:#161616;stroke:#161616;}\\n\\t.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st2{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st3{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st4{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st5{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st6{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st7{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st8{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st9{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}\\n\\t.st10{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}\\n\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"st0\",\n  points: \"277.3,145.6 272.3,142 280.3,134.7 274.2,129.9 282.2,123.8 276.9,119.8 285.3,79 272.7,41.1  191.6,71.4 124.1,71.4 43,41.1 30.4,79 38.9,119.8 33.5,123.8 41.5,129.9 35.4,134.7 43.4,142 38.4,145.6 49.9,159.1 32.5,213.3  48.6,268.6 105.3,253 116.3,262 138.7,277.5 177,277.5 199.4,262 210.4,253 267.1,268.6 283.3,213.3 265.8,159.1 \"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null, React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"105.3,253 48.6,268.6 32.5,213.3  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"283.3,213.3 267.1,268.6 210.4,253  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"265.8,159.1 213.5,143.8 231.8,139  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"49.9,159.1 84,139 102.2,143.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"43.4,142 41.5,129.9 84,139  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"272.3,142 231.8,139 274.2,129.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"272.3,142 265.8,159.1 231.8,139  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"43.4,142 84,139 49.9,159.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"231.8,139 276.9,119.8 274.2,129.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"84,139 41.5,129.9 38.9,119.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"124.1,71.4 191.6,71.4 176.5,112.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"176.5,112.5 139.2,112.5 124.1,71.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"276.9,119.8 231.8,139 231,87.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"102.2,143.8 84,139 84.7,87.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"84.7,87.4 84,139 38.9,119.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"231,87.4 231.8,139 213.5,143.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"139.2,112.5 43,41.1 124.1,71.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st4\",\n  points: \"272.7,41.1 176.5,112.5 191.6,71.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"210.4,253 236.9,213.3 283.3,213.3  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"32.5,213.3 78.9,213.3 105.3,253  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"229.3,167.7 283.3,213.3 236.9,213.3  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"86.4,167.7 32.5,213.3 49.9,159.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"78.9,213.3 32.5,213.3 86.4,167.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"229.3,167.7 265.8,159.1 283.3,213.3  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"84.7,87.4 139.2,112.5 102.2,143.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"213.5,143.8 176.5,112.5 231,87.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"265.8,159.1 272.3,142 277.3,145.6  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"49.9,159.1 38.4,145.6 43.4,142  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"272.3,142 274.2,129.9 280.3,134.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"43.4,142 35.4,134.7 41.5,129.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"33.5,123.8 38.9,119.8 41.5,129.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"282.2,123.8 274.2,129.9 276.9,119.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"49.9,159.1 102.2,143.8 86.4,167.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"265.8,159.1 229.3,167.7 213.5,143.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"38.9,119.8 30.4,79 84.7,87.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"231,87.4 285.3,79 276.9,119.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"102.2,143.8 139.2,112.5 142.6,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"213.5,143.8 229.3,167.7 173.1,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"173.1,170.2 176.5,112.5 213.5,143.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"142.6,170.2 86.4,167.7 102.2,143.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"272.7,41.1 285.3,79 231,87.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"43,41.1 139.2,112.5 84.7,87.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"231,87.4 176.5,112.5 272.7,41.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st2\",\n  points: \"84.7,87.4 30.4,79 43,41.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"105.3,253 78.9,213.3 110,213.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"210.4,253 205.7,213.7 236.9,213.3  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"173.1,170.2 142.6,170.2 139.2,112.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"139.2,112.5 176.5,112.5 173.1,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"116.3,262 105.3,253 136.8,267.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"178.9,267.9 210.4,253 199.4,262  \"\n}), React.createElement(\"polygon\", {\n  className: \"st7\",\n  points: \"136.6,258.6 136.8,267.9 105.3,253  \"\n}), React.createElement(\"polygon\", {\n  className: \"st7\",\n  points: \"179.2,258.6 210.4,253 178.9,267.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"86.4,167.7 110,213.7 78.9,213.3  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"236.9,213.3 205.7,213.7 229.3,167.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st8\",\n  points: \"86.4,167.7 109.2,190.8 110,213.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st8\",\n  points: \"229.3,167.7 205.7,213.7 206.6,190.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st7\",\n  points: \"105.3,253 139.2,236.5 136.6,258.6  \"\n}), React.createElement(\"polygon\", {\n  className: \"st7\",\n  points: \"210.4,253 179.2,258.6 176.5,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"139.2,236.5 105.3,253 110,213.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st1\",\n  points: \"176.5,236.5 205.7,213.7 210.4,253  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"173.1,170.2 229.3,167.7 206.6,190.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"109.2,190.8 86.4,167.7 142.6,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"142.6,170.2 129.1,181.7 109.2,190.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"206.6,190.8 186.6,181.7 173.1,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"205.7,213.7 178.3,199.1 206.6,190.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"110,213.7 109.2,190.8 137.4,199.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st9\",\n  points: \"137.4,199.1 109.2,190.8 129.1,181.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st9\",\n  points: \"178.3,199.1 186.6,181.7 206.6,190.8  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"186.6,181.7 178.3,199.1 173.1,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st5\",\n  points: \"129.1,181.7 142.6,170.2 137.4,199.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"199.4,262 177,277.5 178.9,267.9  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"136.8,267.9 138.7,277.5 116.3,262  \"\n}), React.createElement(\"polygon\", {\n  className: \"st4\",\n  points: \"178.3,199.1 171.8,188.4 173.1,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st8\",\n  points: \"137.4,199.1 142.6,170.2 143.9,188.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"173.1,170.2 171.8,188.4 143.9,188.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"143.9,188.4 142.6,170.2 173.1,170.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"178.3,199.1 205.7,213.7 176.5,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"139.2,236.5 110,213.7 137.4,199.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"137.4,199.1 144,233.2 139.2,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"176.5,236.5 171.7,233.2 178.3,199.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st8\",\n  points: \"171.8,188.4 178.3,199.1 171.7,233.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st8\",\n  points: \"143.9,188.4 144,233.2 137.4,199.1  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"143.9,188.4 171.8,188.4 171.7,233.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st3\",\n  points: \"171.7,233.2 144,233.2 143.9,188.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"179.2,258.6 178.9,267.9 177,277.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"138.7,277.5 136.8,267.9 136.6,258.6  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"136.6,258.6 139,256.4 138.7,277.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"177,277.5 176.7,256.4 179.2,258.6  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"138.7,277.5 139,256.4 176.7,256.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st6\",\n  points: \"176.7,256.4 177,277.5 138.7,277.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"176.5,236.5 179.2,258.6 176.7,256.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"139,256.4 136.6,258.6 139.2,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"139.2,236.5 140.7,241.2 139,256.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"176.7,256.4 175,241.2 176.5,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"143.7,237.7 140.7,241.2 139.2,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"176.5,236.5 175,241.2 172,237.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"172,237.7 171.7,233.2 176.5,236.5  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"139.2,236.5 144,233.2 143.7,237.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"171.7,233.2 172,237.7 143.7,237.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"143.7,237.7 144,233.2 171.7,233.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"140.7,241.2 175,241.2 176.7,256.4  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"176.7,256.4 139,256.4 140.7,241.2  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"140.7,241.2 143.7,237.7 172,237.7  \"\n}), React.createElement(\"polygon\", {\n  className: \"st10\",\n  points: \"172,237.7 175,241.2 140.7,241.2  \"\n}));\n\nvar SvgMetamask = function SvgMetamask(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 318.6 318.6\",\n    style: {\n      enableBackground: \"new 0 0 318.6 318.6\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMetamask, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/metamask.035b2edd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M22.4762 0C10.0629 0 0 10.0737 0 22.5C0 34.9264 10.0629 45 22.4762 45C34.8895 45 44.9524 34.9264 44.9524 22.5C44.9524 10.0737 34.8895 0 22.4762 0Z\",\n  fill: \"#4360DF\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M23.2309 21.5138C24.3595 21.6314 25.4882 21.749 26.8757 21.6716C30.6352 21.4618 32.9125 19.5302 32.7509 16.6428C32.5862 13.7052 29.5565 11.8953 26.5251 12.0645C21.5849 12.34 17.9521 16.6819 17.543 21.6444C18.2139 21.4871 18.9201 21.3932 19.586 21.356C20.9737 21.2787 22.1023 21.3962 23.2309 21.5138ZM13.5465 27.936C13.7024 30.6289 16.5727 32.288 19.4446 32.1328C24.1247 31.8802 27.5665 27.9002 27.954 23.3511C27.3184 23.4954 26.6495 23.5816 26.0185 23.6156C24.7039 23.6866 23.6346 23.5788 22.5653 23.471C21.4961 23.3632 20.4268 23.2554 19.1122 23.3264C15.5508 23.5187 13.3932 25.2893 13.5465 27.936Z\",\n  fill: \"white\"\n});\n\nvar SvgStatus = function SvgStatus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 45,\n    height: 45,\n    viewBox: \"0 0 45 45\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgStatus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/status.078bac44.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M1.29438 6.48375C0 9.025 0 12.35 0 19C0 25.65 0 28.975 1.29438 31.5163C2.43438 33.7488 4.25125 35.5656 6.48375 36.7056C9.025 38 12.35 38 19 38C25.65 38 28.975 38 31.5163 36.7056C33.7488 35.5656 35.5656 33.7488 36.7056 31.5163C38 28.975 38 25.65 38 19C38 12.35 38 9.025 36.7056 6.48375C35.5656 4.25125 33.7488 2.43438 31.5163 1.29438C28.975 0 25.65 0 19 0C12.35 0 9.025 0 6.48375 1.29438C4.25125 2.43438 2.43438 4.25125 1.29438 6.48375ZM28.4822 10.2481C28.8147 10.2481 29.1294 10.3847 29.361 10.6163C29.5925 10.8538 29.7232 11.1744 29.7172 11.5009C29.6579 15.0397 29.5213 17.7472 29.266 19.8906C29.0166 22.0341 28.6425 23.6253 28.0785 24.9138C27.6985 25.7747 27.2294 26.4872 26.6772 27.0928C25.935 27.8944 25.086 28.4763 24.1597 29.0285C23.7637 29.2653 23.352 29.4991 22.9201 29.7444C21.9986 30.2677 20.9854 30.8431 19.8372 31.6113C19.4216 31.8903 18.8813 31.8903 18.4657 31.6113C17.2999 30.8341 16.2733 30.2516 15.3434 29.7241C15.1366 29.6068 14.9346 29.4922 14.7369 29.3788C13.6504 28.7494 12.6707 28.1497 11.8157 27.2828C11.2457 26.7128 10.7529 26.0181 10.361 25.1928C9.82661 24.0884 9.46442 22.7525 9.19724 21.0247C8.84098 18.715 8.66286 15.6928 8.59755 11.5009C8.59161 11.1744 8.7163 10.8538 8.94786 10.6163C9.17942 10.3847 9.50005 10.2481 9.83255 10.2481H10.3432C11.9166 10.2541 15.39 10.0997 18.3944 7.76032C18.8397 7.41594 19.4632 7.41594 19.9085 7.76032C22.9129 10.0997 26.3863 10.2541 27.9657 10.2481H28.4822ZM25.7213 24.1241C26.1072 23.3284 26.4279 22.23 26.6713 20.6506C26.9622 18.7625 27.1404 16.1975 27.2235 12.7063C25.371 12.6528 22.1885 12.2966 19.1544 10.2541C16.1204 12.2906 12.9379 12.6469 11.0913 12.7063C11.1566 15.5919 11.2872 17.8363 11.495 19.5997C11.7325 21.6066 12.071 22.9663 12.4925 23.9222C12.7716 24.5575 13.0804 25.0147 13.4485 25.4184C13.9413 25.9588 14.5647 26.4041 15.4138 26.9147C15.766 27.126 16.1543 27.3458 16.577 27.5851C17.3301 28.0113 18.1923 28.4993 19.1544 29.1116C20.0988 28.5093 20.9486 28.0263 21.6929 27.6032C21.9173 27.4757 22.132 27.3536 22.3369 27.2353C23.3819 26.6356 24.1538 26.1369 24.7297 25.555C25.1157 25.1572 25.4304 24.7238 25.7213 24.1241Z\",\n  fill: \"#3375BB\"\n}));\n\nvar SvgTrust = function SvgTrust(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 38,\n    height: 38,\n    viewBox: \"0 0 38 38\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTrust, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/trust.e4078f76.svg\";\nexport { ForwardRef as ReactComponent };","import RenJS from \"@renproject/ren\";\nimport { Chain } from \"@renproject/interfaces\";\nimport { isMainnetAddress, isTestnetAddress } from \"bchaddrjs\";\nimport { Map } from \"immutable\";\nimport { validate } from \"wallet-address-validator\";\nimport Web3 from \"web3\";\nimport { NetworkDetails } from \"@renproject/utils/build/main/types/networks\";\n\nimport { ERC20Detailed } from \"../lib/contracts/ERC20Detailed\";\n\nexport enum Token {\n    BTC = \"BTC\",\n    ETH = \"ETH\",\n    ZEC = \"ZEC\",\n    BCH = \"BCH\",\n}\n\n// const ethValidator = (address: string, isTestnet: boolean) => validate(address, \"eth\", isTestnet ? \"testnet\" : \"prod\");\nconst btcValidator = (address: string, isTestnet: boolean) => validate(address, \"btc\", isTestnet ? \"testnet\" : \"prod\");\nconst zecValidator = (address: string, isTestnet: boolean) => validate(address, \"zec\", isTestnet ? \"testnet\" : \"prod\");\nconst bchValidator = (address: string, isTestnet: boolean) => {\n    try {\n        return isTestnet ? isTestnetAddress(address) : isMainnetAddress(address);\n    } catch (error) {\n        return false;\n    }\n};\n\nexport const Tokens = Map<Token, TokenDetails>()\n    .set(Token.BTC, { symbol: Token.BTC, name: \"Bitcoin\", decimals: 8, priority: 200, chain: RenJS.Chains.Bitcoin, validator: btcValidator })\n    // .set(Token.ETH, { symbol: Token.ETH, name: \"Ethereum\", decimals: 18, priority: 1024, chain: RenJS.Chains.Ethereum, validator: ethValidator })\n    .set(Token.ZEC, { symbol: Token.ZEC, name: \"Zcash\", decimals: 8, priority: 201, chain: RenJS.Chains.Zcash, validator: zecValidator })\n    .set(Token.BCH, { symbol: Token.BCH, name: \"BCash\", decimals: 8, priority: 202, chain: RenJS.Chains.BitcoinCash, validator: bchValidator })\n    ;\n\ninterface TokenDetails {\n    name: string;\n    symbol: Token;\n    decimals: number;\n    priority: number;\n    chain: Chain.Ethereum | Chain.Bitcoin | Chain.Zcash | Chain.BitcoinCash;\n    validator: (address: string, isTestnet: boolean) => boolean;\n}\n\n/// Initialize Web3 and contracts\nexport const getERC20 = (web3: Web3, networkDetails: NetworkDetails, tokenAddress: string): ERC20Detailed =>\n    new (web3.eth.Contract)(networkDetails.contracts.addresses.erc.ERC20.abi, tokenAddress);\n","export const className = (...args: string[]) => {\n    return args.join(\" \");\n};\n","import * as React from \"react\";\n\nimport { className } from \"../../lib/className\";\n\nexport const Popup: React.StatelessComponent<{\n    mini: boolean;\n}> = ({ mini, children }) => {\n    return <div className={className(\"popup\", mini ? \"popup--paused\" : \"\")}>\n        {children}\n    </div>;\n};\n","import * as React from \"react\";\n\nimport { TokenIcon } from \"@renproject/react-components\";\n\nimport { ReactComponent as Brave } from \"../../images/brave.svg\";\nimport { ReactComponent as Coinbase } from \"../../images/coinbase.svg\";\nimport { ReactComponent as Imtoken } from \"../../images/imtoken.svg\";\nimport { ReactComponent as Metamask } from \"../../images/metamask.svg\";\nimport { ReactComponent as Status } from \"../../images/status.svg\";\nimport { ReactComponent as Trust } from \"../../images/trust.svg\";\nimport { Token } from \"../../state/generalTypes\";\nimport { Popup } from \"../views/Popup\";\n\nexport const LogIn = ({ token, paused, wrongNetwork, correctNetwork }: { token: Token, paused: boolean, wrongNetwork: number | undefined, correctNetwork: string }) => {\n    return <Popup mini={paused}>\n        {paused ? <>\n            <div className=\"side-strip\"><TokenIcon token={token} /></div>\n            <div className=\"popup--body--details\">\n                Connect Web3\n                            </div>\n        </> : <>\n                <div className=\"popup--body popup--loading connect-web3\">\n                    <div className=\"connect-web3--browsers\">\n                        {/* tslint:disable: react-a11y-anchors */}\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" title=\"Metamask Web3 Browser\" href=\"https://metamask.io/\"><Metamask /></a>\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" title=\"Coinbase Web3 Browser\" href=\"https://wallet.coinbase.com/\"><Coinbase /></a>\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" title=\"Trust Web3 Browser\" href=\"https://trustwallet.com/\"><Trust /></a>\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" title=\"Imtoken Web3 Browser\" href=\"https://www.token.im/\"><Imtoken /></a>\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" title=\"Brave Web3 Browser\" href=\"https://brave.com/\"><Brave /></a>\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" title=\"Status Web3 Browser\" href=\"https://status.im\"><Status /></a>\n                        {/* tslint:enable: react-a11y-anchors */}\n                    </div>\n                    {wrongNetwork ? <>Please switch to the {correctNetwork} Ethereum network.</> : <>Connect your Ethereum Web3 wallet to continue</>}\n                </div>\n            </>}\n    </Popup>;\n};\n","import * as React from \"react\";\n\nimport { TokenIcon } from \"@renproject/react-components\";\n\nimport { connect, ConnectedProps } from \"../../state/connect\";\nimport { Token } from \"../../state/generalTypes\";\nimport { SDKContainer } from \"../../state/sdkContainer\";\nimport { Popup } from \"./Popup\";\n\ninterface Props extends ConnectedProps<[SDKContainer]> {\n}\n\n/**\n * OpeningOrder is a visual component for allowing users to open new orders\n */\nexport const OpeningShiftMini = connect<Props & ConnectedProps<[SDKContainer]>>([SDKContainer])(\n    ({ containers: [sdkContainer] }) => {\n        const { shift } = sdkContainer.state;\n        if (!shift) {\n            throw new Error(`Unable to load shift details`);\n        }\n\n        const token = shift.shiftParams.sendToken.slice(0, 3) as Token;\n\n        return <Popup mini={true}>\n            <div className=\"side-strip\"><TokenIcon token={token} /></div>\n            <div className=\"popup--body--details\">\n                Continue\n                </div>\n        </Popup>;\n    }\n);\n","import * as React from \"react\";\n\nimport { TokenIcon } from \"@renproject/react-components\";\n\nimport { Token, Tokens } from \"../../../state/generalTypes\";\nimport { OpeningShiftMini } from \"../OpeningShiftMini\";\nimport { Popup } from \"../Popup\";\n\nexport const AskForAddress: React.StatelessComponent<{\n    mini: boolean,\n    token: Token,\n    message: React.ReactNode,\n    isTestnet: boolean,\n    onAddress(address: string, token: Token): void;\n}> = ({ mini, token, message, isTestnet, onAddress }) => {\n    // tslint:disable-next-line: prefer-const\n    let [address, updateAddress] = React.useState(\"\");\n    const [error, updateError] = React.useState(null as string | null);\n    const [submitting, updateSubmitting] = React.useState(false);\n    const inputRef = React.useRef<HTMLInputElement | null>() as React.MutableRefObject<HTMLInputElement | null>;\n\n    const tokenDetails = Tokens.get(token);\n\n    const submit = (event?: React.FormEvent<HTMLFormElement>) => {\n        if (event) { event.preventDefault(); }\n        if (!error && tokenDetails && !tokenDetails.validator(address, isTestnet)) {\n            updateError(`Invalid ${tokenDetails.chain.toUpperCase()} address`);\n            return;\n        }\n        try {\n            updateSubmitting(true);\n            onAddress(address, token);\n        } catch (error) {\n            updateError(String(error.message || error));\n            updateSubmitting(false);\n        }\n    };\n\n    const onChange = (event: React.FormEvent<HTMLInputElement>): void => {\n        updateError(null);\n        updateAddress((event.target as HTMLInputElement).value);\n    };\n\n    if (mini) { return <OpeningShiftMini />; }\n\n    return <Popup mini={mini}>\n        <div className=\"address-input\">\n            <div className=\"popup--body\">\n                <div className=\"popup--body--box--title\">\n                    Enter <TokenIcon token={token} /> {token.toUpperCase()} address\n                </div>\n                <div className=\"popup--body--box\">\n\n                    {message}\n                </div>\n                <form onSubmit={submit}>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            onChange={onChange}\n                            value={address}\n                            autoFocus={true}\n                            required={true}\n                            aria-required={true}\n                            ref={inputRef}\n                        />\n                        <label className=\"form-control-placeholder\">{token} address</label>\n                        <button className=\"button open--confirm\" disabled={address === \"\" || submitting || error !== null} type=\"submit\"><span>{error ? error : \"Confirm\"}</span></button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </Popup>;\n};\n","import RenJS from \"@renproject/ren\";\nimport { Tx } from \"@renproject/interfaces\";\nimport { NetworkDetails } from \"@renproject/utils/build/main/types/networks\";\n\nexport const txUrl = (tx: Tx | null, network: NetworkDetails): string => {\n    if (!tx) { return \"\"; }\n    const isTx = tx.hash && tx.hash.slice && tx.hash.match(/^(0x)?[a-fA-F0-9]+$/);\n    switch (tx.chain) {\n        case RenJS.Chains.Ethereum:\n            return `${network.contracts.etherscan}/tx/${tx.hash}`;\n        case RenJS.Chains.Bitcoin:\n            return `https://chain.so/${isTx ? \"tx\" : \"address\"}/BTC${network.isTestnet ? \"TEST\" : \"\"}/${RenJS.utils.strip0x(tx.hash)}`;\n        case RenJS.Chains.Zcash:\n            return `https://chain.so/${isTx ? \"tx\" : \"address\"}/ZEC${network.isTestnet ? \"TEST\" : \"\"}/${RenJS.utils.strip0x(tx.hash)}`;\n        case RenJS.Chains.BitcoinCash:\n            return `https://explorer.bitcoin.com/${network.isTestnet ? \"t\" : \"\"}bch/${isTx ? \"tx\" : \"address\"}/${RenJS.utils.strip0x(tx.hash)}`;\n    }\n    return \"\";\n};\n","import * as React from \"react\";\n\nimport { TokenIcon } from \"@renproject/react-components\";\nimport { Chain, Tx } from \"@renproject/interfaces\";\nimport { NetworkDetails } from \"@renproject/utils/build/main/types/networks\";\n\nimport { txUrl } from \"../../../lib/txUrl\";\nimport { Token } from \"../../../state/generalTypes\";\nimport { Popup } from \"../Popup\";\n\nconst renderChain = (chain: Chain): string => {\n    switch (chain) {\n        case Chain.Bitcoin:\n            return \"Bitcoin\";\n        case Chain.Ethereum:\n            return \"Ethereum\";\n        case Chain.Zcash:\n            return \"Zcash\";\n        case Chain.BitcoinCash:\n            return \"Bitcoin Cash\";\n    }\n    return chain;\n};\n\nexport const Complete: React.StatelessComponent<{\n    inTx: Tx | null,\n    outTx: Tx | null,\n    mini: boolean,\n    token: Token;\n    networkDetails: NetworkDetails,\n}> = ({ mini, inTx, outTx, token, networkDetails }) => mini ?\n    <Popup mini={true}>\n        <div className=\"side-strip\"><TokenIcon token={token} /></div>\n        <div className=\"popup--body--details\">\n            Done\n                </div>\n    </Popup> :\n    <Popup mini={false}>\n        <div className=\"complete\">\n            <div className=\"popup--body\">\n                <div className=\"circle-loader load-complete\">\n                    <div className=\"checkmark draw\" />\n                </div>\n                <h2>Transaction successful</h2>\n                <p>Your cross-chain transaction has been successfully completed. For more information on your transactions click the explorer links below.</p>\n                <div className=\"popup--buttons\">\n                    {inTx ? <a target=\"_blank\" rel=\"noopener noreferrer\" href={txUrl(inTx, networkDetails)}><button>View {renderChain(inTx.chain)} Transaction</button></a> : <></>}\n                    {outTx ? <a target=\"_blank\" rel=\"noopener noreferrer\" href={txUrl(outTx, networkDetails)}><button>View {renderChain(outTx.chain)} Transaction</button></a> : <></>}\n                </div>\n            </div>\n        </div>\n    </Popup>;\n","import * as React from \"react\";\n\nimport { Loading, TokenIcon } from \"@renproject/react-components\";\nimport { TxStatus } from \"@renproject/interfaces\";\n\nimport { _catchInteractionErr_ } from \"../../../lib/errors\";\nimport { Token } from \"../../../state/generalTypes\";\nimport { Popup } from \"../Popup\";\n\nconst renderTxStatus = (status: TxStatus | null) => {\n    switch (status) {\n        case null:\n            return \"Submitting\";\n        case TxStatus.TxStatusNil:\n            return \"Submitting\";\n        case TxStatus.TxStatusConfirming:\n            return \"Checking for confirmations\";\n        case TxStatus.TxStatusPending:\n            return \"Executing\";\n        case TxStatus.TxStatusExecuting:\n            return \"Executing\";\n        case TxStatus.TxStatusDone:\n            return \"Done\";\n        case TxStatus.TxStatusReverted:\n            return \"Reverted\";\n    }\n};\n\nexport const DepositReceived: React.StatelessComponent<{\n    mini: boolean;\n    token: Token;\n    renTxHash: string | null;\n    renVMStatus: TxStatus | null;\n    submitDeposit: () => Promise<unknown>;\n}> = ({ mini, token, renVMStatus, renTxHash, submitDeposit }) => {\n    const [error, setError] = React.useState(null as Error | null);\n\n    const onClick = React.useCallback(async () => {\n        setError(null);\n        if (submitDeposit) {\n            try {\n                await submitDeposit();\n            } catch (error) {\n                setError(error);\n                _catchInteractionErr_(error, \"Error in DepositReceived: submitDeposit\");\n            }\n        }\n    }, [submitDeposit]);\n\n    // useEffect replaces `componentDidMount` and `componentDidUpdate`.\n    // To limit it to running once, we use the initialized hook.\n    const [initialized, setInitialized] = React.useState(false);\n    React.useEffect(() => {\n        if (!initialized) {\n            setInitialized(true);\n            // if (renTxHash) {\n            onClick().catch(console.error);\n            // }\n        }\n    }, [initialized, renTxHash, onClick]);\n\n    if (mini) {\n        return <Popup mini={mini}>\n            <div className=\"side-strip\"><TokenIcon token={token} /></div>\n            <div className=\"popup--body--details\">\n                Submitting to RenVM\n            </div>\n        </Popup>;\n    }\n\n    return <Popup mini={mini}>\n        <div className=\"deposit-address\">\n            <div className=\"popup--body submitting-to-renvm\">\n                {/* {token ? <TokenIcon className=\"token-icon\" token={token} /> : null} */}\n                {error ? <>\n                    <div className=\"submitting-to-renvm--body\">\n                        <p style={{ marginTop: \"20px\", fontSize: \"16px\" }} className=\"red\">Unable to submit to RenVM</p>\n                        <p className=\"red\">{error.message || error}</p>\n                        <div className=\"popup--buttons\">\n                            <button className=\"button open--confirm\" onClick={onClick}>Resubmit</button>\n                        </div>\n                    </div>\n                </> : <>\n                        <Loading className=\"loading--blue\" />\n                        <div className=\"submitting-to-renvm--body\">\n                            <>\n                                <p>Submitting order to RenVM...<br />This can take a few minutes.</p>\n                                <p>Status: {<span>{renderTxStatus(renVMStatus)}</span> || <Loading className=\"loading--small\" />}</p>\n                            </>\n                        </div>\n                    </>\n                }\n            </div>\n        </div>\n    </Popup>;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M12 8H10V6H8V8H6V10H8V12H6H4V10V8H2H0V6V4V2V0H2H4H6H8V2V4H10V2H12V4H14V6V8V10H12V8ZM12 2V0H14V2H12ZM2 12H4V14H2V12ZM2 12H0V10H2V12ZM8 12H10V14H8V12ZM8 10V8H10V10H8ZM2 2V4V6H4H6V4V2H4H2ZM14 12H12V14H14V12ZM5 3H3V5H5V3Z\",\n  fill: \"#006FE8\"\n});\n\nvar SvgQr = function SvgQr(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgQr, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/qr.bc61678c.svg\";\nexport { ForwardRef as ReactComponent };","import { transparentize } from \"polished\";\nimport { css, keyframes } from \"styled-components\";\n\nconst pulse = (size: string, color: string) => keyframes`\n    0% {\n        transform: scale(.95);\n        box-shadow: 0 0 0 0 ${transparentize(0.5, color)};\n    }\n    70% {\n        transform: scale(1);\n        box-shadow: 0 0 0 ${size} ${transparentize(1, color)};\n    }\n    100% {\n        transform: scale(.9);\n        box-shadow: 0 0 0 0 ${transparentize(1, color)};\n    }\n`;\n\nexport const pulseAnimation = (size: string, color: string) => css`\n    ${pulse(size, color)} 1.5s infinite;\n`;\n","import * as React from \"react\";\n\nimport { lighten } from \"polished\";\nimport styled from \"styled-components\";\n\nimport { ScanningDot } from \"./shift-popup/ShowDepositAddress\";\n\nconst OuterDiv = styled.div`\n    position: relative;\n    border: 1px solid #dbe0e8;\n    box-shadow: 0px 1px 2px rgba(0, 27, 58, 0.05);\n    border-radius: 6px;\n    transition: all 500ms;\n    `;\n\n// tslint:disable-next-line: no-any\nexport const LabelledDiv = (props: any) => {\n    const { inputLabel, children, width, loading, ...rest } = props;\n    const setWidth = width ? width : 210;\n    const StyledInputFlex = styled.div`\n    display: flex;\n    align-items: center;\n    overflow-x: hidden;\n    height: 40px;\n    `;\n    const StyledInput = styled.div`\n    color: ${p => lighten(0.1, p.theme.primaryColor)} !important;\n    font-size: 14px;\n    max-width: 100%;\n    text-overflow: ellipsis;\n    padding: 0 20px;\n    overflow:hidden;\n    white-space:nowrap;\n    margin-top: 2px;\n    `;\n\n    const DepositLabel = styled.label`\n    position: absolute;\n    top: 0;\n    width: ${setWidth}px;\n    text-align: center;\n    margin-left: calc(calc(100% - ${setWidth}px) / 2);\n    font-size: 1.4rem;\n    color: ${p => p.theme.lightGrey};\n    background-color: white;\n    margin-top: -10px;\n    `;\n\n    return (\n        <OuterDiv>\n            <StyledInputFlex>\n                <StyledInput {...rest}>{props.children}</StyledInput>\n                {loading ? <ScanningDot /> : <></>}\n            </StyledInputFlex>\n            <DepositLabel>{inputLabel}</DepositLabel>\n        </OuterDiv>\n    );\n};\n\n// tslint:disable-next-line: no-any\nexport const LabelledInput = (props: any) => {\n    const { inputLabel, children, width, ...rest } = props;\n    const setWidth = width ? width : 210;\n    const StyledInput = styled.input`\n    color: ${p => lighten(0.1, p.theme.primaryColor)} !important;\n    font-size: 14px !important;\n    font-weight: 400 !important;\n    `;\n\n    const DepositLabel = styled.label`\n    position: absolute;\n    top: 0;\n    width: ${setWidth}px;\n    text-align: center;\n    margin-left: calc(calc(100% - ${setWidth}px) / 2);\n    font-size: 1.4rem;\n    color: ${p => p.theme.lightGrey};\n    background-color: white;\n    margin-top: -10px;\n    `;\n\n    return (\n        <OuterDiv>\n            <StyledInput type=\"text\" {...rest} />\n            <DepositLabel>{inputLabel}</DepositLabel>\n            {props.children}\n        </OuterDiv>\n    );\n};\n","import * as React from \"react\";\n\nimport { lighten } from \"polished\";\nimport styled from \"styled-components\";\n\nimport infoIcon from \"../../images/icons/info.svg\";\nimport { classNames } from \"../../lib/utils\";\nimport { pulseAnimation } from \"../../scss/animations\";\nimport { Tooltip } from \"../views/tooltip/Tooltip\";\n\nexport const ProgressPulse = styled.div`\n            background-color: white !important;\n            color: ${p => lighten(0.1, p.theme.primaryColor)} !important;\n            border-radius: 50%;\n            display: block;\n            animation: ${p => pulseAnimation(\"6px\", p.theme.primaryColor)};\n        `;\n\n\nexport const ProgressItem = ({ name, label, target, progress, pulse, tooltip }: { name?: React.ReactChild, label?: string | number, target: number, progress: number, pulse?: boolean, tooltip?: string }) =>\n    <div className={classNames(`ren-progress-bar--item`, progress >= target ? \"ren-progress-bar--item--done\" : \"\", progress + 1 === target ? \"ren-progress-bar--item--current\" : \"\")}>\n        {pulse && progress + 1 === target ?\n            <ProgressPulse className=\"ren-progress-bar--number\">{label || (target)}</ProgressPulse> :\n            <div className=\"ren-progress-bar--number\">{label || (target)}</div>\n        }\n        <div className=\"ren-progress-bar--label\"><div className=\"ren-progress-bar--label--inner\">{name} {tooltip ? <Tooltip contents={tooltip}><img alt={`Tooltip: ${tooltip}`} src={infoIcon} /></Tooltip> : null}</div></div>\n    </div>;\n\nconst width = (progress: number, itemsLength: number) => {\n    // Progress bar's width is based on the progress percentage.\n    const percent = Math.min(100 * (progress / (itemsLength - 1)), 100);\n    // Remove 8px for the first circle, and 16px for each following circle.\n    const px = -8 - 16 * (Math.min(progress - 1, 0));\n    return { percent, px };\n};\n\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n    items: Array<{ name?: string, label?: string, tooltip?: string }>;\n    progress: number;\n    pulse?: boolean;\n}\n\nexport const ProgressBar = ({ items, progress, pulse, className, ...props }: Props) => {\n    const { percent: bluePercent, px: bluePx } = width(progress, items.length);\n    const { percent: grayPercent, px: grayPx } = width(items.length - 1, items.length);\n    return <div {...props} className={classNames(\"ren-progress-bar\", className)}>\n        <div className=\"progress-bar--blue\" style={{ width: `calc(${bluePercent}% + ${bluePx}px)` }} />\n        <div className=\"progress-bar--gray\" style={{ width: `calc(${grayPercent}% + ${grayPx}px)` }} />\n        <div className=\"progress-bar--items\">\n            {items.map((item, index) =>\n                <ProgressItem key={index} target={index + 1} progress={progress} name={item.name} label={item.label} tooltip={item.tooltip} pulse={pulse} />\n            )}\n        </div>\n    </div>;\n};\n","import * as React from \"react\";\n\nimport { TokenIcon } from \"@renproject/react-components\";\nimport { ShiftInEvent } from \"@renproject/interfaces\";\nimport { OrderedMap } from \"immutable\";\nimport { lighten } from \"polished\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport styled from \"styled-components\";\nimport { resolveInToken, UTXO } from \"@renproject/utils\";\nimport { NetworkDetails } from \"@renproject/utils/build/main/types/networks\";\n\nimport infoIcon from \"../../../images/icons/info.svg\";\nimport { ReactComponent as QR } from \"../../../images/qr.svg\";\nimport { txUrl } from \"../../../lib/txUrl\";\nimport { range } from \"../../../lib/utils\";\nimport { pulseAnimation } from \"../../../scss/animations\";\nimport { Token, Tokens } from \"../../../state/generalTypes\";\nimport { numberOfConfirmations } from \"../../../state/sdkContainer\";\nimport { LabelledDiv } from \"../LabelledInput\";\nimport { Popup } from \"../Popup\";\nimport { ProgressBar } from \"../ProgressBar\";\nimport { Tooltip } from \"../tooltip/Tooltip\";\n\nconst ScanningText = styled.span`\n            min-width: 170px;\n            line-height: 100%;\n        `;\n\nexport const ScanningDot = styled.span`\n            height: 10px;\n            width: 10px;\n            background-color: ${p => lighten(0.1, p.theme.primaryColor)};\n            border-radius: 50%;\n            display: block;\n            margin-right: 10px;\n            animation: ${p => pulseAnimation(\"6px\", p.theme.primaryColor)};\n            line-height: 100%;\n            flex-shrink: 0;\n        `;\n\nconst ScanningDiv = styled.div`\n            font-size: 13.44px;\n            color: ${p => p.theme.lightGrey};\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            padding: 40px 0;\n        `;\n\nconst ScanningBanner: React.FC<{}> = props => {\n    return (\n        <ScanningDiv><ScanningDot /><ScanningText className=\"ellipsis\">{props.children}</ScanningText></ScanningDiv>\n    );\n};\n\nconst INTEROP_LINK = \"https://docs.renproject.io/ren/renvm/universal-interop#performance-or-confirmation-as-a-service\";\n\ninterface Props {\n    mini: boolean;\n    token: Token;\n    depositAddress: string;\n    order: ShiftInEvent;\n    utxos: OrderedMap<string, UTXO>;\n    networkDetails: NetworkDetails;\n    onQRClick(): void;\n    waitForDeposit(onDeposit: (utxo: UTXO) => void): Promise<void>;\n    onDeposit(utxo: UTXO): void;\n}\n\n\nconst ConfirmationsContainer = styled.div`\n        text-align: center;\n        `;\nconst ConfirmationsHeader = styled.span`\n        font-size: 1.4rem;\n        margin-right: 5px;\n        color: #87888C;\n        `;\n\nconst ConfirmationsBlock = styled.div`\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        margin-bottom: 20px;\n        `;\n\nconst DepositLabel = styled.label`\n        position: absolute;\n        top: 0;\n        width: 180px;\n        text-align: center;\n        margin-left: calc(calc(100% - 180px) / 2);\n        font-size: 1.4rem;\n        color: ${p => p.theme.lightGrey};\n        background-color: white;\n        margin-top: -10px;\n        `;\n\nconst StyledInput = styled.input`\n        color: ${p => lighten(0.1, p.theme.primaryColor)} !important;\n        font-size: 14px !important;\n        font-weight: 400 !important;\n        `;\n\nconst AddressControls = styled.div`\n            display: flex;\n            align-items: center;\n            margin-right: 13px;\n\n            button {\n                padding: 0;\n                min-width: 37px;\n                padding: 0 5px;\n                height: 20px;\n                border-radius: 20px;\n                border: 1px solid ${p => p.theme.primaryColor};\n                background: rgba(0, 111, 232, 0.1);\n                font-size: 1.0rem;\n                line-height: 13px;\n                color: ${p => p.theme.primaryColor};\n            }\n\n            button + button {\n                margin-left: 5px;\n            }\n        `;\n\nconst ContinueButton = styled.button`\n            background: ${p => `linear-gradient(90deg, ${p.theme.primaryColor} 0%, ${lighten(0.1, p.theme.primaryColor)} 180%)`};\n        `;\n\nexport const ShowDepositAddress: React.StatelessComponent<Props> =\n    ({ mini, token, order, utxos, onQRClick, depositAddress, waitForDeposit, onDeposit, networkDetails }) => {\n        // Defaults for demo\n\n        const [understood, setUnderstood] = React.useState(false);\n        const [copied, setCopied] = React.useState(false);\n        const [showSpinner, setShowSpinner] = React.useState(false);\n\n        const [timer, setTimer] = React.useState<NodeJS.Timeout | null>(null);\n        const [failed, setFailed] = React.useState(null as Error | null);\n\n        const showDepositAddress = React.useCallback(() => {\n\n            setTimer(setTimeout(() => {\n                setShowSpinner(true);\n            }, 5000) as any, // tslint:disable-line: no-any\n            );\n            setUnderstood(true);\n            waitForDeposit(onDeposit)\n                .catch((error) => {\n                    setFailed(error);\n                });\n        }, [waitForDeposit, onDeposit]);\n\n        React.useEffect(() => {\n            showDepositAddress();\n        }, []); // tslint:disable-line: react-hooks/exhaustive-deps\n\n        const onClickAddress = React.useCallback(() => {\n            setCopied(true);\n            if (timer) {\n                clearTimeout(timer);\n            }\n            setTimer(setTimeout(() => {\n                setCopied(false);\n                if (!showSpinner) {\n                    setShowSpinner(true);\n                }\n            }, 5000) as any, // tslint:disable-line: no-any\n            );\n        }, [showSpinner, timer]);\n\n        const tokenDetails = Tokens.get(token);\n        const showAddress = understood ?\n            <>\n                <ScanningBanner>Scanning for transaction</ScanningBanner>\n                <div role=\"button\" className={`address-input--copy ${copied ? \"address-input--copied\" : \"\"}`}>\n                    <StyledInput\n                        type=\"text\"\n                        name=\"address\"\n                        disabled={true}\n                        value={depositAddress || \"\"}\n                        autoFocus={true}\n                        required={true}\n                        aria-required={true}\n                    />\n                    <DepositLabel>{tokenDetails && tokenDetails.name} Deposit Address</DepositLabel>\n                    <label className=\"copied-text\">Copied</label>\n                    <AddressControls>\n                        <button onClick={onQRClick}><QR className=\"qr\" /></button>\n                        <CopyToClipboard\n                            text={depositAddress || \"\"}\n                            onCopy={onClickAddress}\n                        >\n                            <button>{copied ? \"Copied\" : \"Copy\"}</button>\n                        </CopyToClipboard>\n                    </AddressControls>\n                </div>\n                {/* {showQR ? <div className=\"qr-code\"><QRCode value={`bitcoin:${depositAddress}?amount=${amount}`} /></div> : null} */}\n            </> :\n            <>\n                {failed ? <div className=\"red\">{`${failed.message || failed}`}</div> : <></>}\n                <div className=\"popup--buttons\">\n                    <ContinueButton className=\"button\" disabled={depositAddress as string | null === null || failed !== null} onClick={showDepositAddress}>{failed ? \"Unable to generate address\" : \"Continue\"}</ContinueButton>\n                </div>\n            </>;\n\n        const tooltipText = `Waiting for confirmations. This can take up to twenty minutes due to confirmation times on various blockchains. This will be improved for Mainnet via 3rd parties.`;\n\n        const showUTXOs = (\n            utxos.size > 0 ? <div className=\"show-utxos\">\n                <ConfirmationsContainer>\n                    <ConfirmationsHeader>Confirmations</ConfirmationsHeader>\n                    {/* tslint:disable-next-line: react-a11y-anchors */}\n                    <Tooltip width={250} contents={<span>{tooltipText} For more information, head <a className=\"blue\" href={INTEROP_LINK} target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</span>}><img alt={tooltipText} src={infoIcon} /></Tooltip>\n                </ConfirmationsContainer>\n                {utxos.map(utxo => {\n                    return <div key={utxo.utxo.txid}>\n                        {/* <div className=\"show-utxos--utxo\">\n                        <a href={txUrl({ chain: utxo.chain, hash: utxo.utxo.txid })} target=\"_blank\" rel=\"noopener noreferrer\">TXID {hash}</a>\n                    </div> */}\n                        <ConfirmationsBlock>\n                            <ProgressBar\n                                className=\"confirmation--progress\"\n                                style={{ width: `${(order ? numberOfConfirmations(order.shiftParams.sendToken, networkDetails) : 2) <= 1 ? 50 : 100}%` }}\n                                items={[\n                                    ...range(order ? numberOfConfirmations(order.shiftParams.sendToken, networkDetails) : 2).map(i => ({})),\n                                    { label: \"✓\" }\n                                ]}\n                                progress={utxo.utxo.confirmations}\n                                pulse={true}\n                            />\n                            {/* {range(order ? 7 : 1).map(target =>\n                                <ProgressItem target={target + 1} progress={utxo.utxo.confirmations} />\n                            )} */}\n                            {/* <Loading className=\"loading--blue\" /> */}\n                            {/* <ConfirmationsCount>{utxo.utxo.confirmations} / {order ? numberOfConfirmations(order.shiftParams.sendToken, networkDetails) : \"?\"} confirmations</ConfirmationsCount> */}\n                        </ConfirmationsBlock>\n                        <a className=\"no-underline\" target=\"_blank\" rel=\"noopener noreferrer\" href={txUrl({ chain: utxo.chain, hash: utxo.utxo.txid }, networkDetails)}>\n                            <LabelledDiv style={{ textAlign: \"center\", maxWidth: \"unset\" }} inputLabel=\"Transaction ID\" width={105}>{utxo.utxo.txid}</LabelledDiv>\n                        </a>\n                    </div>;\n                }).valueSeq()}\n                {/* <details>\n                    <summary>Show deposit address</summary>\n                    {showAddress}\n                </details> */}\n            </div> : null\n        );\n\n        if (mini) {\n            const last = utxos.last<UTXO>();\n            return <Popup mini={mini}>\n                <div className=\"side-strip\"><TokenIcon token={token} /></div>\n                <div className=\"popup--body--details\">\n                    {last ? <>{last.utxo.confirmations} / {numberOfConfirmations(order.shiftParams.sendToken, networkDetails)} confirmations</> : <>Waiting for deposit</>}\n                </div>\n            </Popup>;\n        }\n\n        return <Popup mini={mini}>\n            <div className=\"deposit-address\">\n                <div className=\"popup--body--actions\">\n                    {utxos.size > 0 ? showUTXOs : showAddress}\n                </div>\n            </div>\n        </Popup>;\n    };\n","import * as React from \"react\";\n\nimport { InfoLabel, LabelLevel, Loading } from \"@renproject/react-components\";\nimport { Tx } from \"@renproject/interfaces\";\nimport styled from \"styled-components\";\nimport { NetworkDetails } from \"@renproject/utils/build/main/types/networks\";\n\nimport { _catchInteractionErr_ } from \"../../../lib/errors\";\nimport { txUrl } from \"../../../lib/txUrl\";\nimport { LabelledDiv } from \"../LabelledInput\";\nimport { OpeningShiftMini } from \"../OpeningShiftMini\";\nimport { Popup } from \"../Popup\";\n\nconst TransparentButton = styled.button`\n        position: relative;\n        &:disabled {\n            color: rgba(255, 255, 255, 0.5);\n        }\n    `;\nconst TransparentLoading = styled(Loading)`\n        position: absolute;\n        margin-left: 20px;\n        margin-top: 3px;\n        display: inline-block;\n        border-color: rgba(255, 255, 255, 0.5) transparent rgba(255, 255, 255, 0.5) transparent;\n    `;\n\nexport const SubmitToEthereum: React.StatelessComponent<{\n    mini: boolean,\n    txHash: Tx | null,\n    networkDetails: NetworkDetails,\n    submit: (retry?: boolean) => Promise<void>,\n}> = ({ mini, txHash, networkDetails, submit }) => {\n    const [submitting, setSubmitting] = React.useState(false);\n    const [error, setError] = React.useState(null as Error | null);\n    const [failedTransaction, setFailedTransaction] = React.useState(null as string | null);\n\n    const onSubmit = React.useCallback(async () => {\n        setError(null);\n        setFailedTransaction(null);\n        setSubmitting(true);\n        try {\n            await submit(error !== null);\n        } catch (error) {\n            setSubmitting(false);\n            let shownError = error;\n\n            // Ignore user denying error in MetaMask.\n            if (String(shownError.message || shownError).match(/User denied transaction signature/)) {\n                return;\n            }\n\n            _catchInteractionErr_(shownError, \"Error in SubmitToEthereum: submit\");\n            const match = String(shownError.message || shownError).match(/\"transactionHash\": \"(0x[a-fA-F0-9]{64})\"/);\n            if (match && match.length >= 2) {\n                setFailedTransaction(match[1]);\n                shownError = new Error(\"Transaction reverted.\");\n            }\n            setError(shownError);\n        }\n    }, [submit, error]);\n\n    // useEffect replaces `componentDidMount` and `componentDidUpdate`.\n    // To limit it to running once, we use the initialized hook.\n    const [initialized, setInitialized] = React.useState(false);\n    React.useEffect(() => {\n        if (!initialized) {\n            setInitialized(true);\n            if (txHash) {\n                onSubmit().catch(console.error);\n            }\n        }\n    }, [initialized, txHash, onSubmit]);\n\n    if (mini) { return <OpeningShiftMini />; }\n\n    return <Popup mini={mini}>\n        <div className=\"submit-to-ethereum\">\n            <div className=\"popup--body\">\n                {error ? <span className=\"ethereum-error red\">\n                    Error submitting to Ethereum <InfoLabel level={LabelLevel.Warning}>{`${error.message || error}`}</InfoLabel>\n                    {failedTransaction ? <>\n                        <br />\n                        See the <a className=\"blue\" href={`${networkDetails.contracts.etherscan}/tx/${failedTransaction}`}>Transaction Stack Trace</a> for more details.\n                        <br />\n                    </> : null}\n                </span> : null}\n                {txHash ?\n                    <a className=\"no-underline\" target=\"_blank\" rel=\"noopener noreferrer\" href={txUrl(txHash, networkDetails)}>\n                        <LabelledDiv style={{ textAlign: \"center\", maxWidth: \"unset\" }} inputLabel=\"Transaction Hash\" width={125} loading={true} >{txHash.hash}</LabelledDiv>\n                    </a> :\n                    <div className=\"popup--buttons\">\n                        <TransparentButton className=\"button open--confirm\" disabled={submitting} onClick={onSubmit}>Complete with MetaMask {submitting ? <TransparentLoading alt={true} /> : \"\"}</TransparentButton>\n                    </div>\n                }\n            </div>\n        </div>\n    </Popup>;\n};\n","import * as React from \"react\";\n\nimport { TokenIcon } from \"@renproject/react-components\";\nimport {\n    GatewayMessageType, ShiftInEvent, ShiftInStatus, ShiftOutEvent, ShiftOutStatus,\n} from \"@renproject/interfaces\";\nimport BigNumber from \"bignumber.js\";\nimport QRCode from \"qrcode.react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport styled from \"styled-components\";\n\nimport infoIcon from \"../../images/icons/info.svg\";\nimport { _catchInteractionErr_ } from \"../../lib/errors\";\nimport { postMessageToClient } from \"../../lib/postMessage\";\nimport { isFunction, isPromise } from \"../../lib/utils\";\nimport { connect, ConnectedProps } from \"../../state/connect\";\nimport { Token } from \"../../state/generalTypes\";\nimport { SDKContainer } from \"../../state/sdkContainer\";\nimport { UIContainer } from \"../../state/uiContainer\";\nimport { getURL } from \"../controllers/Storage\";\nimport { LogIn } from \"../views/LogIn\";\nimport { AskForAddress } from \"../views/shift-popup/AskForAddress\";\nimport { Complete } from \"../views/shift-popup/Complete\";\nimport { DepositReceived } from \"../views/shift-popup/DepositReceived\";\nimport { ShowDepositAddress } from \"../views/shift-popup/ShowDepositAddress\";\nimport { SubmitToEthereum } from \"../views/shift-popup/SubmitToEthereum\";\nimport { Tooltip } from \"../views/tooltip/Tooltip\";\n\ninterface Props extends ConnectedProps<[UIContainer, SDKContainer]> {\n}\n\nconst getRequiredAddressAndName = (shiftParams: ShiftInEvent[\"shiftParams\"] | ShiftOutEvent[\"shiftParams\"]) => shiftParams.contractCalls ? Array.from(shiftParams.contractCalls).reduce((accOuter, contractCall) => {\n    if (accOuter !== null || isFunction(contractCall) || isPromise(contractCall)) { return accOuter; }\n    return (contractCall.contractParams || []).reduce((acc, param) => {\n        if (acc !== null || !param || typeof param.value !== \"string\") { return acc; }\n        const match = param.value.match(/^__renAskForAddress__([a-zA-Z0-9]+)?$/);\n        return match ? [param.name, match] : null;\n    }, null as [string, RegExpMatchArray] | null);\n}, null as [string, RegExpMatchArray] | null) as [string, RegExpMatchArray] | null : null;\n\nconst QRCodeContainer = styled.div`\n            background: #FFFFFF;\n            border: 1px solid #DBE0E8;\n            border-radius: 6px;\n            display: inline-flex;\n            padding: 10px;\n\n            size: 110px;\n            width: 132px;\n            height: 132px;\n\n            >canvas {\n                height: 110px !important;\n                width: 110px !important;\n            }\n            `;\n\nconst QRCodeOuter = styled.div`\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n\n            >span {\n                font-size: 1.4rem;\n                color: #3F3F48;\n                margin-top: 16px;\n            }\n`;\n\nconst ParentContainer = styled.div`\n            display: flex;\n            align-content: center;\n            align-items: center;\n            `;\n\nconst ParentInfo = styled.span`\n            font-size: 1.8rem;\n            margin: 0 5px;\n            & > img {\n                margin: 0 5px;\n            }\n                        .address {\n                font-size: 1.4rem;\n            }\n            `;\n\nconst AmountSpan = styled.span`\n                color: ${props => props.theme.primaryColor};\n                cursor: pointer;\n            `;\n\n/**\n * OpeningShift is a visual component for allowing users to open new shifts\n */\nexport const OpeningShift = connect<Props & ConnectedProps<[UIContainer, SDKContainer]>>([UIContainer, SDKContainer])(\n    ({ containers: [uiContainer, sdkContainer] }) => {\n\n        const [showQR, setShowQR] = React.useState(false);\n        // tslint:disable-next-line: prefer-const\n        let [returned, setReturned] = React.useState(false);\n\n        const toggleShowQR = React.useCallback(() => setShowQR(!showQR), [showQR]);\n\n        const onNoBurnFound = async () => {\n            if (returned) {\n                return;\n            }\n            returned = true;\n            setReturned(true);\n            if (uiContainer.state.gatewayPopupID) {\n                await sdkContainer.updateShift({ returned: true });\n                postMessageToClient(window, uiContainer.state.gatewayPopupID, GatewayMessageType.Error, { message: `No token burn found in transaction.` });\n            }\n            uiContainer.resetTrade().catch((error) => _catchInteractionErr_(error, \"Error in OpeningShift: onNoBurnFound > resetTrade\"));\n        };\n\n        const { sdkRenVM, shift } = sdkContainer.state;\n\n        if (!shift) {\n            throw new Error(`Unable to load shift details`);\n        }\n\n        const { paused, utxos, wrongNetwork, expectedNetwork } = uiContainer.state;\n\n        // const title = window.parent.document.title;\n        const url = getURL();\n\n        const urlDomain = (data: string) => {\n            const a = document.createElement(\"a\");\n            a.href = data;\n            return a.hostname;\n        };\n\n        const title = urlDomain(url);\n\n        const shiftIn = () => {\n\n            const shiftParams = shift.shiftParams as ShiftInEvent[\"shiftParams\"];\n\n            const token = shiftParams.sendToken.slice(0, 3) as Token;\n\n            const requiredAmount = shiftParams.requiredAmount ? new BigNumber(\n                BigNumber.isBigNumber(shiftParams.requiredAmount) ? shiftParams.requiredAmount : shiftParams.requiredAmount.toString()\n            ).div(new BigNumber(10).exponentiatedBy(8)).toFixed() : undefined; // TODO: decimals\n\n            const suggestedAmount = shiftParams.suggestedAmount ? new BigNumber(\n                BigNumber.isBigNumber(shiftParams.suggestedAmount) ? shiftParams.suggestedAmount : shiftParams.suggestedAmount.toString()\n            ).div(new BigNumber(10).exponentiatedBy(8)).toFixed() : undefined; // TODO: decimals\n\n            const amount = requiredAmount || suggestedAmount;\n\n            let depositAddress;\n\n            let inner = <></>;\n            if (!sdkRenVM) {\n                inner = <LogIn correctNetwork={expectedNetwork || \"correct\"} token={token} paused={paused} wrongNetwork={wrongNetwork} />;\n            } else {\n                switch (shift.status) {\n                    case ShiftInStatus.Committed:\n                    case ShiftInStatus.Deposited:\n                        // tslint:disable-next-line: no-unnecessary-type-assertion\n                        const requiredAddressAndName = getRequiredAddressAndName(shiftParams);\n                        if (requiredAddressAndName !== null) {\n                            const [variableName, requiredAddress] = requiredAddressAndName;\n                            const requestedToken = requiredAddress[1] as Token || token;\n                            inner = <AskForAddress\n                                mini={paused}\n                                key={requestedToken}\n                                token={requestedToken}\n                                isTestnet={sdkRenVM.network.isTestnet}\n                                message={<>Your {requestedToken.toUpperCase()} address is required for <span className=\"url\">{variableName}</span></>}\n                                onAddress={sdkContainer.updateToAddress}\n                            />;\n                        } else {\n                            depositAddress = sdkContainer.generateAddress() || \"\";\n\n                            // Show the deposit address and wait for a deposit\n                            inner = <ShowDepositAddress\n                                mini={paused}\n                                order={shift}\n                                depositAddress={depositAddress}\n                                token={token}\n                                utxos={utxos}\n                                waitForDeposit={sdkContainer.waitForDeposits}\n                                onQRClick={toggleShowQR}\n                                onDeposit={uiContainer.deposit}\n                                networkDetails={sdkRenVM.network}\n                            />;\n                        }\n                        break;\n                    case ShiftInStatus.Confirmed:\n                    case ShiftInStatus.SubmittedToRenVM:\n                        inner = <DepositReceived token={token} mini={paused} renVMStatus={shift.renVMStatus} renTxHash={shift.renTxHash} submitDeposit={sdkContainer.submitMintToRenVM} />;\n                        break;\n                    case ShiftInStatus.ReturnedFromRenVM:\n                    case ShiftInStatus.SubmittedToEthereum:\n                        inner = <SubmitToEthereum networkDetails={sdkRenVM.network} mini={paused} txHash={shift.outTx} submit={sdkContainer.submitMintToEthereum} />;\n                        break;\n                    case ShiftInStatus.ConfirmedOnEthereum:\n                        return <Complete token={token} networkDetails={sdkRenVM.network} mini={paused} inTx={shift.inTx} outTx={shift.outTx} />;\n                }\n            }\n\n            return <>\n                {!paused ? <div className=\"popup--body--details\">\n                    {showQR && depositAddress ?\n                        <QRCodeOuter>\n                            <QRCodeContainer>\n                                <QRCode value={`bitcoin:${depositAddress}${amount ? `?amount=${amount}` : \"\"}`} />\n                            </QRCodeContainer>\n                            <span>Deposit {amount ? <><CopyToClipboard text={`${amount}`}><AmountSpan>{amount}</AmountSpan></CopyToClipboard>{\" \"}</> : <></>}{token.toUpperCase()}</span>\n                        </QRCodeOuter>\n                        : <>\n                            <div className=\"popup--token--icon\"><TokenIcon token={token} /></div>\n                            <div className=\"popup--body--title\">\n                                Deposit {amount ? <><CopyToClipboard text={`${amount}`}><AmountSpan>{amount}</AmountSpan></CopyToClipboard>{\" \"}</> : <></>}{token.toUpperCase()}\n                            </div>\n                            <div className=\"popup--title--to\">{sdkRenVM && sdkRenVM.network.isTestnet ? \"(testnet tokens)\" : \"\"}{\" \"}to</div>\n                            <ParentContainer>\n                                <ParentInfo>\n                                    <img alt=\"\" role=\"presentation\" src={`https://s2.googleusercontent.com/s2/favicons?domain_url=${url}`} />{title}\n                                </ParentInfo>\n                                <Tooltip align=\"left\" width={300} contents={<pre>{url}</pre>}><img alt={`Tooltip: ${url}`} src={infoIcon} /></Tooltip>\n                            </ParentContainer>\n                        </>}\n                </div> : <></>\n                }\n                {inner}\n            </>;\n        };\n\n        const shiftOut = () => {\n            const { renTxHash, shiftParams, renVMStatus } = shift as ShiftOutEvent;\n\n            const token = shift.shiftParams.sendToken.slice(0, 3) as Token;\n\n            let inner = <></>;\n\n            if (!sdkRenVM) {\n                inner = <LogIn correctNetwork={expectedNetwork || \"correct\"} token={token} paused={paused} wrongNetwork={wrongNetwork} />;\n            } else {\n                switch (shift.status) {\n                    case ShiftOutStatus.Committed:\n                        // tslint:disable-next-line: no-unnecessary-type-assertion\n                        const requiredAddressAndName = getRequiredAddressAndName(shiftParams);\n                        if (requiredAddressAndName) {\n                            const [variableName, requiredAddress] = requiredAddressAndName;\n                            const requestedToken = requiredAddress[1] as Token || token;\n                            inner = <AskForAddress\n                                mini={paused}\n                                key={requestedToken}\n                                token={requestedToken}\n                                isTestnet={sdkRenVM.network.isTestnet}\n                                message={<>Your {requestedToken.toUpperCase()} address is required for <span className=\"url\">{variableName}</span></>}\n                                onAddress={sdkContainer.updateToAddress}\n                            />;\n                        } else {\n                            inner = <SubmitToEthereum networkDetails={sdkRenVM.network} mini={paused} txHash={shift.inTx} submit={sdkContainer.submitBurnToEthereum} />;\n                        }\n                        // const submit = async (submitOrderID: string) => {\n                        //     await sdkContainer.approveTokenTransfer(submitOrderID);\n                        //     setERC20Approved(true);\n                        // };\n                        // if (isERC20(order.orderInputs.srcToken) && !ERC20Approved) {\n                        //     return <TokenAllowance token={order.orderInputs.srcToken} amount={order.orderInputs.srcAmount} submit={submit} shiftParams={shiftParams} />;\n                        // }\n                        break;\n                    case ShiftOutStatus.SubmittedToEthereum:\n                        // Submit the trade to Ethereum\n                        inner = <SubmitToEthereum networkDetails={sdkRenVM.network} mini={paused} txHash={shift.inTx} submit={sdkContainer.submitBurnToEthereum} />;\n                        break;\n                    case ShiftOutStatus.ConfirmedOnEthereum:\n                    case ShiftOutStatus.SubmittedToRenVM:\n                        inner = <DepositReceived token={token} mini={paused} renVMStatus={renVMStatus} renTxHash={renTxHash} submitDeposit={sdkContainer.submitBurnToRenVM} />;\n                        break;\n                    case ShiftOutStatus.NoBurnFound:\n                        onNoBurnFound().catch((error) => _catchInteractionErr_(error, \"Error in OpeningShift: shiftOut > onNoBurnFound\"));\n                        inner = <></>;\n                        break;\n                    case ShiftOutStatus.ReturnedFromRenVM:\n                        return <Complete token={token} networkDetails={sdkRenVM.network} mini={paused} inTx={shift.inTx} outTx={shift.outTx} />;\n                }\n            }\n\n            const contractAddress = (shift.shiftParams.contractCalls && ((shift.shiftParams.contractCalls[shift.shiftParams.contractCalls.length - 1]).sendTo)) || \"\";\n\n            return <>\n                {!paused ? <div className=\"popup--body--details\">\n                    <div className=\"popup--token--icon\"><TokenIcon token={token} /></div>\n                    <div className=\"popup--body--title\">\n                        Receive {token.toUpperCase()}\n                    </div>\n                    <div>from</div>\n                    <ParentContainer>\n                        <ParentInfo>\n                            <img alt=\"\" role=\"presentation\" src={`https://s2.googleusercontent.com/s2/favicons?domain_url=${url}`} />{title}\n                        </ParentInfo>\n                        <Tooltip align=\"left\" width={300} contents={<pre>{url}</pre>}><img alt={`Tooltip: ${url}`} src={infoIcon} /></Tooltip>\n                        <ParentInfo>\n                            <span />(<span className=\"address\">{contractAddress.slice(0, 12)}<span>{contractAddress.slice(12, -6)}</span>{contractAddress.slice(-6, -1)}</span>)\n                        </ParentInfo>\n                    </ParentContainer>\n                </div> : <></>}\n                {inner}\n            </>;\n        };\n\n        return shift.shiftParams.sendToken.slice(4, 7).toLowerCase() === \"eth\" ? shiftOut() : shiftIn();\n    }\n);\n","import * as React from \"react\";\n\nimport { ShiftInStatus, ShiftOutStatus } from \"@renproject/interfaces\";\n\nimport infoIcon from \"../../images/icons/info.svg\";\nimport { connect, ConnectedProps } from \"../../state/connect\";\nimport { SDKContainer } from \"../../state/sdkContainer\";\nimport { ProgressBar } from \"../views/ProgressBar\";\nimport { Tooltip } from \"../views/tooltip/Tooltip\";\n\ninterface Props extends ConnectedProps<[SDKContainer]> {\n}\n\nexport const ProgressItem = ({ name, label, target, progress, tooltip }: { name?: React.ReactChild, label?: string | number, target: number, progress: number, tooltip?: string }) =>\n    <div className={`shift-progress--item ${progress >= target ? \"shift-progress--item--done\" : \"\"}`}>\n        <div className=\"shift-progress--number\">{label || target}</div>\n        {name ? <div className=\"shift-progress--label\">{name} {tooltip ? <Tooltip contents={tooltip}><img alt={`Tooltip: ${tooltip}`} src={infoIcon} /></Tooltip> : null}</div> : <></>}\n    </div>;\n\nconst statusToProgress = (status: ShiftInStatus | ShiftOutStatus) => {\n    switch (status) {\n        // Shift in\n        case ShiftInStatus.Committed: return 0;\n        case ShiftInStatus.Deposited: return 1;\n        case ShiftInStatus.Confirmed: return 1;\n        case ShiftInStatus.SubmittedToRenVM: return 1;\n        case ShiftInStatus.ReturnedFromRenVM: return 2;\n        case ShiftInStatus.SubmittedToEthereum: return 2;\n        case ShiftInStatus.ConfirmedOnEthereum: return 3;\n\n        // Shift out\n        case ShiftOutStatus.Committed: return 0;\n        case ShiftOutStatus.SubmittedToEthereum: return 0;\n        case ShiftOutStatus.ConfirmedOnEthereum: return 1;\n        case ShiftOutStatus.NoBurnFound: return 1;\n        case ShiftOutStatus.SubmittedToRenVM: return 1;\n        case ShiftOutStatus.ReturnedFromRenVM: return 2;\n    }\n};\n\nexport const ShiftProgress = connect<Props & ConnectedProps<[SDKContainer]>>([SDKContainer])(\n    ({ containers: [sdkContainer] }) => {\n\n        const { shift } = sdkContainer.state;\n\n        const progress = shift ? statusToProgress(shift.status) : 0;\n\n        return shift ?\n            shift.shiftParams.sendToken.slice(4, 7).toLowerCase() === \"eth\" ?\n                <ProgressBar\n                    className=\"shift-progress\"\n                    items={[\n                        { name: \"MetaMask\" },\n                        { name: \"RenVM\" },\n                        { name: \"Complete\" },\n                    ]}\n                    progress={progress}\n                />\n                :\n                <ProgressBar\n                    className=\"shift-progress\"\n                    items={[\n                        { name: \"Deposit\" },\n                        { name: \"Confirmations\", tooltip: \"RenVM waits for 2 confirmations for BTC/BCH and 6 confirmations for ZEC\" },\n                        { name: \"MetaMask\" },\n                        { name: \"Complete\" },\n                    ]}\n                    progress={progress}\n                />\n            :\n            <></>;\n    }\n);\n","import * as React from \"react\";\n\nimport RenJS from \"@renproject/ren\";\nimport {\n    GatewayMessage, GatewayMessageType, HistoryEvent, Ox, RenNetwork, SendTokenInterface,\n    SerializableShiftParams, ShiftInEvent, ShiftInParams, ShiftInStatus, ShiftOutEvent,\n    ShiftOutParams, ShiftOutStatus, sleep, strip0x, UnmarshalledTx,\n} from \"@renproject/interfaces\";\nimport { processShiftInParams, processShiftOutParams } from \"@renproject/utils\";\nimport { parse as parseLocation } from \"qs\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport { DEFAULT_NETWORK } from \"../../lib/environmentVariables\";\nimport { _catchInteractionErr_ } from \"../../lib/errors\";\nimport { _acknowledgeMessage, _addListener, postMessageToClient } from \"../../lib/postMessage\";\nimport { connect, ConnectedProps } from \"../../state/connect\";\nimport { SDKContainer } from \"../../state/sdkContainer\";\nimport { UIContainer } from \"../../state/uiContainer\";\nimport { Footer } from \"../views/Footer\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\nimport { OpeningShift } from \"./OpeningShift\";\nimport { ShiftProgress } from \"./ProgressBar\";\nimport { getStorage, removeStorageTrade } from \"./Storage\";\n\n/**\n * App is the main visual component responsible for displaying different routes\n * and running background app loops\n */\nexport const Main = withRouter(connect<RouteComponentProps & ConnectedProps<[UIContainer, SDKContainer]>>([UIContainer, SDKContainer])(\n    ({ containers: [uiContainer, sdkContainer], location }) => {\n\n        const pause = React.useCallback(async (fromClient?: boolean) => {\n            if (!fromClient) {\n                const sendMsg = () => {\n                    if (uiContainer.state.gatewayPopupID) {\n                        postMessageToClient(window, uiContainer.state.gatewayPopupID, GatewayMessageType.Pause, {});\n                    }\n                };\n                // The client send a pause or resume reminder message every\n                // second, so there's a change that the user clicks pause or\n                // resume just as the client sends the reminder.\n                sendMsg();\n                setTimeout(sendMsg, 100);\n            }\n            return uiContainer.pause();\n        }, [uiContainer]);\n\n        const pauseOnClick = React.useCallback(() => pause(false), [pause]);\n\n        const resume = React.useCallback(async (fromClient?: boolean) => {\n            if (!fromClient) {\n                const sendMsg = () => {\n                    if (uiContainer.state.gatewayPopupID) {\n                        postMessageToClient(window, uiContainer.state.gatewayPopupID, GatewayMessageType.Resume, {});\n                    }\n                };\n                // See above on pausing.\n                sendMsg();\n                setTimeout(sendMsg, 100);\n            }\n            return uiContainer.resume();\n        }, [uiContainer]);\n\n        const resumeOnClick = React.useCallback(() => resume(false), [resume]);\n\n        const cancelShift = React.useCallback(async (fromClient?: boolean) => {\n            let retries = 0;\n            while (!sdkContainer.state.shift || !uiContainer.state.renNetwork) {\n                // Make errors less frequent as retries increase (by checking if retries is a square).\n                if (Math.floor(Math.sqrt(retries)) ** 2 === retries) { console.error(`Waiting for shift information to cancel shift.`); }\n                retries++;\n                await sleep(100);\n            }\n            if (sdkContainer.state.shift.shiftParams.nonce) {\n                await removeStorageTrade(uiContainer.state.renNetwork, sdkContainer.state.shift.shiftParams.nonce);\n                // TODO: Handle no nonce.\n            }\n            if (!fromClient && uiContainer.state.gatewayPopupID) {\n                await sdkContainer.updateShift({ returned: true });\n                postMessageToClient(window, uiContainer.state.gatewayPopupID, GatewayMessageType.Cancel, {});\n            }\n        }, [uiContainer, sdkContainer]);\n\n        const cancelOnClick = React.useCallback(() => cancelShift(false), [cancelShift]);\n\n        const onDone = React.useCallback(async () => {\n            let response: {} | UnmarshalledTx = {};\n            try {\n                response = await sdkContainer.queryShiftStatus();\n            } catch (error) {\n                _catchInteractionErr_(error, { description: \"Error in Main.tsx: onDone > queryShiftStatus\" });\n            }\n            if (uiContainer.state.gatewayPopupID) {\n                await sdkContainer.updateShift({ returned: true });\n                postMessageToClient(window, uiContainer.state.gatewayPopupID, GatewayMessageType.Done, response);\n            }\n            uiContainer.resetTrade().catch((error) => _catchInteractionErr_(error, \"Error in OpeningShift: onDone > resetTrade\"));\n        }, [uiContainer]);\n\n        // React.useEffect(() => {\n        //     const queryParams = parseLocation(location.search.replace(/^\\?/, \"\"));\n        //     const queryShiftID = queryParams.id;\n        //     if (queryShiftID !== uiContainer.state.gatewayPopupID) {\n        //         uiContainer.handleShift(queryShiftID).catch(console.error);\n        //     }\n        // }, [uiContainer.state.gatewayPopupID]);\n\n        React.useEffect(() => {\n\n            const queryParams = parseLocation(location.search.replace(/^\\?/, \"\"));\n            const queryShiftID = queryParams.id;\n            uiContainer.handleShift(queryShiftID).catch(console.error);\n\n            const urlRenNetwork: string = queryParams.network || DEFAULT_NETWORK;\n            uiContainer.setState({ renNetwork: urlRenNetwork }).catch(console.error);\n\n            // tslint:disable-next-line: no-any\n            _addListener((e: { data: GatewayMessage<any> }) => {\n                const message = e.data;\n                if (message && message.from === \"ren\" && message.frameID === uiContainer.state.gatewayPopupID) {\n                    (async () => {\n                        switch (message.type) {\n                            case GatewayMessageType.Shift:\n                                _acknowledgeMessage(message);\n                                const { paused: alreadyPaused, shift: shiftParamsIn }: { paused: boolean, shift: SerializableShiftParams | ShiftInEvent | ShiftOutEvent } = (message as GatewayMessage<GatewayMessageType.Shift>).payload;\n                                await (alreadyPaused ? pause() : resume());\n                                const shiftID = message.frameID;\n                                const time = Date.now() / 1000;\n\n                                const randomID = Ox(strip0x(shiftID).repeat(4).slice(0, 64));\n\n                                let historyEvent: HistoryEvent | undefined;\n                                let shiftParams: HistoryEvent[\"shiftParams\"];\n\n                                if (shiftParamsIn.hasOwnProperty(\"shiftParams\")) {\n                                    historyEvent = shiftParamsIn as unknown as HistoryEvent;\n                                    shiftParams = { ...historyEvent.shiftParams };\n                                    shiftParams.nonce = shiftParams.nonce || randomID;\n                                } else {\n                                    historyEvent = undefined;\n                                    shiftParams = {\n                                        ...(shiftParamsIn as (ShiftOutParams & ShiftInParams & SendTokenInterface)),\n                                        nonce: (shiftParamsIn as (ShiftOutParams & ShiftInParams & SendTokenInterface)).nonce || randomID,\n                                    };\n                                }\n\n                                let shiftDetails;\n\n                                if (shiftParams.sendToken === RenJS.Tokens.BTC.Btc2Eth ||\n                                    shiftParams.sendToken === RenJS.Tokens.ZEC.Zec2Eth ||\n                                    shiftParams.sendToken === RenJS.Tokens.BCH.Bch2Eth) {\n                                    shiftDetails = {\n                                        // Cast required by TS to differentiate ShiftIn and ShiftOut types.\n                                        shiftIn: true as true,\n                                        status: ShiftInStatus.Committed,\n                                        // tslint:disable-next-line: no-object-literal-type-assertion\n                                        shiftParams: processShiftInParams((sdkContainer.state.sdkRenVM || new RenJS(urlRenNetwork)).network, shiftParams as ShiftInParams) as ShiftInEvent[\"shiftParams\"],\n                                    };\n                                } else {\n                                    shiftDetails = {\n                                        shiftIn: false as false,\n                                        status: ShiftOutStatus.Committed,\n                                        shiftParams: processShiftOutParams((sdkContainer.state.sdkRenVM || new RenJS(urlRenNetwork)).network, shiftParams as ShiftOutParams) as unknown as ShiftOutEvent[\"shiftParams\"],\n                                    };\n                                }\n\n\n                                historyEvent = {\n                                    ...shiftDetails,\n                                    id: shiftID,\n                                    time,\n                                    inTx: null,\n                                    outTx: null,\n                                    renTxHash: null,\n                                    renVMStatus: null,\n                                    returned: false,\n                                    ...historyEvent,\n                                };\n\n                                await sdkContainer.updateShift(historyEvent, { sync: true });\n\n                                break;\n                            case GatewayMessageType.Pause:\n                                _acknowledgeMessage(message);\n                                pause(true).catch(console.error);\n\n                                break;\n                            case GatewayMessageType.Cancel:\n                                _acknowledgeMessage(message);\n                                cancelShift(true).catch(console.error);\n                                break;\n                            case GatewayMessageType.Resume:\n                                _acknowledgeMessage(message);\n                                resume(true).catch(console.error);\n                                break;\n                            case GatewayMessageType.GetTrades:\n                                _acknowledgeMessage(message);\n                                postMessageToClient(window, message.frameID, GatewayMessageType.GetTrades, await getStorage(urlRenNetwork));\n                                break;\n                            case GatewayMessageType.GetStatus:\n                                _acknowledgeMessage(message, sdkContainer.getShiftStatus());\n                                break;\n                            default:\n                                // Acknowledge that we got the message. We don't\n                                // know how to handle it, but we don't want\n                                // the parent window to keep re-sending it.\n                                _acknowledgeMessage(message);\n                        }\n                    })().catch((error) => _catchInteractionErr_(error, \"Error in App: onMessage\"));\n                }\n            });\n            postMessageToClient(window, queryShiftID, GatewayMessageType.Ready, {});\n        }, []);\n\n        // const login = React.useCallback(async () => {\n        //     const queryParams = parseLocation(location.search.replace(/^\\?/, \"\"));\n        //     const urlRenNetwork: string = queryParams.network || DEFAULT_NETWORK;\n        //     uiContainer.setState({ renNetwork: urlRenNetwork }).catch(console.error);\n\n        //     // const πNetworkID = web3.eth.net.getId();\n        //     // const πAddresses = web3.eth.getAccounts();\n\n        //     // const networkID = await πNetworkID;\n        //     const expectedNetworkID = (sdkContainer.state.sdkRenVM || new RenJS(urlRenNetwork)).network.contracts.networkID;\n        //     const expectedNetwork = (sdkContainer.state.sdkRenVM || new RenJS(urlRenNetwork)).network.contracts.chainLabel;\n        //     if (networkID !== expectedNetworkID) {\n        //         await uiContainer.setState({ wrongNetwork: networkID, expectedNetwork });\n        //         return;\n        //     }\n        //     // const addresses = await πAddresses;\n        //     // const address = addresses.length > 0 ? addresses[0] : null;\n\n        //     await Promise.all([\n        //         uiContainer.connect(),\n        //         sdkContainer.connect(urlRenNetwork),\n        //     ]);\n\n        // }, []);\n\n        // useEffect replaces `componentDidMount` and `componentDidUpdate`.\n        // To limit it to running once, we use the initialized hook.\n        // const [initialized, setInitialized] = React.useState(false);\n        // React.useEffect(() => {\n        //     if (!initialized) {\n        //         setInitialized(true);\n\n        //         // Start loops to update prices and balances\n        //         // setInterval(() => uiContainer.lookForLogout(), 1 * 1000);\n        //         // login().catch((error) => { setInitialized(false); _catchInteractionErr_(error, \"Error in App: login\"); });\n        //     }\n        // }, [initialized, login, uiContainer]);\n\n        React.useEffect(() => {\n            const queryParams = parseLocation(location.search.replace(/^\\?/, \"\"));\n            const urlRenNetwork: string = queryParams.network || DEFAULT_NETWORK;\n            uiContainer.setState({ renNetwork: urlRenNetwork }).catch(console.error);\n            uiContainer.connect();\n            sdkContainer.connect(urlRenNetwork);\n        }, []);\n\n        const { paused, renNetwork } = uiContainer.state;\n        const { shift } = sdkContainer.state;\n\n        return <main className={paused ? \"paused\" : \"\"} onClick={paused ? resumeOnClick : undefined}>\n            {!paused ? <div className=\"banner\">\n                <span>Gateway {renNetwork === RenNetwork.Chaosnet || renNetwork === RenNetwork.Mainnet ? \"by Ren Project\" : <span className=\"warning\"> {renNetwork}</span>}</span>\n                {shift ?\n                    (shift.status === ShiftInStatus.Committed || shift.status === ShiftOutStatus.Committed) ?\n                        <div role=\"button\" className={`popup--cancel`} onClick={cancelOnClick}>Cancel</div> :\n                        (shift.status === ShiftInStatus.ConfirmedOnEthereum || shift.status === ShiftOutStatus.ReturnedFromRenVM) ?\n                            <div role=\"button\" className={`popup--cancel`} onClick={onDone}>Close</div> :\n                            <div role=\"button\" className={`popup--x`} onClick={pauseOnClick} />\n                    :\n                    <></>\n                }\n            </div> : <></>}\n            <div className=\"main\">\n\n                {shift ? <ErrorBoundary>< OpeningShift /></ErrorBoundary> : <></>}\n                {window === window.top ? <span className=\"not-in-iframe\">See <a href=\"https://github.com/renproject/gateway-js\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/renproject/gateway-js</a> for more information about GatewayJS.</span> : <></>}\n                {!paused && shift ? <ShiftProgress /> : <></>}\n            </div>\n            {!paused && <Footer />}\n        </main>;\n    }\n));\n","import * as React from \"react\";\n\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport { GetTrades } from \"./GetTrades\";\nimport { Main } from \"./Main\";\n\nconst NotFound = () => <div>404 Not Found</div>;\n\nexport const App = () => {\n    return (\n        <Router basename={process.env.PUBLIC_URL}>\n            <Switch>\n                <Route path=\"/\" exact component={Main} />\n                <Route path=\"/get-trades\" exact component={GetTrades} />\n                <Route component={NotFound} />\n            </Switch>\n        </Router>\n    );\n};\n","import * as Sentry from \"@sentry/browser\";\n\nimport { ExtraErrorData } from \"@sentry/integrations\";\n\nimport { SENTRY_DSN, SENTRY_ENVIRONMENT, SOURCE_VERSION } from \"./environmentVariables\";\nimport { pageLoadedAt } from \"./errors\";\n\nexport const initializeSentry = () => {\n\n    // Initialize Sentry error logging\n    Sentry.init({\n        // Used to define the project to log errors to\n        dsn: SENTRY_DSN,\n\n        // Used to separate production and staging errors\n        environment: SENTRY_ENVIRONMENT,\n\n        // Used to track errors across versions\n        release: SOURCE_VERSION,\n\n        // Only throw errors generated from scripts at these URLs\n        whitelistUrls: [\n            /.*republicprotocol.*/i,\n            /.*renproject.*/i,\n\n            // Local testing (localhost and IPv4 addresses)\n            /.*localhost.*/i,\n            /.*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).*/\n        ],\n\n        integrations: [new ExtraErrorData()],\n    });\n\n    Sentry.configureScope((scope) => {\n        scope.setExtra(\"loggedIn\", false);\n\n        // We set this to false when logging to Sentry explicitly.\n        scope.setExtra(\"caught\", false);\n\n        scope.setExtra(\"release\", SOURCE_VERSION);\n\n        scope.setExtra(\"pageLoadedAt\", pageLoadedAt());\n    });\n};\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { ThemeProvider } from \"styled-components\";\nimport { Provider } from \"unstated\";\n\nimport { App } from \"./components/controllers/App\";\nimport { initializeSentry } from \"./lib/sentry\";\n// Import css first so that styles are consistent across dev and build\nimport \"./scss/index.scss\";\nimport { theme } from \"./scss/theme\";\nimport { SDKContainer } from \"./state/sdkContainer\";\nimport { UIContainer } from \"./state/uiContainer\";\n\ninitializeSentry();\n\nconst uiContainer = new UIContainer();\nconst sdkContainer = new SDKContainer(uiContainer);\n\nReactDOM.render(\n    <div className=\"_ren\">\n        <Provider inject={[uiContainer, sdkContainer]}>\n            <ThemeProvider theme={theme}>\n                <App />\n            </ThemeProvider>\n        </Provider>\n    </div>,\n    document.getElementById(\"root\") as HTMLElement\n);\n","export const theme = {\n    primaryColor: \"#006fe8\",\n    lightGrey: \"#87888C\",\n};\n","import { HistoryEvent } from \"@renproject/interfaces\";\nimport localForage from \"localforage\";\n\nimport { DEFAULT_NETWORK } from \"../../lib/environmentVariables\";\n\nconst stores = new Map<string, LocalForage>();\n\nexport const getURL = () => (window.location !== window.parent.location\n    ? document.referrer\n    : document.location.href);\n\nconst getStore = (network: string, domainIn: string) => {\n    let storeName = (new URL(domainIn)).hostname;\n    if (network !== DEFAULT_NETWORK) { storeName += `-${network}`; }\n    let store = stores.get(storeName);\n    if (store) { return store; }\n    store = localForage.createInstance({\n        name: storeName,\n    });\n    stores.set(storeName, store);\n    return store;\n};\n\nexport const getStorage = async (network: string, domainIn?: string): Promise<Map<string, HistoryEvent>> => {\n    const domain = domainIn || getURL();\n\n    const store = getStore(network, domain);\n\n    const keys = await store.keys();\n\n    const storage = new Map<string, HistoryEvent>();\n\n    for (const key of keys) {\n        storage.set(key, ((await store.getItem(key)) as HistoryEvent));\n    }\n\n    return storage;\n};\n\nexport const getStorageItem = async (network: string, nonce: string, domainIn?: string): Promise<HistoryEvent> => {\n    const domain = domainIn || getURL();\n\n    const store = getStore(network, domain);\n\n    return await store.getItem(nonce);\n};\n\nconst cancelled = new Set<string>();\n\nexport const updateStorageTrade = async (network: string, trade: HistoryEvent, domainIn?: string) => {\n    const domain = domainIn || getURL();\n\n    const store = getStore(network, domain);\n\n    if (!trade.shiftParams.nonce) {\n        throw new Error(`Shift must have nonce`);\n    }\n\n    if (!cancelled.has(trade.shiftParams.nonce)) {\n        await store.setItem(trade.shiftParams.nonce, trade);\n    }\n\n    return;\n};\n\nexport const removeStorageTrade = async (network: string, nonce: string, domainIn?: string) => {\n    const domain = domainIn || getURL();\n\n    const store = getStore(network, domain);\n\n    cancelled.add(nonce);\n    await store.removeItem(nonce);\n\n    return;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@renproject/interfaces\");\nconst bitcore_lib_1 = require(\"bitcore-lib\");\nconst bs58_1 = require(\"bs58\");\nconst BTCHandler_1 = require(\"send-crypto/build/main/handlers/BTC/BTCHandler\");\nconst wallet_address_validator_1 = require(\"wallet-address-validator\");\nconst common_1 = require(\"./common\");\nexports.createBTCAddress = common_1.createAddress(bitcore_lib_1.Networks, bitcore_lib_1.Opcode, bitcore_lib_1.Script);\nexports.getBitcoinUTXOs = ({ isTestnet }) => {\n    return async (address, confirmations) => {\n        return BTCHandler_1.getUTXOs(isTestnet, { address, confirmations });\n    };\n};\n// export const btcAddressToHex = (address: string) => {\n//     const addressBuffer = new Address(address).toBuffer();\n//     // Concatenate checksum\n//     return Ox(Buffer.concat([addressBuffer, Base58Check.checksum(addressBuffer)]));\n// };\n// export const btcAddressFrom = (address: string, encoding: \"hex\" | \"base64\") => {\n//     // tslint:disable-next-line: no-any\n//     return (Address as any)\n//         .fromBuffer(Buffer.from(encoding === \"hex\" ? strip0x(address) : address, encoding).slice(0, -4))\n//         .toString();\n// };\nexports.btcAddressToHex = (address) => interfaces_1.Ox(Buffer.from(address));\nconst isBTCAddress = (address) => wallet_address_validator_1.validate(address, \"btc\", \"testnet\") || wallet_address_validator_1.validate(address, \"btc\", \"prod\");\nconst btcTactics = {\n    decoders: [\n        (address) => Buffer.from(address),\n        (address) => Buffer.from(address, \"base64\"),\n        (address) => Buffer.from(interfaces_1.strip0x(address), \"hex\"),\n    ],\n    encoders: [\n        (buffer) => bs58_1.encode(buffer),\n        (buffer) => buffer.toString(),\n    ],\n};\nexports.anyAddressFrom = (isAnyAddress, { encoders, decoders }) => (address) => {\n    for (const encoder of encoders) {\n        for (const decoder of decoders) {\n            try {\n                const encoded = encoder(decoder(address));\n                if (isAnyAddress(encoded)) {\n                    return encoded;\n                }\n            }\n            catch (error) {\n                // Ignore errors\n            }\n        }\n    }\n    return address;\n};\nexports.btcAddressFrom = exports.anyAddressFrom(isBTCAddress, btcTactics);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnRjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2J0Yy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVEQUFxRDtBQUNyRCw2Q0FBdUQ7QUFDdkQsK0JBQThCO0FBQzlCLCtFQUEwRTtBQUMxRSx1RUFBb0Q7QUFFcEQscUNBQXlDO0FBRTVCLFFBQUEsZ0JBQWdCLEdBQUcsc0JBQWEsQ0FBQyxzQkFBUSxFQUFFLG9CQUFNLEVBQUUsb0JBQU0sQ0FBQyxDQUFDO0FBRTNELFFBQUEsZUFBZSxHQUFHLENBQUMsRUFBRSxTQUFTLEVBQTBCLEVBQUUsRUFBRTtJQUNyRSxPQUFPLEtBQUssRUFBRSxPQUFlLEVBQUUsYUFBcUIsRUFBRSxFQUFFO1FBQ3BELE9BQU8scUJBQVEsQ0FBQyxTQUFTLEVBQUUsRUFBRSxPQUFPLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRix3REFBd0Q7QUFDeEQsNkRBQTZEO0FBQzdELDhCQUE4QjtBQUM5QixzRkFBc0Y7QUFDdEYsS0FBSztBQUVMLG1GQUFtRjtBQUNuRiwwQ0FBMEM7QUFDMUMsOEJBQThCO0FBQzlCLDJHQUEyRztBQUMzRyx1QkFBdUI7QUFDdkIsS0FBSztBQUVRLFFBQUEsZUFBZSxHQUFHLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxlQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBRTdFLE1BQU0sWUFBWSxHQUFHLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxtQ0FBUSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLElBQUksbUNBQVEsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBT2xILE1BQU0sVUFBVSxHQUFZO0lBQ3hCLFFBQVEsRUFBRTtRQUNOLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN6QyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDO1FBQ25ELENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxDQUFDO0tBQzVEO0lBQ0QsUUFBUSxFQUFFO1FBQ04sQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLGFBQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEMsQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7S0FDeEM7Q0FDSixDQUFDO0FBRVcsUUFBQSxjQUFjLEdBQ3ZCLENBQUMsWUFBMEMsRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQVcsRUFBRSxFQUFFLENBQzVFLENBQUMsT0FBZSxFQUFFLEVBQUU7SUFDaEIsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7UUFDNUIsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7WUFDNUIsSUFBSTtnQkFDQSxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQzFDLElBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUN2QixPQUFPLE9BQU8sQ0FBQztpQkFDbEI7YUFDSjtZQUFDLE9BQU8sS0FBSyxFQUFFO2dCQUNaLGdCQUFnQjthQUNuQjtTQUNKO0tBQ0o7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRyxRQUFBLGNBQWMsR0FBRyxzQkFBYyxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQyJ9","import { Chain, Ox, RenVMType, strip0x, Tokens, TxStatus, } from \"@renproject/interfaces\";\nimport { assert, parseRenContract, SECONDS, sleep, syncGetTokenAddress, toBase64, utils, } from \"@renproject/utils\";\nimport BigNumber from \"bignumber.js\";\nimport { RPCMethod } from \"./jsonRPC\";\nconst decodeString = (input) => Buffer.from(input, \"base64\").toString();\nconst decodeBytes = (input) => Ox(Buffer.from(input, \"base64\"));\nconst decodeNumber = (input) => new BigNumber(input);\n/**\n * Validate an argument returned from RenVM.\n * @param name The expected name.\n * @param type The expected type.\n * @param arg The actual argument returned.\n */\nconst assertArgumentType = (name, type, arg) => {\n    assert(arg.type === type, `Expected argument ${name} of type ${type} but got ${arg.name} of type ${arg.type}`);\n    return arg.value;\n};\n// 'ArgType extends RenVMArg<Name, infer Type, infer Value> ? RenVMArg<Name, Type, Value> : never'\n// 'ArgType extends RenVMArg<infer Name, infer Type, infer Value> ? RenVMArg<Name, Type, Value> : never'\nconst assertAndDecodeBytes = (name, type, arg) => {\n    try {\n        return decodeBytes(assertArgumentType(name, type, arg));\n    }\n    catch (error) {\n        error.message = `Unable to decode parameter ${name} with value ${arg.value} (type ${typeof arg.value}): ${error.message}`;\n        throw error;\n    }\n};\nconst assertAndDecodeNumber = (name, type, arg) => {\n    try {\n        return decodeNumber(assertArgumentType(name, type, arg));\n    }\n    catch (error) {\n        error.message = `Unable to decode parameter ${name} with value ${arg.value} (type ${typeof arg.value}): ${error.message}`;\n        throw error;\n    }\n};\nconst assertAndDecodeAddress = (name, type, arg) => {\n    try {\n        return Ox(assertArgumentType(name, type, arg));\n    }\n    catch (error) {\n        error.message = `Unable to decode parameter ${name} with value ${arg.value} (type ${typeof arg.value}): ${error.message}`;\n        throw error;\n    }\n};\nconst defaultPayload = {\n    name: \"p\",\n    type: RenVMType.ExtEthCompatPayload,\n    value: {\n        abi: \"W10=\",\n        value: \"\",\n        fn: \"\",\n    },\n};\nconst findField = (field, response) => {\n    for (const outField of (response.tx.out || [])) {\n        if (outField.name === field) {\n            return outField;\n        }\n    }\n    for (const outField of response.tx.autogen) {\n        if (outField.name === field) {\n            return outField;\n        }\n    }\n    for (const outField of response.tx.in) {\n        if (outField.name === field) {\n            return outField;\n        }\n    }\n    throw new Error(`Unable to find field ${field} in response from RenVM`);\n};\nconst onError = (getP, defaultP) => {\n    try {\n        return getP();\n    }\n    catch (error) {\n        return defaultP;\n    }\n};\nexport const unmarshalMintTx = (response) => {\n    // Note: Numbers are decoded and re-encoded to ensure they are in the correct format.\n    assert(parseRenContract(response.tx.to).to === Chain.Ethereum, `Expected mint details but got back burn details (${response.tx.hash} - ${response.tx.to})`);\n    const pRaw = assertArgumentType(\"p\", RenVMType.ExtEthCompatPayload, onError(() => findField(\"p\", response), defaultPayload));\n    const token = assertAndDecodeAddress(\"token\", RenVMType.ExtTypeEthCompatAddress, findField(\"token\", response));\n    const to = assertAndDecodeAddress(\"to\", RenVMType.ExtTypeEthCompatAddress, findField(\"to\", response));\n    const n = assertAndDecodeBytes(\"n\", RenVMType.TypeB32, findField(\"n\", response));\n    const p = {\n        abi: JSON.parse(decodeString(pRaw.abi)),\n        value: decodeBytes(pRaw.value),\n        fn: decodeString(pRaw.fn),\n    };\n    const ghash = assertAndDecodeBytes(\"ghash\", RenVMType.TypeB32, findField(\"ghash\", response));\n    const nhash = assertAndDecodeBytes(\"nhash\", RenVMType.TypeB32, findField(\"nhash\", response));\n    const sighash = assertAndDecodeBytes(\"sighash\", RenVMType.TypeB32, findField(\"sighash\", response));\n    const phash = assertAndDecodeBytes(\"phash\", RenVMType.TypeB32, findField(\"phash\", response));\n    const amount = assertAndDecodeNumber(\"amount\", RenVMType.TypeU256, findField(\"amount\", response)).toFixed();\n    const utxoRaw = assertArgumentType(\"utxo\", RenVMType.ExtTypeBtcCompatUTXO, findField(\"utxo\", response));\n    const utxo = { \"txHash\": decodeBytes(utxoRaw.txHash), \"vOut\": parseInt(utxoRaw.vOut, 10), \"scriptPubKey\": utxoRaw.scriptPubKey ? decodeBytes(utxoRaw.scriptPubKey) : \"\", \"amount\": decodeNumber(utxoRaw.amount).toFixed() };\n    let out;\n    if (response.tx.out) {\n        const [rArg, sArg, vArg] = [findField(\"r\", response), findField(\"s\", response), findField(\"v\", response)];\n        const r = rArg.type === RenVMType.TypeB ?\n            assertAndDecodeBytes(\"r\", RenVMType.TypeB, rArg) :\n            assertAndDecodeBytes(\"r\", RenVMType.TypeB32, rArg);\n        const s = sArg.type === RenVMType.TypeB ?\n            assertAndDecodeBytes(\"s\", RenVMType.TypeB, sArg) :\n            assertAndDecodeBytes(\"s\", RenVMType.TypeB32, sArg);\n        const v = vArg.type === RenVMType.TypeB ?\n            assertAndDecodeBytes(\"v\", RenVMType.TypeB, vArg) :\n            Ox(assertAndDecodeNumber(\"v\", RenVMType.TypeU8, vArg).toString(16));\n        out = { r, s, v };\n    }\n    return {\n        hash: decodeBytes(response.tx.hash),\n        txStatus: response.txStatus,\n        to: response.tx.to,\n        in: { p, token, to, n, utxo },\n        autogen: { sighash, ghash, nhash, phash, amount },\n        out,\n    };\n};\nexport const unmarshalBurnTx = (response) => {\n    assert(parseRenContract(response.tx.to).from === Chain.Ethereum, `Expected burn details but got back mint details (${response.tx.hash} - ${response.tx.to})`);\n    const [refArg, toArg, amountArg] = response.tx.in;\n    const ref = assertAndDecodeNumber(\"ref\", RenVMType.TypeU64, refArg).toFixed();\n    const toRaw = assertArgumentType(\"to\", RenVMType.TypeB, toArg);\n    let amount;\n    try {\n        amount = assertAndDecodeNumber(\"amount\", RenVMType.TypeU256, amountArg).toFixed();\n    }\n    catch (error) {\n        amount = assertAndDecodeNumber(\"amount\", RenVMType.TypeU64, amountArg).toFixed();\n    }\n    const to = response.tx.to === Tokens.ZEC.Eth2Zec ?\n        utils.zec.addressFrom(toRaw) :\n        response.tx.to === Tokens.BCH.Eth2Bch ?\n            utils.bch.addressFrom(toRaw) :\n            utils.btc.addressFrom(toRaw);\n    return {\n        hash: decodeBytes(response.tx.hash),\n        to: response.tx.to,\n        in: { ref, to, amount },\n    };\n};\nexport const unmarshalTx = ((response) => {\n    if (parseRenContract(response.tx.to).to === Chain.Ethereum) {\n        return unmarshalMintTx(response);\n    }\n    else {\n        return unmarshalBurnTx(response);\n    }\n});\nexport class ShifterNetwork {\n    constructor(network) {\n        this.submitShiftIn = async (renContract, to, nonce, utxoTxHash, utxoVout, network, fn, fnABI, encodedParameters) => {\n            const token = syncGetTokenAddress(renContract, network);\n            const response = await this.network.sendMessage(RPCMethod.SubmitTx, {\n                tx: {\n                    to: renContract,\n                    in: [\n                        //\n                        {\n                            name: \"p\", type: RenVMType.ExtEthCompatPayload, value: {\n                                abi: toBase64(Buffer.from(JSON.stringify(fnABI))),\n                                value: toBase64(encodedParameters),\n                                fn: toBase64(Buffer.from(fn)),\n                            }\n                        },\n                        // The hash of the payload data\n                        // { name: \"phash\" as const, type: RenVMType.TypeB32 as const, value: toBase64(pHash) },\n                        // The amount of BTC (in SATs) that has be transferred to the gateway\n                        // { name: \"amount\" as const, type: \"u64\", as const value: amount },\n                        // The ERC20 contract address on Ethereum for zBTC\n                        { name: \"token\", type: RenVMType.ExtTypeEthCompatAddress, value: strip0x(token) },\n                        // The address on the Ethereum blockchain to which ZBTC will be transferred\n                        { name: \"to\", type: RenVMType.ExtTypeEthCompatAddress, value: strip0x(to) },\n                        // The nonce is used to randomize the gateway\n                        { name: \"n\", type: RenVMType.TypeB32, value: toBase64(nonce) },\n                        // UTXO\n                        {\n                            name: \"utxo\",\n                            type: RenVMType.ExtTypeBtcCompatUTXO,\n                            value: {\n                                txHash: toBase64(utxoTxHash),\n                                vOut: utxoVout,\n                            }\n                        },\n                    ],\n                }\n            });\n            return response.tx.hash;\n        };\n        this.submitShiftOut = async (renContract, ref) => {\n            const response = await this.network.sendMessage(RPCMethod.SubmitTx, {\n                tx: {\n                    to: renContract,\n                    in: [\n                        { name: \"ref\", type: RenVMType.TypeU64, value: ref },\n                    ],\n                }\n            });\n            return response.tx.hash;\n        };\n        this.queryTX = async (utxoTxHash) => {\n            return await this.network.sendMessage(RPCMethod.QueryTx, {\n                txHash: toBase64(utxoTxHash),\n            });\n        };\n        this.waitForTX = async (utxoTxHash, onStatus, _cancelRequested) => {\n            let rawResponse;\n            // tslint:disable-next-line: no-constant-condition\n            while (true) {\n                if (_cancelRequested && _cancelRequested()) {\n                    throw new Error(`waitForTX cancelled`);\n                }\n                try {\n                    const result = await this.queryTX(utxoTxHash);\n                    if (result && result.txStatus === TxStatus.TxStatusDone) {\n                        rawResponse = result;\n                        break;\n                    }\n                    else if (onStatus && result && result.txStatus) {\n                        onStatus(result.txStatus);\n                    }\n                }\n                catch (error) {\n                    // tslint:disable-next-line: no-console\n                    if (String((error || {}).message).match(/(not found)|(not available)/)) {\n                        // ignore\n                    }\n                    else {\n                        // tslint:disable-next-line: no-console\n                        console.error(String(error));\n                        // TODO: throw unepected errors\n                    }\n                }\n                await sleep(5 * SECONDS);\n            }\n            return rawResponse;\n        };\n        this.network = network;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hpZnRlck5ldHdvcmsuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcmVuVk0vc2hpZnRlck5ldHdvcmsudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNNLEtBQUssRUFBRSxFQUFFLEVBQTBDLFNBQVMsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUN0RixRQUFRLEdBQ1gsTUFBTSx3QkFBd0IsQ0FBQztBQUNoQyxPQUFPLEVBQ0gsTUFBTSxFQUFFLGdCQUFnQixFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsbUJBQW1CLEVBQUUsUUFBUSxFQUFFLEtBQUssR0FDakYsTUFBTSxtQkFBbUIsQ0FBQztBQUUzQixPQUFPLFNBQVMsTUFBTSxjQUFjLENBQUM7QUFHckMsT0FBTyxFQUE0QyxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFaEYsTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUFhLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ2hGLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBYSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUN4RSxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQWEsRUFBRSxFQUFFLENBQUMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFN0Q7Ozs7O0dBS0c7QUFDSCxNQUFNLGtCQUFrQixHQUFHLENBQ3ZCLElBQXNFLEVBQ3RFLElBQXNFLEVBQ3RFLEdBQXdHLEVBQ3pCLEVBQUU7SUFDakYsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFLHFCQUFxQixJQUFJLFlBQVksSUFBSSxZQUFZLEdBQUcsQ0FBQyxJQUFJLFlBQVksR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7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","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@renproject/interfaces\");\nconst bchaddrjs_1 = require(\"bchaddrjs\");\nconst bitcore_lib_cash_1 = require(\"bitcore-lib-cash\");\nconst BCHHandler_1 = require(\"send-crypto/build/main/handlers/BCH/BCHHandler\");\nconst btc_1 = require(\"./btc\");\nconst common_1 = require(\"./common\");\nexports.createBCHAddress = common_1.createAddress(bitcore_lib_cash_1.Networks, bitcore_lib_cash_1.Opcode, bitcore_lib_cash_1.Script);\nexports.getBitcoinCashUTXOs = ({ isTestnet }) => {\n    return async (address, confirmations) => {\n        return BCHHandler_1.getUTXOs(isTestnet, { address, confirmations });\n    };\n};\nexports.bchAddressToHex = (address) => interfaces_1.Ox(Buffer.from(address));\nconst isBCHAddress = (address, options) => {\n    try {\n        return options ?\n            options.isTestnet ? bchaddrjs_1.isTestnetAddress(address) : bchaddrjs_1.isMainnetAddress(address) :\n            bchaddrjs_1.isTestnetAddress(address) || bchaddrjs_1.isMainnetAddress(address);\n    }\n    catch (error) {\n        return false;\n    }\n};\nconst bchTactics = {\n    decoders: [\n        (address) => Buffer.from(address),\n        (address) => Buffer.from(address, \"base64\"),\n        (address) => Buffer.from(interfaces_1.strip0x(address), \"hex\"),\n    ],\n    encoders: [\n        (buffer) => bchaddrjs_1.toCashAddress(buffer.toString()),\n    ],\n};\nexports.bchAddressFrom = btc_1.anyAddressFrom(isBCHAddress, bchTactics);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2JjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVEQUFxRDtBQUNyRCx5Q0FBOEU7QUFDOUUsdURBQTREO0FBQzVELCtFQUEwRTtBQUUxRSwrQkFBZ0Q7QUFDaEQscUNBQXlDO0FBRTVCLFFBQUEsZ0JBQWdCLEdBQUcsc0JBQWEsQ0FBQywyQkFBUSxFQUFFLHlCQUFNLEVBQUUseUJBQU0sQ0FBQyxDQUFDO0FBRTNELFFBQUEsbUJBQW1CLEdBQUcsQ0FBQyxFQUFFLFNBQVMsRUFBMEIsRUFBRSxFQUFFO0lBQ3pFLE9BQU8sS0FBSyxFQUFFLE9BQWUsRUFBRSxhQUFxQixFQUFFLEVBQUU7UUFDcEQsT0FBTyxxQkFBUSxDQUFDLFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVXLFFBQUEsZUFBZSxHQUFHLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxlQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBRTdFLE1BQU0sWUFBWSxHQUFHLENBQUMsT0FBZSxFQUFFLE9BQWlDLEVBQUUsRUFBRTtJQUN4RSxJQUFJO1FBQ0EsT0FBTyxPQUFPLENBQUMsQ0FBQztZQUNaLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLDRCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyw0QkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQzNFLDRCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLDRCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQzlEO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWixPQUFPLEtBQUssQ0FBQztLQUNoQjtBQUNMLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUFZO0lBQ3hCLFFBQVEsRUFBRTtRQUNOLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN6QyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDO1FBQ25ELENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxDQUFDO0tBQzVEO0lBQ0QsUUFBUSxFQUFFO1FBQ04sQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLHlCQUFhLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO0tBQ3ZEO0NBQ0osQ0FBQztBQUVXLFFBQUEsY0FBYyxHQUFHLG9CQUFjLENBQUMsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDIn0=","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@renproject/interfaces\");\nconst bitcore_lib_zcash_1 = require(\"bitcore-lib-zcash\");\nconst base58check_1 = __importDefault(require(\"bitcore-lib-zcash/lib/encoding/base58check\"));\nconst bs58_1 = require(\"bs58\");\nconst ZECHandler_1 = require(\"send-crypto/build/main/handlers/ZEC/ZECHandler\");\nconst wallet_address_validator_1 = require(\"wallet-address-validator\");\nconst btc_1 = require(\"./btc\");\nconst common_1 = require(\"./common\");\nexports.createZECAddress = common_1.createAddress(bitcore_lib_zcash_1.Networks, bitcore_lib_zcash_1.Opcode, bitcore_lib_zcash_1.Script);\nexports.getZcashUTXOs = ({ isTestnet }) => {\n    return async (address, confirmations) => {\n        return ZECHandler_1.getUTXOs(isTestnet, { address, confirmations });\n    };\n};\nexports.zecAddressToHex = (address) => {\n    const addressBuffer = new bitcore_lib_zcash_1.Address(address).toBuffer();\n    // Concatenate checksum\n    return interfaces_1.Ox(Buffer.concat([addressBuffer, base58check_1.default.checksum(addressBuffer)]));\n};\nconst isZECAddress = (address) => wallet_address_validator_1.validate(address, \"zec\", \"testnet\") || wallet_address_validator_1.validate(address, \"zec\", \"prod\");\nconst zecTactics = {\n    decoders: [\n        (address) => Buffer.from(address),\n        (address) => Buffer.from(address, \"base64\"),\n        (address) => Buffer.from(interfaces_1.strip0x(address), \"hex\"),\n    ],\n    encoders: [\n        (buffer) => buffer.toString(),\n        (buffer) => bs58_1.encode(buffer),\n    ],\n};\nexports.zecAddressFrom = btc_1.anyAddressFrom(isZECAddress, zecTactics);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiemVjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3plYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLHVEQUFxRDtBQUNyRCx5REFBc0U7QUFDdEUsNkZBQXFFO0FBQ3JFLCtCQUE4QjtBQUM5QiwrRUFBMEU7QUFDMUUsdUVBQW9EO0FBRXBELCtCQUFnRDtBQUNoRCxxQ0FBeUM7QUFFNUIsUUFBQSxnQkFBZ0IsR0FBRyxzQkFBYSxDQUFDLDRCQUFRLEVBQUUsMEJBQU0sRUFBRSwwQkFBTSxDQUFDLENBQUM7QUFFM0QsUUFBQSxhQUFhLEdBQUcsQ0FBQyxFQUFFLFNBQVMsRUFBMEIsRUFBRSxFQUFFO0lBQ25FLE9BQU8sS0FBSyxFQUFFLE9BQWUsRUFBRSxhQUFxQixFQUFFLEVBQUU7UUFDcEQsT0FBTyxxQkFBUSxDQUFDLFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVXLFFBQUEsZUFBZSxHQUFHLENBQUMsT0FBZSxFQUFFLEVBQUU7SUFDL0MsTUFBTSxhQUFhLEdBQUcsSUFBSSwyQkFBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3RELHVCQUF1QjtJQUN2QixPQUFPLGVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsYUFBYSxFQUFFLHFCQUFXLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25GLENBQUMsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxtQ0FBUSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLElBQUksbUNBQVEsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBRWxILE1BQU0sVUFBVSxHQUFZO0lBQ3hCLFFBQVEsRUFBRTtRQUNOLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN6QyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDO1FBQ25ELENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxDQUFDO0tBQzVEO0lBQ0QsUUFBUSxFQUFFO1FBQ04sQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7UUFDckMsQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLGFBQU0sQ0FBQyxNQUFNLENBQUM7S0FDckM7Q0FDSixDQUFDO0FBRVcsUUFBQSxjQUFjLEdBQUcsb0JBQWMsQ0FBQyxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUMifQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shiftInABITemplate = {\n    constant: false,\n    inputs: [\n        {\n            name: \"_amount\",\n            type: \"uint256\"\n        },\n        {\n            name: \"_nHash\",\n            type: \"bytes32\"\n        },\n        {\n            name: \"_sig\",\n            type: \"bytes\"\n        },\n    ],\n    outputs: [],\n    payable: true,\n    stateMutability: \"payable\",\n    type: \"function\",\n};\nexports.payloadToABI = (methodName, payload) => {\n    return [\n        {\n            name: methodName,\n            type: \"function\",\n            inputs: [\n                ...(payload || []).map(value => ({ type: value.type, name: value.name })),\n            ],\n            outputs: [],\n        }\n    ];\n};\nexports.payloadToShiftInABI = (methodName, payload) => {\n    return [\n        Object.assign({}, shiftInABITemplate, { name: methodName, inputs: [\n                ...(payload || []).map(value => ({ type: value.type, name: value.name })),\n                ...(shiftInABITemplate.inputs ? shiftInABITemplate.inputs : []),\n            ] })\n    ];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9hYmkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxNQUFNLGtCQUFrQixHQUFZO0lBQ2hDLFFBQVEsRUFBRSxLQUFLO0lBQ2YsTUFBTSxFQUFFO1FBQ0o7WUFDSSxJQUFJLEVBQUUsU0FBUztZQUNmLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0Q7WUFDSSxJQUFJLEVBQUUsUUFBUTtZQUNkLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0Q7WUFDSSxJQUFJLEVBQUUsTUFBTTtZQUNaLElBQUksRUFBRSxPQUFPO1NBQ2hCO0tBQ0o7SUFDRCxPQUFPLEVBQUUsRUFBRTtJQUNYLE9BQU8sRUFBRSxJQUFJO0lBQ2IsZUFBZSxFQUFFLFNBQVM7SUFDMUIsSUFBSSxFQUFFLFVBQVU7Q0FDbkIsQ0FBQztBQUVXLFFBQUEsWUFBWSxHQUFHLENBQUMsVUFBa0IsRUFBRSxPQUEwRCxFQUFhLEVBQUU7SUFDdEgsT0FBTztRQUNIO1lBQ0ksSUFBSSxFQUFFLFVBQVU7WUFDaEIsSUFBSSxFQUFFLFVBQVU7WUFDaEIsTUFBTSxFQUFFO2dCQUNKLEdBQUcsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsSUFBZSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQzthQUN2RjtZQUNELE9BQU8sRUFBRSxFQUFFO1NBQ2Q7S0FDSixDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRVcsUUFBQSxtQkFBbUIsR0FBRyxDQUFDLFVBQWtCLEVBQUUsT0FBMEQsRUFBYSxFQUFFO0lBQzdILE9BQU87MEJBRUksa0JBQWtCLElBQ3JCLElBQUksRUFBRSxVQUFVLEVBQ2hCLE1BQU0sRUFBRTtnQkFDSixHQUFHLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQWUsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7Z0JBQ3BGLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2FBQ2xFO0tBRVIsQ0FBQztBQUNOLENBQUMsQ0FBQyJ9","import { bchAddressFrom, bchAddressToHex, getBitcoinCashUTXOs, } from \"@renproject/chains/build/main/bch\";\nimport { btcAddressFrom, btcAddressToHex, getBitcoinUTXOs, } from \"@renproject/chains/build/main/btc\";\nimport { getZcashUTXOs, zecAddressFrom, zecAddressToHex } from \"@renproject/chains/build/main/zec\";\nimport { Tokens as CommonTokens } from \"@renproject/interfaces\";\nexport const btcUtils = {\n    getUTXOs: getBitcoinUTXOs,\n    addressToHex: btcAddressToHex,\n    addressFrom: btcAddressFrom,\n};\nexport const zecUtils = {\n    getUTXOs: getZcashUTXOs,\n    addressToHex: zecAddressToHex,\n    addressFrom: zecAddressFrom,\n};\nexport const bchUtils = {\n    getUTXOs: getBitcoinCashUTXOs,\n    addressToHex: bchAddressToHex,\n    addressFrom: bchAddressFrom,\n};\nexport const Tokens = {\n    // Bitcoin\n    BTC: {\n        ...CommonTokens.BTC,\n        ...btcUtils,\n    },\n    // Zcash\n    ZEC: {\n        ...CommonTokens.ZEC,\n        ...zecUtils,\n    },\n    // Bitcoin Cash\n    BCH: {\n        ...CommonTokens.BCH,\n        ...bchUtils\n    },\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Fzc2V0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsY0FBYyxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsR0FDdkQsTUFBTSxtQ0FBbUMsQ0FBQztBQUMzQyxPQUFPLEVBQ0gsY0FBYyxFQUFFLGVBQWUsRUFBRSxlQUFlLEdBQ25ELE1BQU0sbUNBQW1DLENBQUM7QUFDM0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDbkcsT0FBTyxFQUFFLE1BQU0sSUFBSSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUVoRSxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUc7SUFDcEIsUUFBUSxFQUFFLGVBQWU7SUFDekIsWUFBWSxFQUFFLGVBQWU7SUFDN0IsV0FBVyxFQUFFLGNBQWM7Q0FDOUIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRztJQUNwQixRQUFRLEVBQUUsYUFBYTtJQUN2QixZQUFZLEVBQUUsZUFBZTtJQUM3QixXQUFXLEVBQUUsY0FBYztDQUM5QixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHO0lBQ3BCLFFBQVEsRUFBRSxtQkFBbUI7SUFDN0IsWUFBWSxFQUFFLGVBQWU7SUFDN0IsV0FBVyxFQUFFLGNBQWM7Q0FDOUIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRztJQUNsQixVQUFVO0lBQ1YsR0FBRyxFQUFFO1FBQ0QsR0FBRyxZQUFZLENBQUMsR0FBRztRQUNuQixHQUFHLFFBQVE7S0FDZDtJQUVELFFBQVE7SUFDUixHQUFHLEVBQUU7UUFDRCxHQUFHLFlBQVksQ0FBQyxHQUFHO1FBQ25CLEdBQUcsUUFBUTtLQUNkO0lBRUQsZUFBZTtJQUNmLEdBQUcsRUFBRTtRQUNELEdBQUcsWUFBWSxDQUFDLEdBQUc7UUFDbkIsR0FBRyxRQUFRO0tBQ2Q7Q0FDSixDQUFDIn0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst contracts_1 = require(\"@renproject/contracts\");\nconst interfaces_1 = require(\"@renproject/interfaces\");\n// Configurations shared by Mainnet and Chaosnet\nconst commonMainConfig = {\n    ethNetwork: \"mainnet\",\n    isTestnet: false,\n    mercuryURL: {\n        // tslint:disable-next-line: no-http-string\n        btc: \"http://139.59.217.120:5000/btc/mainnet\",\n        // tslint:disable-next-line: no-http-string\n        zec: \"http://139.59.217.120:5000/zec/mainnet\",\n        // tslint:disable-next-line: no-http-string\n        bch: \"http://139.59.217.120:5000/bch/mainnet\",\n    },\n    chainSoName: {\n        btc: \"BTC\",\n        zec: \"ZEC\",\n        bch: \"BCH\",\n    },\n};\nexports.NetworkChaosnet = Object.assign({ name: interfaces_1.RenNetwork.Chaosnet, nodeURLs: [\"https://lightnode-chaosnet.herokuapp.com\"] }, commonMainConfig, { contracts: contracts_1.chaosnet });\nexports.NetworkMainnet = Object.assign({ name: interfaces_1.RenNetwork.Mainnet, nodeURLs: [\"https://lightnode-mainnet.herokuapp.com\"] }, commonMainConfig, { contracts: contracts_1.mainnet });\n// Configurations shared by Testnet and Devnet\nconst commonTestConfig = {\n    ethNetwork: \"kovan\",\n    isTestnet: true,\n    mercuryURL: {\n        // tslint:disable-next-line: no-http-string\n        btc: \"http://139.59.217.120:5000/btc/testnet\",\n        // tslint:disable-next-line: no-http-string\n        zec: \"http://139.59.217.120:5000/zec/testnet\",\n        // tslint:disable-next-line: no-http-string\n        bch: \"http://139.59.217.120:5000/bch/testnet\",\n    },\n    chainSoName: {\n        btc: \"BTCTEST\",\n        zec: \"ZECTEST\",\n        bch: \"BCHTEST\",\n    },\n};\nexports.NetworkTestnet = Object.assign({ name: interfaces_1.RenNetwork.Testnet, nodeURLs: [\"https://lightnode-testnet.herokuapp.com\"] }, commonTestConfig, { contracts: contracts_1.testnet });\nconst USE_DEVNET_NODES = false;\nconst devnetNodes = [\n    \"/ip4/159.203.5.109/tcp/18514/republic/8MKEFLAciYAgUsR4hG45oczthywtfo\",\n    \"/ip4/67.207.83.83/tcp/18514/republic/8MJ6zb2jeGvneG2b3cxRzie7StTHcq\",\n    \"/ip4/134.209.84.230/tcp/18514/republic/8MHMb2j7zacAMw8Wzvn2QBojDqwo52\",\n    \"/ip4/178.128.239.168/tcp/18514/republic/8MHhMWw8GeFxenczz2n23kMJkZg6xS\",\n    \"/ip4/159.203.90.81/tcp/18514/republic/8MJJoxU42DG3v42jke7CwSLHXmvWA3\",\n    \"/ip4/138.68.245.91/tcp/18514/republic/8MGpj1s5zg8sXhHpbDurdCMnERGezW\",\n    \"/ip4/209.97.142.95/tcp/18514/republic/8MHBnQx4ftSrSLvQNBdrxjkbr34KTk\",\n    \"/ip4/134.209.104.180/tcp/18514/republic/8MHRw1K57vFcYzTs6xiTiYs2iwxQX7\",\n    \"/ip4/68.183.198.209/tcp/18514/republic/8MHVWUvxEyq3i6vUCmVez5HafDATtR\",\n    \"/ip4/178.62.61.84/tcp/18514/republic/8MHXKcMVNEgo75FsbckSjnsrzmW2oi\",\n    \"/ip4/178.128.241.255/tcp/18514/republic/8MJnxv8Uy3VzaWkeTXwhJ5pySRh6KW\",\n    \"/ip4/178.62.120.202/tcp/18514/republic/8MJNcWGagTSTJtJWejrLFucMW21M8J\",\n];\nexports.NetworkDevnet = Object.assign({ name: interfaces_1.RenNetwork.Devnet, nodeURLs: USE_DEVNET_NODES ? devnetNodes : [\"https://lightnode-devnet.herokuapp.com\"] }, commonTestConfig, { contracts: contracts_1.devnet });\nconst localnetCount = 12;\nconst localnetProtocol = \"http\";\nexports.NetworkLocalnet = Object.assign({ name: interfaces_1.RenNetwork.Localnet, nodeURLs: Array.from(Array(localnetCount)).map((_, index) => `${localnetProtocol}://0.0.0.0:${6001 + 10 * index}`) }, commonTestConfig, { contracts: contracts_1.localnet });\nexports.stringToNetwork = (network) => {\n    if (typeof network === \"string\") {\n        switch (network.toLowerCase()) {\n            case \"\":\n            case \"mainnet\":\n                // return NetworkMainnet;\n                throw new Error(\"Mainnet is not supported yet.\");\n            case \"chaosnet\":\n                return exports.NetworkChaosnet;\n            case \"testnet\":\n                return exports.NetworkTestnet;\n            case \"devnet\":\n                return exports.NetworkDevnet;\n            case \"localnet\":\n                return exports.NetworkLocalnet;\n            default:\n                throw new Error(`Unsupported network \"${network}\"`);\n        }\n    }\n    else if (network === undefined || network === null) {\n        // return NetworkChaosnet;\n        throw new Error(\"Mainnet is not supported yet.\");\n    }\n    else {\n        return network;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV0d29ya3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHlwZXMvbmV0d29ya3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxREFBcUY7QUFDckYsdURBQW9EO0FBdUJwRCxnREFBZ0Q7QUFDaEQsTUFBTSxnQkFBZ0IsR0FBRztJQUNyQixVQUFVLEVBQUUsU0FBUztJQUNyQixTQUFTLEVBQUUsS0FBSztJQUNoQixVQUFVLEVBQUU7UUFDUiwyQ0FBMkM7UUFDM0MsR0FBRyxFQUFFLHdDQUF3QztRQUM3QywyQ0FBMkM7UUFDM0MsR0FBRyxFQUFFLHdDQUF3QztRQUM3QywyQ0FBMkM7UUFDM0MsR0FBRyxFQUFFLHdDQUF3QztLQUNoRDtJQUNELFdBQVcsRUFBRTtRQUNULEdBQUcsRUFBRSxLQUFLO1FBQ1YsR0FBRyxFQUFFLEtBQUs7UUFDVixHQUFHLEVBQUUsS0FBSztLQUNiO0NBQ0osQ0FBQztBQUVXLFFBQUEsZUFBZSxtQkFDeEIsSUFBSSxFQUFFLHVCQUFVLENBQUMsUUFBUSxFQUN6QixRQUFRLEVBQUUsQ0FBQywwQ0FBMEMsQ0FBQyxJQUNuRCxnQkFBZ0IsSUFDbkIsU0FBUyxFQUFFLG9CQUFRLElBQ3JCO0FBRVcsUUFBQSxjQUFjLG1CQUN2QixJQUFJLEVBQUUsdUJBQVUsQ0FBQyxPQUFPLEVBQ3hCLFFBQVEsRUFBRSxDQUFDLHlDQUF5QyxDQUFDLElBQ2xELGdCQUFnQixJQUNuQixTQUFTLEVBQUUsbUJBQU8sSUFDcEI7QUFFRiw4Q0FBOEM7QUFDOUMsTUFBTSxnQkFBZ0IsR0FBRztJQUNyQixVQUFVLEVBQUUsT0FBTztJQUNuQixTQUFTLEVBQUUsSUFBSTtJQUNmLFVBQVUsRUFBRTtRQUNSLDJDQUEyQztRQUMzQyxHQUFHLEVBQUUsd0NBQXdDO1FBQzdDLDJDQUEyQztRQUMzQyxHQUFHLEVBQUUsd0NBQXdDO1FBQzdDLDJDQUEyQztRQUMzQyxHQUFHLEVBQUUsd0NBQXdDO0tBQ2hEO0lBQ0QsV0FBVyxFQUFFO1FBQ1QsR0FBRyxFQUFFLFNBQVM7UUFDZCxHQUFHLEVBQUUsU0FBUztRQUNkLEdBQUcsRUFBRSxTQUFTO0tBQ2pCO0NBQ0osQ0FBQztBQUVXLFFBQUEsY0FBYyxtQkFDdkIsSUFBSSxFQUFFLHVCQUFVLENBQUMsT0FBTyxFQUN4QixRQUFRLEVBQUUsQ0FBQyx5Q0FBeUMsQ0FBQyxJQUNsRCxnQkFBZ0IsSUFDbkIsU0FBUyxFQUFFLG1CQUFPLElBQ3BCO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7QUFDL0IsTUFBTSxXQUFXLEdBQUc7SUFDaEIsc0VBQXNFO0lBQ3RFLHFFQUFxRTtJQUNyRSx1RUFBdUU7SUFDdkUsd0VBQXdFO0lBQ3hFLHNFQUFzRTtJQUN0RSxzRUFBc0U7SUFDdEUsc0VBQXNFO0lBQ3RFLHdFQUF3RTtJQUN4RSx1RUFBdUU7SUFDdkUscUVBQXFFO0lBQ3JFLHdFQUF3RTtJQUN4RSx1RUFBdUU7Q0FDMUUsQ0FBQztBQUVXLFFBQUEsYUFBYSxtQkFDdEIsSUFBSSxFQUFFLHVCQUFVLENBQUMsTUFBTSxFQUN2QixRQUFRLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyx3Q0FBd0MsQ0FBQyxJQUNsRixnQkFBZ0IsSUFDbkIsU0FBUyxFQUFFLGtCQUFNLElBQ25CO0FBRUYsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0FBQ3pCLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDO0FBQ25CLFFBQUEsZUFBZSxtQkFDeEIsSUFBSSxFQUFFLHVCQUFVLENBQUMsUUFBUSxFQUN6QixRQUFRLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLGdCQUFnQixjQUFjLElBQUksR0FBRyxFQUFFLEdBQUcsS0FBSyxFQUFFLENBQUMsSUFDL0csZ0JBQWdCLElBQ25CLFNBQVMsRUFBRSxvQkFBUSxJQUNyQjtBQUVXLFFBQUEsZUFBZSxHQUFHLENBQUMsT0FBb0QsRUFBa0IsRUFBRTtJQUNwRyxJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsRUFBRTtRQUM3QixRQUFRLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUMzQixLQUFLLEVBQUUsQ0FBQztZQUNSLEtBQUssU0FBUztnQkFDVix5QkFBeUI7Z0JBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQStCLENBQUMsQ0FBQztZQUNyRCxLQUFLLFVBQVU7Z0JBQ1gsT0FBTyx1QkFBZSxDQUFDO1lBQzNCLEtBQUssU0FBUztnQkFDVixPQUFPLHNCQUFjLENBQUM7WUFDMUIsS0FBSyxRQUFRO2dCQUNULE9BQU8scUJBQWEsQ0FBQztZQUN6QixLQUFLLFVBQVU7Z0JBQ1gsT0FBTyx1QkFBZSxDQUFDO1lBQzNCO2dCQUNJLE1BQU0sSUFBSSxLQUFLLENBQUMsd0JBQXdCLE9BQU8sR0FBRyxDQUFDLENBQUM7U0FDM0Q7S0FDSjtTQUFNLElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFO1FBQ2xELDBCQUEwQjtRQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixDQUFDLENBQUM7S0FDcEQ7U0FBTTtRQUNILE9BQU8sT0FBTyxDQUFDO0tBQ2xCO0FBQ0wsQ0FBQyxDQUFDIn0=","import {\n    GatewayMessage, GatewayMessagePayload, GatewayMessageResponse, GatewayMessageType, sleep,\n} from \"@renproject/interfaces\";\n\n// TODO: Generate uuid properly\n// tslint:disable-next-line: insecure-random\nconst randomID = () => String(Math.random()).slice(2);\n\n// tslint:disable-next-line: no-any\nexport const _addListener = (listener: (e: { readonly data: GatewayMessage<any> }) => void) => {\n    window.addEventListener(\"message\", listener);\n}\n\n// tslint:disable-next-line: no-any\nexport const _removeListener = (listener: (e: { readonly data: GatewayMessage<any> }) => void) => {\n    window.removeEventListener(\"message\", listener);\n}\n\n// TODO: Use same code as `gateway`\nexport const postMessageToClient = <Type extends GatewayMessageType>(window: Window, frameID: string, type: Type, payload: GatewayMessagePayload<Type>) => new Promise<GatewayMessageResponse<Type>>(async (resolve) => {\n    const messageID = randomID();\n    const message: GatewayMessage<Type> = { from: \"ren\", type, frameID, payload, messageID };\n\n    // tslint:disable-next-line: no-any\n    let listener: (e: { readonly data: GatewayMessage<any> }) => void;\n\n    let acknowledged = false;\n    const removeListener = () => {\n        acknowledged = true;\n        _removeListener(listener);\n    };\n\n    // tslint:disable-next-line: no-any\n    listener = (e: { readonly data: GatewayMessage<any> }) => {\n        if (e.data && e.data.from === \"ren\" && e.data.type === GatewayMessageType.Acknowledgement && e.data.messageID === messageID) {\n            removeListener();\n            resolve(e.data.payload);\n        }\n    };\n\n    _addListener(listener);\n\n    let count = 0;\n\n    // Repeat message until acknowledged\n    // tslint:disable-next-line: no-any\n    while (!acknowledged) {\n        if (\n            count === 0 || (\n                type !== GatewayMessageType.SendTransaction &&\n                type !== GatewayMessageType.GetTransactionBurn &&\n                type !== GatewayMessageType.GetTransactionStatus\n            )\n        ) {\n            count++;\n            window.parent.postMessage(message, \"*\");\n        }\n        // Sleep for 1 second\n        await sleep(1 * 1000);\n    }\n});\n\n// tslint:disable-next-line: no-any\nexport const _acknowledgeMessage = <Type extends GatewayMessageType>(message: GatewayMessage<Type>, payload?: GatewayMessageResponse<Type>) => {\n    if (message.type === GatewayMessageType.Acknowledgement) {\n        return;\n    }\n    const response: GatewayMessage<GatewayMessageType.Acknowledgement> = { from: \"ren\", type: GatewayMessageType.Acknowledgement, frameID: message.frameID, payload: payload || {}, messageID: message.messageID };\n    window.parent.postMessage(response, \"*\");\n};\n","import { extractError, retryNTimes } from \"@renproject/utils\";\nimport axios from \"axios\";\nimport { RPCMethod, } from \"./jsonRPC\";\nconst generatePayload = (method, params) => ({\n    id: 1,\n    jsonrpc: \"2.0\",\n    method,\n    params,\n});\nexport class Darknode {\n    constructor(ipOrMultiaddress) {\n        this.queryBlock = async (blockHeight, retry) => this.sendMessage(RPCMethod.QueryBlock, { blockHeight }, retry);\n        this.queryBlocks = async (blockHeight, n, retry) => this.sendMessage(RPCMethod.QueryBlocks, { blockHeight, n }, retry);\n        this.submitTx = async (tx, retry) => \n        // tslint:disable-next-line: no-object-literal-type-assertion\n        this.sendMessage(RPCMethod.SubmitTx, { tx }, retry);\n        this.queryTx = async (txHash, retry) => this.sendMessage(RPCMethod.QueryTx, { txHash }, retry);\n        this.queryNumPeers = async (retry) => this.sendMessage(RPCMethod.QueryNumPeers, {}, retry);\n        this.queryPeers = async (retry) => this.sendMessage(RPCMethod.QueryPeers, {}, retry);\n        this.queryEpoch = async (epochHash, retry) => this.sendMessage(RPCMethod.QueryEpoch, { epochHash }, retry);\n        this.queryStat = async (retry) => this.sendMessage(RPCMethod.QueryStat, {}, retry);\n        if (ipOrMultiaddress.charAt(0) === \"/\") {\n            try {\n                const [, , ip, , port, ,] = ipOrMultiaddress.split(\"/\"); // tslint:disable-line: whitespace\n                const fixedPort = port === \"18514\" ? \"18515\" : port;\n                // TODO: Use HTTPS if supported\n                const protocol = \"http\";\n                this.nodeURL = `${protocol}://${ip}:${fixedPort}`;\n            }\n            catch (error) {\n                throw new Error(`Malformatted address: ${ipOrMultiaddress}`);\n            }\n        }\n        else {\n            if (ipOrMultiaddress.indexOf(\"://\") === -1) {\n                throw new Error(`Invalid node URL without protocol: ${ipOrMultiaddress}.`);\n            }\n            this.nodeURL = ipOrMultiaddress;\n        }\n        if (!this.nodeURL) {\n            throw new Error(\"Invalid empty node URL.\");\n        }\n    }\n    async sendMessage(method, request, retry = 5) {\n        try {\n            const response = await retryNTimes(() => axios.post(this.nodeURL, generatePayload(method, request), { timeout: 120000 }), retry);\n            if (response.status !== 200) {\n                throw this.responseError(\"Unexpected status code returned from node\", response);\n            }\n            if (response.data.error) {\n                throw new Error(response.data.error);\n            }\n            if (response.data.result === undefined) {\n                throw new Error(`Empty result returned from node`);\n            }\n            return response.data.result;\n        }\n        catch (error) {\n            if (error.response) {\n                error.message = `Node returned status ${error.response.status} with reason: ${extractError(error)}`;\n            }\n            throw error;\n        }\n    }\n    responseError(msg, response) {\n        const error = new Error(msg);\n        error.response = response;\n        return error;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFya25vZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcmVuVk0vZGFya25vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUM5RCxPQUFPLEtBQXdCLE1BQU0sT0FBTyxDQUFDO0FBRTdDLE9BQU8sRUFFaUMsU0FBUyxHQUNoRCxNQUFNLFdBQVcsQ0FBQztBQUVuQixNQUFNLGVBQWUsR0FBRyxDQUFDLE1BQWMsRUFBRSxNQUFnQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNELEVBQUUsRUFBRSxDQUFDO0lBQ0wsT0FBTyxFQUFFLEtBQUs7SUFDZCxNQUFNO0lBQ04sTUFBTTtDQUNULENBQUMsQ0FBQztBQUVILE1BQU0sT0FBTyxRQUFRO0lBR2pCLFlBQVksZ0JBQXdCO1FBaUQ3QixlQUFVLEdBQUcsS0FBSyxFQUFFLFdBQTRDLEVBQUUsS0FBYyxFQUFFLEVBQUUsQ0FDdkYsSUFBSSxDQUFDLFdBQVcsQ0FBdUIsU0FBUyxDQUFDLFVBQVUsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ2pGLGdCQUFXLEdBQUcsS0FBSyxFQUFFLFdBQTZDLEVBQUUsQ0FBeUIsRUFBRSxLQUFjLEVBQUUsRUFBRSxDQUNwSCxJQUFJLENBQUMsV0FBVyxDQUF3QixTQUFTLENBQUMsV0FBVyxFQUFFLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3RGLGFBQVEsR0FBRyxLQUFLLEVBQUUsRUFBbUQsRUFBRSxLQUFjLEVBQUUsRUFBRTtRQUM1Riw2REFBNkQ7UUFDN0QsSUFBSSxDQUFDLFdBQVcsQ0FBcUIsU0FBUyxDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBeUMsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUMzRyxZQUFPLEdBQUcsS0FBSyxFQUFFLE1BQStCLEVBQUUsS0FB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","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forwardEvents = (src, dest /*, filterFn = (_name: string) => true*/) => {\n    // const forwardEmitterNewListener = (eventName: string, listener: (...args: any[]) => void) => {\n    //     if (filterFn(eventName) && listener.name.indexOf(\"__forward_emitter_\") !== 0) {\n    //         console.info(`Forwarding ${eventName} Listener:`);\n    //         console.info(listener);\n    //         src.on(eventName, listener);\n    //         src.on(\"transactionHash\", (txHash) => { console.info(`Got transaction hash on src`); });\n    //     } else {\n    //         console.info(\"Can't forward PromiEvent event!\");\n    //     }\n    // };\n    // const forwardEmitterRemoveListener = (eventName: string, listener: (...args: any[]) => void) => {\n    //     src.removeListener(eventName, listener);\n    // };\n    // // Listeners bound to the destination emitter should be bound to the source emitter.\n    // dest.on(\"newListener\", forwardEmitterNewListener);\n    // // When a listener is removed from the destination emitter, remove it from the source emitter\n    // // (otherwise it will continue to be called).\n    // dest.on(\"removeListener\", forwardEmitterRemoveListener);\n    // Until the above is fixed, we manually forward each event name:\n    src.on(\"transactionHash\", (eventReceipt) => { dest.emit(\"transactionHash\", eventReceipt); dest.emit(\"eth_transactionHash\", eventReceipt); });\n    src.on(\"receipt\", (eventReceipt) => { dest.emit(\"receipt\", eventReceipt); dest.emit(\"eth_receipt\", eventReceipt); });\n    src.on(\"confirmation\", (confNumber, eventReceipt) => { dest.emit(\"confirmation\", confNumber, eventReceipt); dest.emit(\"eth_confirmation\", confNumber, eventReceipt); });\n    src.on(\"error\", (error) => { dest.emit(\"error\", error); });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlldmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvcHJvbWlldmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWlCYSxRQUFBLGFBQWEsR0FBRyxDQUErRSxHQUEyQixFQUFFLElBQTRCLENBQUEsd0NBQXdDLEVBQUUsRUFBRTtJQUM3TSxpR0FBaUc7SUFDakcsc0ZBQXNGO0lBQ3RGLDZEQUE2RDtJQUM3RCxrQ0FBa0M7SUFDbEMsdUNBQXVDO0lBQ3ZDLG1HQUFtRztJQUNuRyxlQUFlO0lBQ2YsMkRBQTJEO0lBQzNELFFBQVE7SUFDUixLQUFLO0lBRUwsb0dBQW9HO0lBQ3BHLCtDQUErQztJQUMvQyxLQUFLO0lBRUwsdUZBQXVGO0lBQ3ZGLHFEQUFxRDtJQUVyRCxnR0FBZ0c7SUFDaEcsZ0RBQWdEO0lBQ2hELDJEQUEyRDtJQUUzRCxpRUFBaUU7SUFDakUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLFlBQW9CLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckosR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxZQUFnQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekksR0FBRyxDQUFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxVQUFrQixFQUFFLFlBQWdDLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsVUFBVSxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcE0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFZLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEUsQ0FBQyxDQUFDIn0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@renproject/interfaces\");\nexports.createAddress = (networks, opcode, script) => (isTestnet, mpkh, gHash) => {\n    return new script()\n        .add(Buffer.from(interfaces_1.strip0x(gHash), \"hex\"))\n        // .add(mintToAddress) // Is this meant to be here?\n        .add(opcode.OP_DROP)\n        .add(opcode.OP_DUP)\n        .add(opcode.OP_HASH160)\n        .add(Buffer.from(interfaces_1.strip0x(mpkh), \"hex\"))\n        .add(opcode.OP_EQUALVERIFY)\n        .add(opcode.OP_CHECKSIG)\n        .toScriptHashOut().toAddress(isTestnet ? networks.testnet : networks.mainnet).toString();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbW1vbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVEQUFpRDtBQUdwQyxRQUFBLGFBQWEsR0FDdEIsQ0FBQyxRQUEwQixFQUFFLE1BQXNCLEVBQUUsTUFBc0IsRUFBRSxFQUFFLENBQzNFLENBQUMsU0FBa0IsRUFBRSxJQUFZLEVBQUUsS0FBYSxFQUFFLEVBQUU7SUFDaEQsT0FBTyxJQUFJLE1BQU0sRUFBRTtTQUNkLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDeEMsbURBQW1EO1NBQ2xELEdBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1NBQ25CLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1NBQ2xCLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO1NBQ3RCLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDdEMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7U0FDMUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7U0FDdkIsZUFBZSxFQUFFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ2pHLENBQUMsQ0FBQyJ9","export var RPCMethod;\n(function (RPCMethod) {\n    // QueryBlock returns a block identified by the block height.\n    RPCMethod[\"QueryBlock\"] = \"ren_queryBlock\";\n    // QueryBlocks returns recently committed blocks.\n    RPCMethod[\"QueryBlocks\"] = \"ren_queryBlocks\";\n    // SubmitTx submits a new transaction to the Darknode for acceptance\n    // into the transaction pool.\n    RPCMethod[\"SubmitTx\"] = \"ren_submitTx\";\n    // QueryTx returns the latest information about a transaction\n    // identified by a transaction hash.\n    RPCMethod[\"QueryTx\"] = \"ren_queryTx\";\n    // QueryNumPeers returns the number of known peers.\n    RPCMethod[\"QueryNumPeers\"] = \"ren_queryNumPeers\";\n    // QueryPeers returns a random subset of known peers.\n    RPCMethod[\"QueryPeers\"] = \"ren_queryPeers\";\n    // QueryEpoch returns an epoch identified by an epoch hash.\n    RPCMethod[\"QueryEpoch\"] = \"ren_queryEpoch\";\n    // QueryStat returns status information about the Darknode. This\n    // information cannot be verified.\n    RPCMethod[\"QueryStat\"] = \"ren_queryStat\";\n})(RPCMethod || (RPCMethod = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvblJQQy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZW5WTS9qc29uUlBDLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE1BQU0sQ0FBTixJQUFZLFNBd0JYO0FBeEJELFdBQVksU0FBUztJQUNqQiw2REFBNkQ7SUFDN0QsMENBQTZCLENBQUE7SUFDN0IsaURBQWlEO0lBQ2pELDRDQUErQixDQUFBO0lBRS9CLG9FQUFvRTtJQUNwRSw2QkFBNkI7SUFDN0Isc0NBQXlCLENBQUE7SUFDekIsNkRBQTZEO0lBQzdELG9DQUFvQztJQUNwQyxvQ0FBdUIsQ0FBQTtJQUV2QixtREFBbUQ7SUFDbkQsZ0RBQW1DLENBQUE7SUFDbkMscURBQXFEO0lBQ3JELDBDQUE2QixDQUFBO0lBRTdCLDJEQUEyRDtJQUMzRCwwQ0FBNkIsQ0FBQTtJQUU3QixnRUFBZ0U7SUFDaEUsa0NBQWtDO0lBQ2xDLHdDQUEyQixDQUFBO0FBQy9CLENBQUMsRUF4QlcsU0FBUyxLQUFULFNBQVMsUUF3QnBCIn0=","import { List, OrderedSet } from \"immutable\";\nimport { Darknode } from \"./darknode\";\nimport { RPCMethod, } from \"./jsonRPC\";\nconst promiseAll = async (list, defaultValue) => {\n    let errors = OrderedSet();\n    let newList = List();\n    for (const entryP of list.toArray()) {\n        try {\n            newList = newList.push(await entryP);\n        }\n        catch (error) {\n            const errorString = String(error);\n            if (!errors.has(errorString)) {\n                errors = errors.add(errorString);\n                // tslint:disable-next-line: no-console\n                console.error(errorString);\n            }\n            newList = newList.push(defaultValue);\n        }\n    }\n    return [newList, errors];\n};\nexport class DarknodeGroup {\n    constructor(nodeURLs) {\n        this.sendMessage = async (method, request, retry = 1) => {\n            // tslint:disable-next-line: prefer-const\n            let [responses, errors] = await promiseAll(this.nodes.valueSeq().map(async (node) => node.sendMessage(method, request, retry)).toList(), null);\n            responses = responses.filter((result) => result !== null);\n            const first = responses.first(null);\n            if (first === null) {\n                if (errors.size) {\n                    throw new Error(errors.first());\n                }\n                else {\n                    throw new Error(`No response from RenVM while submitting message`);\n                }\n            }\n            return first;\n        };\n        this.queryBlock = async (blockHeight, retry) => this.sendMessage(RPCMethod.QueryBlock, { blockHeight }, retry);\n        this.queryBlocks = async (blockHeight, n, retry) => this.sendMessage(RPCMethod.QueryBlocks, { blockHeight, n }, retry);\n        this.submitTx = async (tx, retry) => \n        // tslint:disable-next-line: no-object-literal-type-assertion\n        this.sendMessage(RPCMethod.SubmitTx, { tx }, retry);\n        this.queryTx = async (txHash, retry) => this.sendMessage(RPCMethod.QueryTx, { txHash }, retry);\n        this.queryNumPeers = async (retry) => this.sendMessage(RPCMethod.QueryNumPeers, {}, retry);\n        this.queryPeers = async (retry) => this.sendMessage(RPCMethod.QueryPeers, {}, retry);\n        this.queryEpoch = async (epochHash, retry) => this.sendMessage(RPCMethod.QueryEpoch, { epochHash }, retry);\n        this.queryStat = async (retry) => this.sendMessage(RPCMethod.QueryStat, {}, retry);\n        this.nodes = List(nodeURLs.map(nodeURL => new Darknode(nodeURL)));\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFya25vZGVHcm91cC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZW5WTS9kYXJrbm9kZUdyb3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRTdDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDdEMsT0FBTyxFQUVlLFNBQVMsR0FDOUIsTUFBTSxXQUFXLENBQUM7QUFFbkIsTUFBTSxVQUFVLEdBQUcsS0FBSyxFQUFLLElBQXNCLEVBQUUsWUFBZSxFQUEwQyxFQUFFO0lBQzVHLElBQUksTUFBTSxHQUFHLFVBQVUsRUFBVSxDQUFDO0lBQ2xDLElBQUksT0FBTyxHQUFHLElBQUksRUFBSyxDQUFDO0lBQ3hCLEtBQUssTUFBTSxNQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQ2pDLElBQUk7WUFDQSxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLE1BQU0sQ0FBQyxDQUFDO1NBQ3hDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDWixNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUU7Z0JBQzFCLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUNqQyx1Q0FBdUM7Z0JBQ3ZDLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDOUI7WUFDRCxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUN4QztLQUNKO0lBQ0QsT0FBTyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM3QixDQUFDLENBQUM7QUFFRixNQUFNLE9BQU8sYUFBYTtJQUd0QixZQUFZLFFBQWtCO1FB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","// tslint:disable: no-any\n\nimport * as Sentry from \"@sentry/browser\";\n\nimport { naturalTime } from \"@renproject/react-components\";\n\ninterface Details {\n    description?: string;\n    category?: string;\n    level?: Sentry.Severity;\n    ignoreNetwork?: boolean;\n}\n\ninterface Described {\n    description: string;\n}\n\ninterface ShownToUser {\n    shownToUser?: string;\n}\n\nlet pageLoaded: Date;\nexport const pageLoadedAt = (time?: Date): string => {\n    const loadedAt = time || pageLoaded;\n    if (loadedAt) {\n        return naturalTime(Math.floor(loadedAt.getTime() / 1000), {\n            message: \"Just now\",\n            suffix: \"ago\",\n            countDown: false,\n        });\n    }\n    pageLoaded = new Date();\n    return pageLoaded.toUTCString();\n};\n\n// Determines whether or not this is a common network error (too many of these\n// are being logged to Sentry)\nconst isNetworkError = (error: Error | any): boolean => {\n    const message: string = ((error || {}).message || error).toString();\n\n    if (\n        message.match(/Network ?Error/i) ||\n        message.match(/Failed to fetch/i) ||\n        message.match(/Network request failed/i) ||\n        message.match(/Wrong response id/i) ||\n        message.match(/Request failed or timed out/i) ||\n        message.match(/Returned values aren't valid, did it run Out of Gas\\?/i) ||\n        message.match(/Invalid JSON RPC response/i) ||\n        message.match(/timeout of 0ms exceeded/i)\n    ) {\n        return true;\n    }\n\n    return false;\n};\n\nconst rawError = (errorObject: Error) => {\n    // https://stackoverflow.com/questions/11616630/json-stringify-avoid-typeerror-converting-circular-structure-to-json/11616993#11616993\n\n    // Note: cache should not be re-used by repeated calls to JSON.stringify.\n    let cache: any[] | null = [];\n    const rawErrorJSON = JSON.stringify(errorObject, (key, value) => {\n        if (key === \"request\") {\n            return \"... omitted\";\n        }\n        if (cache && typeof value === \"object\" && value !== null) {\n            if (cache.indexOf(value) !== -1) {\n                // Duplicate reference found\n                try {\n                    // If this value does not reference a parent it can be deduped\n                    return JSON.parse(JSON.stringify(value));\n                } catch (error) {\n                    // discard key if value cannot be deduped\n                    return;\n                }\n            }\n            // Store value in our collection\n            cache.push(value);\n        }\n        return value;\n    });\n    cache = null; // Enable garbage collection\n\n    return rawErrorJSON;\n};\n\nconst _catchErr_ = <X extends Details>(error: any, details: X) => {\n    if (!error || error._noCapture_) {\n        return;\n    }\n\n    Sentry.withScope(scope => {\n        // How long ago the page was loaded at\n        scope.setExtra(\"pageLoadedAt\", pageLoadedAt());\n\n        // Category\n        if (details.category) {\n            scope.setTag(\"category\", details.category);\n        }\n\n        // Level\n        if (details.level) {\n            scope.setLevel(details.level);\n        }\n\n        // Extra information\n        Object.keys(details)\n            .forEach(key => {\n                scope.setExtra(key, details[key]);\n            });\n\n        if (error && error.response) {\n            scope.setExtra(\"responseData\", error.response.data);\n            scope.setExtra(\"responseStatus\", error.response.status);\n        }\n\n        scope.setExtra(\"caught\", true);\n        scope.setExtra(\"zRawError\", rawError(error));\n\n        // tslint:disable-next-line: no-console\n        console.error(error);\n\n        // if (ENVIRONMENT !== \"mainnet\") {\n        //     if (typeof error === \"string\") {\n        //         // tslint:disable-next-line: no-parameter-reassignment\n        //         error = `[${ENVIRONMENT.toUpperCase()}] ${error}`;\n        //     } else {\n        //         try {\n        //             error.message = `[${ENVIRONMENT.toUpperCase()}] ${error.message || error}`;\n        //         } catch {\n        //             // Ignore: Unable to overwrite message (may be read-only)\n        //         }\n        //     }\n        // }\n\n        // Check if we should ignore the error\n        if (details.ignoreNetwork && isNetworkError(error)) {\n            return;\n        }\n\n        Sentry.captureException(error);\n\n    });\n};\n\n// Background exceptions are thrown in background loops and actions\nexport const _catchBackgroundErr_ = <X extends Details & Described>(error: any, details: X | string) => {\n    _catchErr_(error, { ignoreNetwork: true, ...(typeof details === \"string\" ? { description: details } : details), category: \"background_exception\" });\n};\n\n// Interaction exceptions are thrown as a direct result of a user interaction\nexport const _catchInteractionErr_ = <X extends Details & Described & ShownToUser>(error: any, details: X | string) => {\n    _catchErr_(error, { ...(typeof details === \"string\" ? { description: details } : details), category: \"interaction_exception\" });\n};\n\nexport const _ignoreErr_ = <X extends Details & Described & ShownToUser>(error: any, details?: X | string) => {\n    if (details) {\n        console.error(details, error);\n    } else {\n        console.error(error);\n    }\n};\n","import { newPromiEvent, Ox, strip0x, TxStatus, } from \"@renproject/interfaces\";\nimport { DEFAULT_SHIFT_FEE, fixSignature, generateAddress, generateGHash, generateShiftInTxHash, getShifterAddress, ignoreError, processShiftInParams, randomNonce, renTxHashToBase64, resolveInToken, retrieveDeposits, SECONDS, signatureToString, sleep, toBase64, toBigNumber, withDefaultAccount, } from \"@renproject/utils\";\nimport { payloadToShiftInABI } from \"@renproject/utils/build/main/lib/abi\";\nimport { forwardEvents, } from \"@renproject/utils/build/main/lib/promievent\";\nimport BigNumber from \"bignumber.js\";\nimport BN from \"bn.js\";\nimport { OrderedMap } from \"immutable\";\nimport Web3 from \"web3\";\nimport { sha3 } from \"web3-utils\";\nimport { unmarshalMintTx } from \"./renVM/shifterNetwork\";\nexport class ShiftInObject {\n    constructor(_renVMNetwork, _network, _params) {\n        this.addr = () => this.gatewayAddress;\n        this.waitForDeposit = (confirmations) => {\n            const promiEvent = newPromiEvent();\n            (async () => {\n                // If the deposit has already been submitted, skip \"waitForDeposit\".\n                if (this.params.renTxHash) {\n                    return this;\n                }\n                if (!this.gatewayAddress) {\n                    throw new Error(\"Unable to calculate gateway address.\");\n                }\n                const { requiredAmount, sendToken: renContract } = this.params;\n                if (!renContract) {\n                    throw new Error(`Must provide token to be shifted.`);\n                }\n                // try {\n                //     // Check if the darknodes have already seen the transaction\n                //     const queryTxResponse = await this.queryTx();\n                //     if (\n                //         queryTxResponse.txStatus === TxStatus.TxStatusDone ||\n                //         queryTxResponse.txStatus === TxStatus.TxStatusExecuting ||\n                //         queryTxResponse.txStatus === TxStatus.TxStatusPending\n                //     ) {\n                //         // Shift has already been submitted to RenVM - no need to\n                //         // wait for deposit.\n                //         return this;\n                //     }\n                // } catch (error) {\n                //     console.error(error);\n                //     // Ignore error\n                // }\n                let deposits = OrderedMap();\n                // const depositedAmount = (): number => {\n                //     return deposits.map(item => item.utxo.value).reduce((prev, next) => prev + next, 0);\n                // };\n                // tslint:disable-next-line: no-constant-condition\n                while (true) {\n                    if (promiEvent._isCancelled()) {\n                        throw new Error(\"waitForDeposit cancelled.\");\n                    }\n                    if (deposits.size > 0) {\n                        // Sort deposits\n                        const greatestTx = deposits.filter(utxo => utxo.utxo.confirmations >= confirmations).sort((a, b) => a.utxo.value > b.utxo.value ? -1 : 1).first(undefined);\n                        // Handle required minimum and maximum amount\n                        let minimum = new BigNumber(0);\n                        let maximum = new BigNumber(Infinity);\n                        if (requiredAmount) {\n                            if (BigNumber.isBigNumber(requiredAmount) || typeof requiredAmount === \"number\" || typeof requiredAmount === \"string\" || BN.isBN(requiredAmount)) {\n                                minimum = toBigNumber(requiredAmount);\n                            }\n                            else {\n                                const requiredAmountSpread = requiredAmount;\n                                if (requiredAmountSpread.min) {\n                                    minimum = toBigNumber(requiredAmountSpread.min);\n                                }\n                                if (requiredAmountSpread.max) {\n                                    maximum = toBigNumber(maximum);\n                                }\n                            }\n                        }\n                        if (greatestTx && new BigNumber(greatestTx.utxo.value).gte(minimum) && new BigNumber(greatestTx.utxo.value).lte(maximum)) {\n                            this.utxo = greatestTx.utxo;\n                            break;\n                        }\n                    }\n                    try {\n                        const newDeposits = await retrieveDeposits(this.network, resolveInToken(renContract), this.gatewayAddress, 0);\n                        let newDeposit = false;\n                        for (const deposit of newDeposits) {\n                            // tslint:disable-next-line: no-non-null-assertion\n                            if (!deposits.has(deposit.utxo.txid) || deposits.get(deposit.utxo.txid).utxo.confirmations !== deposit.utxo.confirmations) {\n                                promiEvent.emit(\"deposit\", deposit);\n                                newDeposit = true;\n                            }\n                            deposits = deposits.set(deposit.utxo.txid, deposit);\n                        }\n                        if (newDeposit) {\n                            continue;\n                        }\n                    }\n                    catch (error) {\n                        // tslint:disable-next-line: no-console\n                        console.error(String(error));\n                        await sleep(1 * SECONDS);\n                        continue;\n                    }\n                    await sleep(10 * SECONDS);\n                }\n                return this;\n            })().then(promiEvent.resolve).catch(promiEvent.reject);\n            return promiEvent;\n        };\n        this.renTxHash = (specifyUTXO) => {\n            const renTxHash = this.params.renTxHash;\n            if (renTxHash) {\n                return renTxHashToBase64(renTxHash);\n            }\n            const { contractCalls, sendToken: renContract, nonce } = this.params;\n            const utxo = specifyUTXO || this.utxo;\n            if (!utxo) {\n                throw new Error(`Unable to generate renTxHash without UTXO. Call 'waitForDeposit' first.`);\n            }\n            if (!nonce) {\n                throw new Error(`Unable to generate renTxHash without nonce.`);\n            }\n            if (!contractCalls || !contractCalls.length) {\n                throw new Error(`Unable to generate renTxHash without contract call details.`);\n            }\n            if (!renContract) {\n                throw new Error(`Unable to generate renTxHash without token being shifted.`);\n            }\n            // Last contract call\n            const { contractParams, sendTo } = contractCalls[contractCalls.length - 1];\n            const gHash = generateGHash(contractParams || [], strip0x(sendTo), resolveInToken(renContract), nonce, this.network);\n            const encodedGHash = toBase64(gHash);\n            return generateShiftInTxHash(resolveInToken(renContract), encodedGHash, utxo);\n        };\n        this.queryTx = async (specifyUTXO) => unmarshalMintTx(await this.renVMNetwork.queryTX(Ox(Buffer.from(this.renTxHash(specifyUTXO), \"base64\"))));\n        this.submitToRenVM = (specifyUTXO) => {\n            const promiEvent = newPromiEvent();\n            (async () => {\n                const utxo = specifyUTXO || this.utxo;\n                let renTxHash = this.params.renTxHash ? renTxHashToBase64(this.params.renTxHash) : undefined;\n                if (utxo) {\n                    const utxoRenTxHash = this.renTxHash(utxo);\n                    if (renTxHash && renTxHash !== utxoRenTxHash) {\n                        throw new Error(`Inconsistent RenVM transaction hash: got ${renTxHash} but expected ${utxoRenTxHash}`);\n                    }\n                    renTxHash = utxoRenTxHash;\n                    const { contractCalls, sendToken: renContract, nonce } = this.params;\n                    if (!nonce) {\n                        throw new Error(\"Unable to submit to RenVM without nonce.\");\n                    }\n                    if (!contractCalls || !contractCalls.length) {\n                        throw new Error(`Unable to submit to RenVM without contract call details.`);\n                    }\n                    if (!renContract) {\n                        throw new Error(`Unable to submit to RenVM without token being shifted.`);\n                    }\n                    // Last contract call\n                    const { contractParams, sendTo, contractFn } = contractCalls[contractCalls.length - 1];\n                    const fnABI = payloadToShiftInABI(contractFn, (contractParams || []));\n                    const encodedParameters = (new Web3(\"\").eth.abi.encodeParameters((contractParams || []).map(i => i.type), (contractParams || []).map(i => i.value)));\n                    // Try to submit to RenVM. If that fails, see if they already\n                    // know about the transaction.\n                    try {\n                        renTxHash = await this.renVMNetwork.submitShiftIn(resolveInToken(renContract), sendTo, nonce, utxo.txid, utxo.output_no.toFixed(), this.network, contractFn, fnABI, encodedParameters);\n                        if (renTxHash !== utxoRenTxHash) {\n                            console.warn(`Unexpected txHash returned from RenVM: expected ${utxoRenTxHash} but got ${renTxHash}`);\n                        }\n                    }\n                    catch (error) {\n                        try {\n                            // Check if the darknodes have already seen the transaction\n                            const queryTxResponse = await this.queryTx(utxo);\n                            if (queryTxResponse.txStatus === TxStatus.TxStatusNil) {\n                                throw new Error(`Transaction ${renTxHash} has not been submitted previously.`);\n                            }\n                        }\n                        catch (errorInner) {\n                            // Ignore errorInner.\n                            // tslint:disable-next-line: no-console\n                            console.error(errorInner);\n                            throw error;\n                        }\n                    }\n                    promiEvent.emit(\"renTxHash\", renTxHash);\n                }\n                else if (!renTxHash) {\n                    throw new Error(`Must call 'waitForDeposit' or provide UTXO or RenVM transaction hash.`);\n                }\n                const rawResponse = await this.renVMNetwork.waitForTX(Ox(Buffer.from(renTxHash, \"base64\")), (status) => {\n                    promiEvent.emit(\"status\", status);\n                }, () => promiEvent._isCancelled());\n                const response = unmarshalMintTx(rawResponse);\n                // const utxoTxHash = Ox(Buffer.from(renTxHash, \"base64\"));\n                // const onStatus = (status: TxStatus) => { promiEvent.emit(\"status\", status); };\n                // const _cancelRequested = () => promiEvent._isCancelled();\n                // let result: UnmarshalledMintTx | undefined;\n                // let rawResponse;\n                // // tslint:disable-next-line: no-constant-condition\n                // while (true) {\n                //     if (_cancelRequested && _cancelRequested()) {\n                //         throw new Error(`waitForTX cancelled`);\n                //     }\n                //     try {\n                //         result = unmarshalMintTx(await this.renVMNetwork.queryTX<ResponseQueryMintTx>(utxoTxHash));\n                //         if (result && result.txStatus === TxStatus.TxStatusDone) {\n                //             rawResponse = result;\n                //             break;\n                //         } else if (onStatus && result && result.txStatus) {\n                //             onStatus(result.txStatus);\n                //         }\n                //     } catch (error) {\n                //         // tslint:disable-next-line: no-console\n                //         if (String((error || {}).message).match(/(not found)|(not available)/)) {\n                //             // ignore\n                //         } else {\n                //             // tslint:disable-next-line: no-console\n                //             console.error(String(error));\n                //             // TODO: throw unepected errors\n                //         }\n                //     }\n                //     await sleep(5 * SECONDS);\n                // }\n                this.renVMResponse = response;\n                this.signature = signatureToString(fixSignature(this.renVMResponse, this.network));\n                return this;\n                // tslint:disable-next-line: no-use-before-declare\n                // return new Signature(this.network, this.params as ShiftInParams, response, renTxHash);\n            })().then(promiEvent.resolve).catch(promiEvent.reject);\n            return promiEvent;\n        };\n        // tslint:disable-next-line:no-any\n        this.waitAndSubmit = async (web3Provider, confirmations, txConfig, specifyUTXO) => {\n            await this.waitForDeposit(confirmations);\n            const signature = await this.submitToRenVM(specifyUTXO);\n            return signature.submitToEthereum(web3Provider, txConfig);\n        };\n        // tslint:disable-next-line: no-any\n        this.submitToEthereum = (web3Provider, txConfig) => {\n            // tslint:disable-next-line: no-any\n            const promiEvent = newPromiEvent();\n            (async () => {\n                const web3 = new Web3(web3Provider);\n                const { sendToken: renContract } = this.params;\n                const manualPromiEvent = async (txHash) => {\n                    const receipt = await web3.eth.getTransactionReceipt(txHash);\n                    promiEvent.emit(\"transactionHash\", txHash);\n                    const emitConfirmation = async () => {\n                        const currentBlock = await web3.eth.getBlockNumber();\n                        promiEvent.emit(\"confirmation\", Math.max(0, currentBlock - receipt.blockNumber), receipt);\n                    };\n                    // The following section should be revised to properly\n                    // register the event emitter to the transaction's\n                    // confirmations, so that on(\"confirmation\") works\n                    // as expected. This code branch only occurs if a\n                    // completed trade is passed to RenJS again, which\n                    // should not usually happen.\n                    // Emit confirmation now and in 1s, since a common use\n                    // case may be to have the following code, which doesn't\n                    // work if we emit the txHash and confirmations\n                    // with no time in between:\n                    //\n                    // ```js\n                    // const txHash = await new Promise((resolve, reject) => shift.on(\"transactionHash\", resolve).catch(reject));\n                    // shift.on(\"confirmation\", () => { /* do something */ });\n                    // ```\n                    await emitConfirmation();\n                    setTimeout(emitConfirmation, 1000);\n                    return receipt;\n                };\n                if (this.thirdPartyTransaction) {\n                    return await manualPromiEvent(this.thirdPartyTransaction);\n                }\n                if (!this.renVMResponse || !this.signature) {\n                    throw new Error(`Unable to submit to Ethereum without signature. Call 'submitToRenVM' first.`);\n                }\n                // Check if the signature has already been submitted\n                if (renContract) {\n                    try {\n                        const shifterAddress = await getShifterAddress(this.network, web3, resolveInToken(renContract));\n                        const shifter = new web3.eth.Contract(this.network.contracts.addresses.shifter.BTCShifter.abi, shifterAddress);\n                        // We can skip the `status` check and call `getPastLogs` directly - for now both are called in case\n                        // the contract\n                        const status = await shifter.methods.status(this.renVMResponse.autogen.sighash).call();\n                        if (status) {\n                            const recentRegistrationEvents = await web3.eth.getPastLogs({\n                                address: shifterAddress,\n                                fromBlock: \"1\",\n                                toBlock: \"latest\",\n                                // topics: [sha3(\"LogDarknodeRegistered(address,uint256)\"), \"0x000000000000000000000000\" +\n                                // address.slice(2), null, null] as any,\n                                topics: [sha3(\"LogShiftIn(address,uint256,uint256,bytes32)\"), null, null, this.renVMResponse.autogen.sighash],\n                            });\n                            if (!recentRegistrationEvents.length) {\n                                throw new Error(`Shift has been submitted but no log was found.`);\n                            }\n                            const log = recentRegistrationEvents[0];\n                            return await manualPromiEvent(log.transactionHash);\n                        }\n                    }\n                    catch (error) {\n                        // tslint:disable-next-line: no-console\n                        console.error(error);\n                        // Continue with transaction\n                    }\n                }\n                const contractCalls = this.params.contractCalls || [];\n                let tx;\n                for (let i = 0; i < contractCalls.length; i++) {\n                    const contractCall = contractCalls[i];\n                    const last = i === contractCalls.length - 1;\n                    const { contractParams, contractFn, sendTo, txConfig: txConfigParam } = contractCall;\n                    let params;\n                    if (last) {\n                        params = [\n                            ...(contractParams || []).map(value => value.value),\n                            Ox(new BigNumber(this.renVMResponse.autogen.amount).toString(16)),\n                            Ox(this.renVMResponse.autogen.nhash),\n                            // Ox(this.renVMResponse.args.n), // _nHash: string\n                            Ox(this.signature),\n                        ];\n                    }\n                    else {\n                        params = (contractParams || []).map(value => value.value);\n                    }\n                    const ABI = payloadToShiftInABI(contractFn, (contractParams || []));\n                    const contract = new web3.eth.Contract(ABI, sendTo);\n                    tx = contract.methods[contractFn](...params).send(await withDefaultAccount(web3, {\n                        ...txConfigParam,\n                        ...{\n                            value: txConfigParam && txConfigParam.value ? txConfigParam.value.toString() : undefined,\n                            gasPrice: txConfigParam && txConfigParam.gasPrice ? txConfigParam.gasPrice.toString() : undefined,\n                        },\n                        ...txConfig,\n                    }));\n                    if (last) {\n                        // tslint:disable-next-line: no-non-null-assertion\n                        forwardEvents(tx, promiEvent);\n                    }\n                    // tslint:disable-next-line: no-non-null-assertion\n                    await new Promise((resolve, reject) => tx\n                        .on(\"transactionHash\", resolve)\n                        .catch((error) => {\n                        // tslint:disable-next-line: no-console\n                        try {\n                            if (ignoreError(error)) {\n                                console.error(String(error));\n                                return;\n                            }\n                        }\n                        catch (_error) { /* Ignore _error */ }\n                        reject(error);\n                    }));\n                }\n                if (tx === undefined) {\n                    throw new Error(`Must provide contract call.`);\n                }\n                // tslint:disable-next-line: no-non-null-assertion\n                return await new Promise((innerResolve, reject) => tx\n                    .once(\"confirmation\", (_confirmations, receipt) => { innerResolve(receipt); })\n                    .catch((error) => {\n                    // tslint:disable-next-line: no-console\n                    try {\n                        if (ignoreError(error)) {\n                            console.error(String(error));\n                            return;\n                        }\n                    }\n                    catch (_error) { /* Ignore _error */ }\n                    reject(error);\n                }));\n            })().then((receipt) => promiEvent.resolve(receipt)).catch(promiEvent.reject);\n            // TODO: Look into why .catch isn't being called on tx\n            promiEvent.on(\"error\", (error) => {\n                // tslint:disable-next-line: no-console\n                try {\n                    if (ignoreError(error)) {\n                        console.error(String(error));\n                        return;\n                    }\n                }\n                catch (_error) { /* Ignore _error */ }\n                promiEvent.reject(error);\n            });\n            return promiEvent;\n        };\n        /**\n         * Alternative to `submitToEthereum` that doesn't need a web3 instance\n         */\n        this.createTransaction = (txConfig) => {\n            const { contractCalls } = this.params;\n            if (!contractCalls || contractCalls.length !== 1) {\n                throw new Error(`Must provide exactly one contract call to createTransaction.`);\n            }\n            if (!this.renVMResponse || !this.signature) {\n                throw new Error(`Unable to create transaction without signature. Call 'submitToRenVM' first.`);\n            }\n            const contractCall = contractCalls[0];\n            const { contractParams, contractFn, sendTo, txConfig: txConfigParam } = contractCall;\n            const params = [\n                ...(contractParams || []).map(value => value.value),\n                Ox(new BigNumber(this.renVMResponse.autogen.amount).toString(16)),\n                Ox(this.renVMResponse.autogen.nhash),\n                // Ox(generateNHash(this.renVMResponse)), // _nHash: string\n                Ox(this.signature),\n            ];\n            const ABI = payloadToShiftInABI(contractFn, (contractParams || []));\n            // tslint:disable-next-line: no-any\n            const web3 = new Web3();\n            const contract = new web3.eth.Contract(ABI);\n            const data = contract.methods[contractFn](...params).encodeABI();\n            return {\n                to: sendTo,\n                data,\n                ...txConfigParam,\n                ...{\n                    value: txConfigParam && txConfigParam.value ? txConfigParam.value.toString() : undefined,\n                    gasPrice: txConfigParam && txConfigParam.gasPrice ? txConfigParam.gasPrice.toString() : undefined,\n                },\n                ...txConfig,\n            };\n        };\n        this.network = _network;\n        this.renVMNetwork = _renVMNetwork;\n        this.params = processShiftInParams(this.network, _params);\n        this.web3 = this.params.web3Provider ? new Web3(this.params.web3Provider) : undefined;\n        const renTxHash = this.params.renTxHash;\n        if (!renTxHash) {\n            const { sendToken: renContract, contractCalls, nonce: maybeNonce, requiredAmount } = this.params;\n            if (requiredAmount && toBigNumber(requiredAmount).lte(DEFAULT_SHIFT_FEE)) {\n                throw new Error(`Required amount (${requiredAmount}) is less than minimum shift amount`);\n            }\n            if (!contractCalls || !contractCalls.length) {\n                throw new Error(`Must provide Ren transaction hash or contract call details.`);\n            }\n            if (!renContract) {\n                throw new Error(`Must provide Ren transaction hash or token to be shifted.`);\n            }\n            // Last contract call\n            const { contractParams, sendTo } = contractCalls[contractCalls.length - 1];\n            const nonce = maybeNonce || randomNonce();\n            this.params.nonce = nonce;\n            // TODO: Validate inputs\n            const gHash = generateGHash(contractParams || [], strip0x(sendTo), resolveInToken(renContract), nonce, this.network);\n            const gatewayAddress = generateAddress(resolveInToken(renContract), gHash, this.network);\n            this.gatewayAddress = gatewayAddress;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hpZnRJbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zaGlmdEluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxhQUFhLEVBQUUsRUFBRSxFQUEwQyxPQUFPLEVBQUUsUUFBUSxHQUUvRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2hDLE9BQU8sRUFDSCxpQkFBaUIsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxxQkFBcUIsRUFDdEYsaUJBQWlCLEVBQUUsV0FBVyxFQUFFLG9CQUFvQixFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFDcEYsY0FBYyxFQUFFLGdCQUFnQixFQUFFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFDekUsa0JBQWtCLEdBQ3RDLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDM0UsT0FBTyxFQUNILGFBQWEsR0FDaEIsTUFBTSw2Q0FBNkMsQ0FBQztBQUVyRCxPQUFPLFNBQVMsTUFBTSxjQUFjLENBQUM7QUFDckMsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDdkMsT0FBTyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBR3hCLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFHbEMsT0FBTyxFQUFrQixlQUFlLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUV6RSxNQUFNLE9BQU8sYUFBYTtJQVl0QixZQUFZLGFBQTZCLEVBQUUsUUFBd0IsRUFBRSxPQUFzQjtRQW9DcEYsU0FBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7UUFFakMsbUJBQWMsR0FBRyxDQUFDLGFBQXFCLEVBQTJDLEVBQUU7WUFDdkYsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUErQixDQUFDO1lBRWhFLENBQUMsS0FBSyxJQUFJLEVBQUU7Z0JBQ1Isb0VBQW9FO2dCQUNwRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO29CQUN2QixPQUFPLElBQUksQ0FBQztpQkFDZjtnQkFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtvQkFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO2lCQUMzRDtnQkFFRCxNQUFNLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO2dCQUUvRCxJQUFJLENBQUMsV0FBVyxFQUFFO29CQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztpQkFDeEQ7Z0JBRUQsUUFBUTtnQkFDUixrRUFBa0U7Z0JBQ2xFLG9EQUFvRDtnQkFDcEQsV0FBVztnQkFDWCxnRUFBZ0U7Z0JBQ2hFLHFFQUFxRTtnQkFDckUsZ0VBQWdFO2dCQUNoRSxVQUFVO2dCQUNWLG9FQUFvRTtnQkFDcEUsK0JBQStCO2dCQUMvQix1QkFBdUI7Z0JBQ3ZCLFFBQVE7Z0JBQ1Isb0JBQW9CO2dCQUNwQiw0QkFBNEI7Z0JBQzVCLHNCQUFzQjtnQkFDdEIsSUFBSTtnQkFFSixJQUFJLFFBQVEsR0FBNkIsVUFBVSxFQUFFLENBQUM7Z0JBQ3RELDBDQUEwQztnQkFDMUMsMkZBQTJGO2dCQUMzRixLQUFLO2dCQUVMLGtEQUFrRDtnQkFDbEQsT0FBTyxJQUFJLEVBQUU7b0JBQ1QsSUFBSSxVQUFVLENBQUMsWUFBWSxFQUFFLEVBQUU7d0JBQzNCLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztxQkFDaEQ7b0JBRUQsSUFBSSxRQUFRLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRTt3QkFDbkIsZ0JBQWdCO3dCQUNoQixNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQU8sU0FBUyxDQUFDLENBQUM7d0JBRWpLLDZDQUE2Qzt3QkFDN0MsSUFBSSxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQy9CLElBQUksT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUN0QyxJQUFJLGNBQWMsRUFBRTs0QkFDaEIsSUFBSSxTQUFTLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxJQUFJLE9BQU8sY0FBYyxLQUFLLFFBQVEsSUFBSSxPQUFPLGNBQWMsS0FBSyxRQUFRLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRTtnQ0FDOUksT0FBTyxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQzs2QkFDekM7aUNBQU07Z0NBQ0gsTUFBTSxvQkFBb0IsR0FBRyxjQUFrRyxDQUFDO2dDQUNoSSxJQUFJLG9CQUFvQixDQUFDLEdBQUcsRUFBRTtvQ0FDMUIsT0FBTyxHQUFHLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztpQ0FDbkQ7Z0NBQ0QsSUFBSSxvQkFBb0IsQ0FBQyxHQUFHLEVBQUU7b0NBQzFCLE9BQU8sR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7aUNBQ2xDOzZCQUNKO3lCQUNKO3dCQUVELElBQUksVUFBVSxJQUFJLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFOzRCQUN0SCxJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUM7NEJBQzVCLE1BQU07eUJBQ1Q7cUJBQ0o7b0JBRUQsSUFBSTt3QkFDQSxNQUFNLFdBQVcsR0FBRyxNQUFNLGdCQUFnQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBRTlHLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQzt3QkFDdkIsS0FBSyxNQUFNLE9BQU8sSUFBSSxXQUFXLEVBQUU7NEJBQy9CLGtEQUFrRDs0QkFDbEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsS0FBSyxPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtnQ0FDeEgsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0NBQ3BDLFVBQVUsR0FBRyxJQUFJLENBQUM7NkJBQ3JCOzRCQUNELFFBQVEsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO3lCQUN2RDt3QkFDRCxJQUFJLFVBQVUsRUFBRTs0QkFBRSxTQUFTO3lCQUFFO3FCQUNoQztvQkFBQyxPQUFPLEtBQUssRUFBRTt3QkFDWix1Q0FBdUM7d0JBQ3ZDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7d0JBQzdCLE1BQU0sS0FBSyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQzt3QkFDekIsU0FBUztxQkFDWjtvQkFDRCxNQUFNLEtBQUssQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUM7aUJBQzdCO2dCQUNELE9BQU8sSUFBSSxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXZELE9BQU8sVUFBVSxDQUFDO1FBQ3RCLENBQUMsQ0FBQTtRQUVNLGNBQVMsR0FBRyxDQUFDLFdBQXVCLEVBQUUsRUFBRTtZQUMzQyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUN4QyxJQUFJLFNBQVMsRUFBRTtnQkFDWCxPQUFPLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ3ZDO1lBRUQsTUFBTSxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckUsTUFBTSxJQUFJLEdBQUcsV0FBVyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDdEMsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDUCxNQUFNLElBQUksS0FBSyxDQUFDLHlFQUF5RSxDQUFDLENBQUM7YUFDOUY7WUFFRCxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsNkNBQTZDLENBQUMsQ0FBQzthQUNsRTtZQUVELElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFO2dCQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDZEQUE2RCxDQUFDLENBQUM7YUFDbEY7WUFFRCxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsMkRBQTJELENBQUMsQ0FBQzthQUNoRjtZQUVELHFCQUFxQjtZQUNyQixNQUFNLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxHQUFHLGFBQWEsQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBRTNFLE1BQU0sS0FBSyxHQUFHLGFBQWEsQ0FBQyxjQUFjLElBQUksRUFBRSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxjQUFjLENBQUMsV0FBVyxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNySCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckMsT0FBTyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xGLENBQUMsQ0FBQTtRQUVNLFlBQU8sR0FBRyxLQUFLLEVBQUUsV0FBdUIsRUFBRSxFQUFFLENBQy9DLGVBQWUsQ0FBQyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFFckcsa0JBQWEsR0FBRyxDQUFDLFdBQXVCLEVBQThFLEVBQUU7WUFDM0gsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFrRSxDQUFDO1lBRW5HLENBQUMsS0FBSyxJQUFJLEVBQUU7Z0JBQ1IsTUFBTSxJQUFJLEdBQUcsV0FBVyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQ3RDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7Z0JBQzdGLElBQUksSUFBSSxFQUFFO29CQUNOLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzNDLElBQUksU0FBUyxJQUFJLFNBQVMsS0FBSyxhQUFhLEVBQUU7d0JBQzFDLE1BQU0sSUFBSSxLQUFLLENBQUMsNENBQTRDLFNBQVMsaUJBQWlCLGFBQWEsRUFBRSxDQUFDLENBQUM7cUJBQzFHO29CQUNELFNBQVMsR0FBRyxhQUFhLENBQUM7b0JBRTFCLE1BQU0sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO29CQUVyRSxJQUFJLENBQUMsS0FBSyxFQUFFO3dCQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsMENBQTBDLENBQUMsQ0FBQztxQkFDL0Q7b0JBRUQsSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUU7d0JBQ3pDLE1BQU0sSUFBSSxLQUFLLENBQUMsMERBQTBELENBQUMsQ0FBQztxQkFDL0U7b0JBRUQsSUFBSSxDQUFDLFdBQVcsRUFBRTt3QkFDZCxNQUFNLElBQUksS0FBSyxDQUFDLHdEQUF3RCxDQUFDLENBQUM7cUJBQzdFO29CQUVELHFCQUFxQjtvQkFDckIsTUFBTSxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsYUFBYSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBRXZGLE1BQU0sS0FBSyxHQUFHLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUV0RSxNQUFNLGlCQUFpQixHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FDNUQsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUN2QyxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQzNDLENBQUMsQ0FBQztvQkFFSCw2REFBNkQ7b0JBQzdELDhCQUE4QjtvQkFDOUIsSUFBSTt3QkFDQSxTQUFTLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FDN0MsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUMzQixNQUFNLEVBQ04sS0FBSyxFQUNMLElBQUksQ0FBQyxJQUFJLEVBQ1QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsRUFDeEIsSUFBSSxDQUFDLE9BQU8sRUFDWixVQUFVLEVBQ1YsS0FBSyxFQUNMLGlCQUFpQixDQUNwQixDQUFDO3dCQUNGLElBQUksU0FBUyxLQUFLLGFBQWEsRUFBRTs0QkFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxtREFBbUQsYUFBYSxZQUFZLFNBQVMsRUFBRSxDQUFDLENBQUM7eUJBQ3pHO3FCQUNKO29CQUFDLE9BQU8sS0FBSyxFQUFFO3dCQUNaLElBQUk7NEJBQ0EsMkRBQTJEOzRCQUMzRCxNQUFNLGVBQWUsR0FBRyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ2pELElBQUksZUFBZSxDQUFDLFFBQVEsS0FBSyxRQUFRLENBQUMsV0FBVyxFQUFFO2dDQUNuRCxNQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsU0FBUyxxQ0FBcUMsQ0FBQyxDQUFDOzZCQUNsRjt5QkFDSjt3QkFBQyxPQUFPLFVBQVUsRUFBRTs0QkFDakIscUJBQXFCOzRCQUNyQix1Q0FBdUM7NEJBQ3ZDLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7NEJBQzFCLE1BQU0sS0FBSyxDQUFDO3lCQUNmO3FCQUNKO29CQUVELFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2lCQUMzQztxQkFBTSxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLHVFQUF1RSxDQUFDLENBQUM7aUJBQzVGO2dCQUVELE1BQU0sV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQ2pELEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUNwQyxDQUFDLE1BQU0sRUFBRSxFQUFFO29CQUNQLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUN0QyxDQUFDLEVBQ0QsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLFlBQVksRUFBRSxDQUNsQyxDQUFDO2dCQUVGLE1BQU0sUUFBUSxHQUFHLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFOUMsMkRBQTJEO2dCQUMzRCxpRkFBaUY7Z0JBQ2pGLDREQUE0RDtnQkFFNUQsOENBQThDO2dCQUM5QyxtQkFBbUI7Z0JBQ25CLHFEQUFxRDtnQkFDckQsaUJBQWlCO2dCQUNqQixvREFBb0Q7Z0JBQ3BELGtEQUFrRDtnQkFDbEQsUUFBUTtnQkFFUixZQUFZO2dCQUNaLHNHQUFzRztnQkFDdEcscUVBQXFFO2dCQUNyRSxvQ0FBb0M7Z0JBQ3BDLHFCQUFxQjtnQkFDckIsOERBQThEO2dCQUM5RCx5Q0FBeUM7Z0JBQ3pDLFlBQVk7Z0JBQ1osd0JBQXdCO2dCQUN4QixrREFBa0Q7Z0JBQ2xELG9GQUFvRjtnQkFDcEYsd0JBQXdCO2dCQUN4QixtQkFBbUI7Z0JBQ25CLHNEQUFzRDtnQkFDdEQsNENBQTRDO2dCQUM1Qyw4Q0FBOEM7Z0JBQzlDLFlBQVk7Z0JBQ1osUUFBUTtnQkFDUixnQ0FBZ0M7Z0JBQ2hDLElBQUk7Z0JBRUosSUFBSSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxTQUFTLEdBQUcsaUJBQWlCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBRW5GLE9BQU8sSUFBSSxDQUFDO2dCQUVaLGtEQUFrRDtnQkFDbEQseUZBQXlGO1lBQzdGLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXZELE9BQU8sVUFBVSxDQUFDO1FBQ3RCLENBQUMsQ0FBQTtRQUVELGtDQUFrQztRQUMzQixrQkFBYSxHQUFHLEtBQUssRUFBRSxZQUFzQixFQUFFLGFBQXFCLEVBQUUsUUFBNEIsRUFBRSxXQUF1QixFQUFFLEVBQUU7WUFDbEksTUFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3pDLE1BQU0sU0FBUyxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN4RCxPQUFPLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxDQUFBO1FBRUQsbUNBQW1DO1FBQzVCLHFCQUFnQixHQUFHLENBQUMsWUFBc0IsRUFBRSxRQUE0QixFQUE4RCxFQUFFO1lBQzNJLG1DQUFtQztZQUNuQyxNQUFNLFVBQVUsR0FBRyxhQUFhLEVBQWtELENBQUM7WUFFbkYsQ0FBQyxLQUFLLElBQUksRUFBRTtnQkFFUixNQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFcEMsTUFBTSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO2dCQUUvQyxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxNQUFjLEVBQUUsRUFBRTtvQkFDOUMsTUFBTSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUM3RCxVQUFVLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUUzQyxNQUFNLGdCQUFnQixHQUFHLEtBQUssSUFBSSxFQUFFO3dCQUNoQyxNQUFNLFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7d0JBQ3JELFVBQVUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFlBQVksR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsT0FBYyxDQUFDLENBQUM7b0JBQ3JHLENBQUMsQ0FBQztvQkFFRixzREFBc0Q7b0JBQ3RELGtEQUFrRDtvQkFDbEQsa0RBQWtEO29CQUNsRCxpREFBaUQ7b0JBQ2pELGtEQUFrRDtvQkFDbEQsNkJBQTZCO29CQUU3QixzREFBc0Q7b0JBQ3RELHdEQUF3RDtvQkFDeEQsK0NBQStDO29CQUMvQywyQkFBMkI7b0JBQzNCLEVBQUU7b0JBQ0YsUUFBUTtvQkFDUiw2R0FBNkc7b0JBQzdHLDBEQUEwRDtvQkFDMUQsTUFBTTtvQkFDTixNQUFNLGdCQUFnQixFQUFFLENBQUM7b0JBQ3pCLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDbkMsT0FBTyxPQUFPLENBQUM7Z0JBQ25CLENBQUMsQ0FBQztnQkFFRixJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtvQkFDNUIsT0FBTyxNQUFNLGdCQUFnQixDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO2lCQUM3RDtnQkFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7b0JBQ3hDLE1BQU0sSUFBSSxLQUFLLENBQUMsNkVBQTZFLENBQUMsQ0FBQztpQkFDbEc7Z0JBRUQsb0RBQW9EO2dCQUNwRCxJQUFJLFdBQVcsRUFBRTtvQkFDYixJQUFJO3dCQUNBLE1BQU0sY0FBYyxHQUFHLE1BQU0saUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7d0JBQ2hHLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO3dCQUMvRyxtR0FBbUc7d0JBQ25HLGVBQWU7d0JBQ2YsTUFBTSxNQUFNLEdBQUcsTUFBTSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDdkYsSUFBSSxNQUFNLEVBQUU7NEJBQ1IsTUFBTSx3QkFBd0IsR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO2dDQUN4RCxPQUFPLEVBQUUsY0FBYztnQ0FDdkIsU0FBUyxFQUFFLEdBQUc7Z0NBQ2QsT0FBTyxFQUFFLFFBQVE7Z0NBQ2pCLDBGQUEwRjtnQ0FDMUYsd0NBQXdDO2dDQUN4QyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsNkNBQTZDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBYTs2QkFDNUgsQ0FBQyxDQUFDOzRCQUNILElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLEVBQUU7Z0NBQ2xDLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0RBQWdELENBQUMsQ0FBQzs2QkFDckU7NEJBQ0QsTUFBTSxHQUFHLEdBQUcsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3hDLE9BQU8sTUFBTSxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7eUJBQ3REO3FCQUNKO29CQUFDLE9BQU8sS0FBSyxFQUFFO3dCQUNaLHVDQUF1Qzt3QkFDdkMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDckIsNEJBQTRCO3FCQUMvQjtpQkFDSjtnQkFFRCxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsSUFBSSxFQUFFLENBQUM7Z0JBRXRELElBQUksRUFBK0MsQ0FBQztnQkFFcEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQzNDLE1BQU0sWUFBWSxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdEMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxLQUFLLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO29CQUU1QyxNQUFNLEVBQUUsY0FBYyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxHQUFHLFlBQVksQ0FBQztvQkFFckYsSUFBSSxNQUFNLENBQUM7b0JBQ1gsSUFBSSxJQUFJLEVBQUU7d0JBQ04sTUFBTSxHQUFHOzRCQUNMLEdBQUcsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzs0QkFDbkQsRUFBRSxDQUFDLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQzs0QkFDakUsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQzs0QkFDcEMsbURBQW1EOzRCQUNuRCxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzt5QkFDckIsQ0FBQztxQkFDTDt5QkFBTTt3QkFDSCxNQUFNLEdBQUcsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO3FCQUM3RDtvQkFFRCxNQUFNLEdBQUcsR0FBRyxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFFcEUsTUFBTSxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7b0JBRXBELEVBQUUsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUM3QixHQUFHLE1BQU0sQ0FDWixDQUFDLElBQUksQ0FBQyxNQUFNLGtCQUFrQixDQUFDLElBQUksRUFBRTt3QkFDbEMsR0FBRyxhQUFhO3dCQUNoQixHQUFHOzRCQUNDLEtBQUssRUFBRSxhQUFhLElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUzs0QkFDeEYsUUFBUSxFQUFFLGFBQWEsSUFBSSxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTO3lCQUNwRzt3QkFFRCxHQUFHLFFBQVE7cUJBQ2QsQ0FBQyxDQUFDLENBQUM7b0JBRUosSUFBSSxJQUFJLEVBQUU7d0JBQ04sa0RBQWtEO3dCQUNsRCxhQUFhLENBQUMsRUFBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO3FCQUNsQztvQkFFRCxrREFBa0Q7b0JBQ2xELE1BQU0sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFHO3lCQUNyQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxDQUFDO3lCQUM5QixLQUFLLENBQUMsQ0FBQyxLQUFZLEVBQUUsRUFBRTt3QkFDcEIsdUNBQXVDO3dCQUN2QyxJQUFJOzRCQUFFLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dDQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0NBQUMsT0FBTzs2QkFBRTt5QkFBRTt3QkFBQyxPQUFPLE1BQU0sRUFBRSxFQUFFLG1CQUFtQixFQUFFO3dCQUNoSCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ2xCLENBQUMsQ0FBQyxDQUNMLENBQUM7aUJBQ0w7Z0JBRUQsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFO29CQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7aUJBQ2xEO2dCQUVELGtEQUFrRDtnQkFDbEQsT0FBTyxNQUFNLElBQUksT0FBTyxDQUFxQixDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUc7cUJBQ3JFLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxjQUFzQixFQUFFLE9BQTJCLEVBQUUsRUFBRSxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDekcsS0FBSyxDQUFDLENBQUMsS0FBWSxFQUFFLEVBQUU7b0JBQ3BCLHVDQUF1QztvQkFDdkMsSUFBSTt3QkFBRSxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsRUFBRTs0QkFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDOzRCQUFDLE9BQU87eUJBQUU7cUJBQUU7b0JBQUMsT0FBTyxNQUFNLEVBQUUsRUFBRSxtQkFBbUIsRUFBRTtvQkFDaEgsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNsQixDQUFDLENBQUMsQ0FDTCxDQUFDO1lBQ04sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBNkIsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVuRyxzREFBc0Q7WUFDdEQsVUFBVSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtnQkFDN0IsdUNBQXVDO2dCQUN2QyxJQUFJO29CQUFFLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFO3dCQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7d0JBQUMsT0FBTztxQkFBRTtpQkFBRTtnQkFBQyxPQUFPLE1BQU0sRUFBRSxFQUFFLG1CQUFtQixFQUFFO2dCQUNoSCxVQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzdCLENBQUMsQ0FBQyxDQUFDO1lBRUgsT0FBTyxVQUFVLENBQUM7UUFDdEIsQ0FBQyxDQUFBO1FBRUQ7O1dBRUc7UUFDSSxzQkFBaUIsR0FBRyxDQUFDLFFBQTRCLEVBQXFCLEVBQUU7WUFDM0UsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFdEMsSUFBSSxDQUFDLGFBQWEsSUFBSSxhQUFhLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDOUMsTUFBTSxJQUFJLEtBQUssQ0FBQyw4REFBOEQsQ0FBQyxDQUFDO2FBQ25GO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUN4QyxNQUFNLElBQUksS0FBSyxDQUFDLDZFQUE2RSxDQUFDLENBQUM7YUFDbEc7WUFFRCxNQUFNLFlBQVksR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFdEMsTUFBTSxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsR0FBRyxZQUFZLENBQUM7WUFFckYsTUFBTSxNQUFNLEdBQUc7Z0JBQ1gsR0FBRyxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO2dCQUNuRCxFQUFFLENBQUMsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNqRSxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUNwQywyREFBMkQ7Z0JBQzNELEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ3JCLENBQUM7WUFFRixNQUFNLEdBQUcsR0FBRyxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNwRSxtQ0FBbUM7WUFDbkMsTUFBTSxJQUFJLEdBQVMsSUFBSyxJQUFZLEVBQUUsQ0FBQztZQUN2QyxNQUFNLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRTVDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQ3JDLEdBQUcsTUFBTSxDQUNaLENBQUMsU0FBUyxFQUFFLENBQUM7WUFFZCxPQUFPO2dCQUNILEVBQUUsRUFBRSxNQUFNO2dCQUNWLElBQUk7Z0JBRUosR0FBRyxhQUFhO2dCQUNoQixHQUFHO29CQUNDLEtBQUssRUFBRSxhQUFhLElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUztvQkFDeEYsUUFBUSxFQUFFLGFBQWEsSUFBSSxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTO2lCQUNwRztnQkFFRCxHQUFHLFFBQVE7YUFDZCxDQUFDO1FBQ04sQ0FBQyxDQUFBO1FBcGdCRyxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQztRQUN4QixJQUFJLENBQUMsWUFBWSxHQUFHLGFBQWEsQ0FBQztRQUNsQyxJQUFJLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBRXRGLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBRXhDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDWixNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRWpHLElBQUksY0FBYyxJQUFJLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsRUFBRTtnQkFDdEUsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsY0FBYyxxQ0FBcUMsQ0FBQyxDQUFDO2FBQzVGO1lBRUQsSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3pDLE1BQU0sSUFBSSxLQUFLLENBQUMsNkRBQTZELENBQUMsQ0FBQzthQUNsRjtZQUVELElBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQywyREFBMkQsQ0FBQyxDQUFDO2FBQ2hGO1lBRUQscUJBQXFCO1lBQ3JCLE1BQU0sRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLEdBQUcsYUFBYSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFM0UsTUFBTSxLQUFLLEdBQUcsVUFBVSxJQUFJLFdBQVcsRUFBRSxDQUFDO1lBQzFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUUxQix3QkFBd0I7WUFDeEIsTUFBTSxLQUFLLEdBQUcsYUFBYSxDQUFDLGNBQWMsSUFBSSxFQUFFLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLGNBQWMsQ0FBQyxXQUFXLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3JILE1BQU0sY0FBYyxHQUFHLGVBQWUsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6RixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztTQUN4QztJQUNMLENBQUM7Q0FvZUoifQ==","import { newPromiEvent, Ox, } from \"@renproject/interfaces\";\nimport { extractBurnReference, generateShiftOutTxHash, ignoreError, processShiftOutParams, renTxHashToBase64, resolveOutToken, withDefaultAccount, } from \"@renproject/utils\";\nimport { payloadToABI, payloadToShiftInABI } from \"@renproject/utils/build/main/lib/abi\";\nimport { forwardEvents, } from \"@renproject/utils/build/main/lib/promievent\";\nimport BigNumber from \"bignumber.js\";\nimport Web3 from \"web3\";\nimport { unmarshalBurnTx } from \"./renVM/shifterNetwork\";\nexport class ShiftOutObject {\n    constructor(_renVMNetwork, _network, _params) {\n        this.createTransaction = (txConfig) => {\n            const { contractCalls } = this.params;\n            if (!contractCalls || contractCalls.length !== 1) {\n                throw new Error(`Must provide exactly one contract call to createTransaction.`);\n            }\n            const contractCall = contractCalls[0];\n            const { contractParams, contractFn, sendTo, txConfig: txConfigParam } = contractCall;\n            const params = [\n                ...(contractParams || []).map(value => value.value),\n            ];\n            const ABI = payloadToShiftInABI(contractFn, (contractParams || []));\n            // tslint:disable-next-line: no-any\n            const web3 = new Web3();\n            const contract = new web3.eth.Contract(ABI);\n            const data = contract.methods[contractFn](...params).encodeABI();\n            return {\n                to: sendTo,\n                data,\n                ...txConfigParam,\n                ...{\n                    value: txConfigParam && txConfigParam.value ? txConfigParam.value.toString() : undefined,\n                    gasPrice: txConfigParam && txConfigParam.gasPrice ? txConfigParam.gasPrice.toString() : undefined,\n                },\n                ...txConfig,\n            };\n        };\n        this.readFromEthereum = (txConfig) => {\n            const promiEvent = newPromiEvent();\n            (async () => {\n                if (this.params.renTxHash) {\n                    return this;\n                }\n                const { web3Provider, contractCalls } = this.params;\n                let { burnReference } = this.params;\n                let ethTxHash = this.params.ethTxHash;\n                // There are three parameter configs:\n                // Situation (1): A `burnReference` is provided\n                // Situation (2): Contract call details are provided\n                // Situation (3): A txHash is provided\n                // For (1), we don't have to do anything.\n                if (!burnReference && burnReference !== 0) {\n                    if (!web3Provider) {\n                        throw new Error(\"Must provide burn reference ID or web3 provider.\");\n                    }\n                    const web3 = new Web3(web3Provider);\n                    // Handle situation (2)\n                    // Make a call to the provided contract and Pass on the\n                    // transaction hash.\n                    if (contractCalls) {\n                        for (let i = 0; i < contractCalls.length; i++) {\n                            const contractCall = contractCalls[i];\n                            const last = i === contractCalls.length - 1;\n                            const { contractParams, contractFn, sendTo, txConfig: txConfigParam } = contractCall;\n                            const callParams = [\n                                ...(contractParams || []).map(value => value.value),\n                            ];\n                            const ABI = payloadToABI(contractFn, contractParams);\n                            const contract = new web3.eth.Contract(ABI, sendTo);\n                            const tx = contract.methods[contractFn](...callParams).send(await withDefaultAccount(web3, {\n                                ...txConfigParam,\n                                ...{\n                                    value: txConfigParam && txConfigParam.value ? txConfigParam.value.toString() : undefined,\n                                    gasPrice: txConfigParam && txConfigParam.gasPrice ? txConfigParam.gasPrice.toString() : undefined,\n                                },\n                                ...txConfig,\n                            }));\n                            if (last) {\n                                forwardEvents(tx, promiEvent);\n                            }\n                            ethTxHash = await new Promise((resolve, reject) => tx\n                                .on(\"transactionHash\", resolve)\n                                .catch((error) => {\n                                // tslint:disable-next-line: no-console\n                                try {\n                                    if (ignoreError(error)) {\n                                        console.error(String(error));\n                                        return;\n                                    }\n                                }\n                                catch (_error) { /* Ignore _error */ }\n                                reject(error);\n                            }));\n                        }\n                    }\n                    if (!ethTxHash) {\n                        throw new Error(\"Must provide txHash or contract call details.\");\n                    }\n                    burnReference = await extractBurnReference(web3, ethTxHash);\n                }\n                this.params.burnReference = burnReference;\n                return this;\n            })().then(promiEvent.resolve).catch(promiEvent.reject);\n            // TODO: Look into why .catch isn't being called on tx\n            promiEvent.on(\"error\", (error) => {\n                // tslint:disable-next-line: no-console\n                try {\n                    if (ignoreError(error)) {\n                        console.error(String(error));\n                        return;\n                    }\n                }\n                catch (_error) { /* Ignore _error */ }\n                promiEvent.reject(error);\n            });\n            return promiEvent;\n        };\n        this.renTxHash = () => {\n            const renTxHash = this.params.renTxHash;\n            if (renTxHash) {\n                return renTxHashToBase64(renTxHash);\n            }\n            if (!this.params.burnReference && this.params.burnReference !== 0) {\n                throw new Error(\"Must call `readFromEthereum` before calling `renTxHash`\");\n            }\n            const burnReference = new BigNumber(this.params.burnReference).toFixed();\n            return generateShiftOutTxHash(resolveOutToken(this.params.sendToken), burnReference);\n        };\n        this.queryTx = async () => unmarshalBurnTx(await this.renVMNetwork.queryTX(Ox(Buffer.from(this.renTxHash(), \"base64\"))));\n        this.submitToRenVM = () => {\n            const promiEvent = newPromiEvent();\n            (async () => {\n                const { burnReference } = this.params;\n                if (!this.params.renTxHash && (!burnReference && burnReference !== 0)) {\n                    throw new Error(\"Must call `readFromEthereum` before calling `submitToRenVM`\");\n                }\n                const renTxHash = this.renTxHash();\n                // const renTxHash = await this.renVMNetwork.submitTokenFromEthereum(this.params.sendToken, burnReference);\n                promiEvent.emit(\"renTxHash\", renTxHash);\n                const response = await this.renVMNetwork.waitForTX(Ox(Buffer.from(renTxHash, \"base64\")), (status) => {\n                    promiEvent.emit(\"status\", status);\n                }, () => promiEvent._isCancelled());\n                return unmarshalBurnTx(response);\n            })().then(promiEvent.resolve).catch(promiEvent.reject);\n            return promiEvent;\n        };\n        this.renVMNetwork = _renVMNetwork;\n        this.network = _network;\n        this.params = processShiftOutParams(this.network, _params);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hpZnRPdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2hpZnRPdXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILGFBQWEsRUFBRSxFQUFFLEdBQ3BCLE1BQU0sd0JBQXdCLENBQUM7QUFDaEMsT0FBTyxFQUNTLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLFdBQVcsRUFBRSxxQkFBcUIsRUFDNUYsaUJBQWlCLEVBQUUsZUFBZSxFQUFrQixrQkFBa0IsR0FDekUsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDekYsT0FBTyxFQUNILGFBQWEsR0FDaEIsTUFBTSw2Q0FBNkMsQ0FBQztBQUVyRCxPQUFPLFNBQVMsTUFBTSxjQUFjLENBQUM7QUFDckMsT0FBTyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBSXhCLE9BQU8sRUFBa0IsZUFBZSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFekUsTUFBTSxPQUFPLGNBQWM7SUFLdkIsWUFBWSxhQUE2QixFQUFFLFFBQXdCLEVBQUUsT0FBdUI7UUFNckYsc0JBQWlCLEdBQUcsQ0FBQyxRQUE0QixFQUFxQixFQUFFO1lBQzNFLE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXRDLElBQUksQ0FBQyxhQUFhLElBQUksYUFBYSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQzlDLE1BQU0sSUFBSSxLQUFLLENBQUMsOERBQThELENBQUMsQ0FBQzthQUNuRjtZQUVELE1BQU0sWUFBWSxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV0QyxNQUFNLEVBQUUsY0FBYyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxHQUFHLFlBQVksQ0FBQztZQUVyRixNQUFNLE1BQU0sR0FBRztnQkFDWCxHQUFHLENB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","module.exports = __webpack_public_path__ + \"static/media/logo-small-grey.667ae64e.png\";","import { sleep } from \"@renproject/react-components\";\nimport RenJS from \"@renproject/ren\";\nimport {\n    Asset, GatewayMessageType, HistoryEvent, RenContract, SendTokenInterface,\n    SerializableShiftOutParams, ShiftInEvent, ShiftInParams, ShiftInStatus, ShiftNonce,\n    ShiftOutEvent, ShiftOutParams, ShiftOutStatus, Tx, TxStatus,\n} from \"@renproject/interfaces\";\nimport { ShiftInObject } from \"@renproject/ren/build/main/shiftIn\";\nimport { Container } from \"unstated\";\nimport Web3 from \"web3\";\nimport { NetworkDetails } from \"@renproject/utils/build/main/types/networks\";\nimport { parseRenContract, resolveInToken, UTXO } from \"@renproject/utils\";\n\nimport { getStorageItem, updateStorageTrade } from \"../components/controllers/Storage\";\n// tslint:disable-next-line: ordered-imports\nimport { _catchBackgroundErr_, _catchInteractionErr_, _ignoreErr_ } from \"../lib/errors\";\nimport { postMessageToClient } from \"../lib/postMessage\";\nimport { compareShiftStatus, compareTxStatus, isFunction, isPromise } from \"../lib/utils\";\nimport { Token } from \"./generalTypes\";\nimport { UIContainer } from \"./uiContainer\";\n\nconst BitcoinTx = (hash: string): Tx => ({ hash, chain: RenJS.Chains.Bitcoin });\nconst ZCashTx = (hash: string): Tx => ({ hash, chain: RenJS.Chains.Zcash });\nconst BCashTx = (hash: string): Tx => ({ hash, chain: RenJS.Chains.BitcoinCash });\nconst EthereumTx = (hash: string): Tx => ({ hash, chain: RenJS.Chains.Ethereum });\n\nconst initialState = {\n    sdkRenVM: null as null | RenJS,\n    // sdkAddress: null as string | null,\n    // sdkWeb3: null as Web3 | null,\n    shift: null as HistoryEvent | null,\n};\n\nexport const numberOfConfirmations = (renContract: \"BTC\" | \"ZEC\" | \"BCH\" | RenContract, networkDetails: NetworkDetails | undefined) =>\n    (parseRenContract(resolveInToken(renContract)).asset === Asset.ZEC ? 6 : 2) /\n    // Confirmations are halved on devnet\n    (networkDetails && networkDetails.name === \"devnet\" ? 2 : 1);\n\n/**\n * The SDKContainer is responsible for talking to the RenVM SDK. It stores the\n * associated state and exposes functions to interact with the SDK.\n *\n * The main two interactions are shifting in (trading BTC to DAI), and shifting\n * out (trading DAI to BTC).\n */\nexport class SDKContainer extends Container<typeof initialState> {\n    public state = initialState;\n    private readonly uiContainer: UIContainer;\n\n    constructor(uiContainer: UIContainer) {\n        super();\n        this.uiContainer = uiContainer;\n    }\n\n    public connect = async (network: string): Promise<void> => {\n        // public connect = async (web3: Web3, address: string | null, network: string): Promise<void> => {\n        await this.setState({\n            // sdkWeb3: web3,\n            sdkRenVM: new RenJS(network),\n            // sdkAddress: address,\n        });\n\n        // const shift = await this.fixShift(this.state.shift, web3);\n        // if (shift) {\n        //     await this.updateShift(shift, { sync: true });\n        // }\n    }\n\n    // public fixShift = async (shift: HistoryEvent | null, web3: Web3) => {\n    //     if (shift && shift.shiftParams.contractCalls) {\n    //         for (let i = 0; i < shift.shiftParams.contractCalls.length; i++) {\n    //             const contractCall = shift.shiftParams.contractCalls[i];\n    //             if (isFunction(contractCall)) {\n    //                 try {\n    //                     shift.shiftParams.contractCalls[i] = await contractCall(web3.currentProvider);\n    //                 } catch (error) {\n    //                     _ignoreErr_(error);\n    //                 }\n    //             } else if (isPromise(contractCall)) {\n    //                 try {\n    //                     shift.shiftParams.contractCalls[i] = await contractCall;\n    //                 } catch (error) {\n    //                     _ignoreErr_(error);\n    //                 }\n    //             }\n    //         }\n    //     }\n    //     return shift;\n    // }\n\n    public getShiftStatus = (shift?: HistoryEvent) => {\n        shift = shift || this.state.shift || undefined;\n        if (!shift) { throw new Error(\"Shift not set\"); }\n        return { status: shift.status, details: null };\n    }\n\n    public updateShift = async (shiftIn: Partial<HistoryEvent>, options?: { sync?: boolean }) => {\n        const renNetwork = this.uiContainer.state.renNetwork;\n        if (!renNetwork) {\n            throw new Error(`Error trying to update shift in storage without network being defined.`);\n        }\n\n        let existingShift: HistoryEvent | Partial<HistoryEvent> = {};\n        if (options && options.sync && shiftIn.shiftParams && shiftIn.shiftParams.nonce) {\n            existingShift = await getStorageItem(renNetwork, shiftIn.shiftParams.nonce) || {};\n        }\n\n        const min = (firstValue: (number | null | undefined), ...values: Array<number | null | undefined>): (number | null | undefined) => {\n            return values.reduce((acc, value) => (acc === null || acc === undefined || (value !== undefined && value !== null && value < acc) ? value : acc), firstValue);\n        };\n\n        // tslint:disable-next-line: no-object-literal-type-assertion\n        let shift = {\n            ...existingShift,\n            ...this.state.shift,\n            ...shiftIn,\n            // tslint:disable-next-line: no-any\n            time: min(existingShift.time, this.state.shift && this.state.shift.time, shiftIn.time),\n            inTx: shiftIn.inTx || (this.state.shift && this.state.shift.inTx) || existingShift.inTx,\n            outTx: shiftIn.outTx || (this.state.shift && this.state.shift.outTx) || existingShift.outTx,\n            renTxHash: shiftIn.renTxHash || (this.state.shift && this.state.shift.renTxHash) || existingShift.renTxHash,\n            renVMStatus: compareTxStatus(existingShift.renVMStatus, (this.state.shift && this.state.shift.renVMStatus), shiftIn.renVMStatus),\n            status: compareShiftStatus(existingShift.status, (this.state.shift && this.state.shift.status), shiftIn.status),\n        } as HistoryEvent;\n\n        // const web3 = this.state.sdkWeb3;\n        // if (web3) {\n        //     shift = (await this.fixShift(shift, web3)) || shift;\n        // }\n\n        if (\n            shift.status &&\n            (!this.state.shift || (this.state.shift.status !== shift.status)) &&\n            this.uiContainer.state.gatewayPopupID\n        ) {\n            postMessageToClient(window, this.uiContainer.state.gatewayPopupID, GatewayMessageType.Status, this.getShiftStatus(shift));\n        }\n        try {\n            await updateStorageTrade(renNetwork, shift);\n        } catch (error) {\n            console.error(error);\n        }\n        await this.setState({ shift });\n    }\n\n    public updateToAddress = async (address: string, token: Token) => {\n        if (!this.state.shift) {\n            return;\n        }\n\n        const sendToken = (this.state.shift.shiftParams as ShiftInParams | ShiftOutParams).sendToken;\n        const defaultToken = sendToken && (sendToken.slice(0, 3) as Token);\n        const contractCalls = this.state.shift.shiftParams.contractCalls ? Array.from(this.state.shift.shiftParams.contractCalls).map(contractCall => {\n            return (isFunction(contractCall) || isPromise(contractCall)) ? contractCall : contractCall.contractParams && contractCall.contractParams.map(param => {\n                const match = param && typeof param.value === \"string\" ? param.value.match(/^__renAskForAddress__([a-zA-Z0-9]+)?$/) : null;\n                try {\n                    if (match && (match[1] === token || (!match[1] && token === defaultToken))) {\n                        return { ...param, value: RenJS.Tokens[token].addressToHex(address) };\n                    }\n                } catch (error) {\n                    _catchInteractionErr_(error, \"...\");\n                }\n                return param;\n            });\n        }) : this.state.shift.shiftParams.contractCalls;\n        if (contractCalls) {\n            let partial: Partial<HistoryEvent>;\n            if (this.state.shift.shiftIn) {\n                partial = { shiftIn: this.state.shift.shiftIn, shiftParams: { ...this.state.shift.shiftParams, contractCalls } as unknown as ShiftInEvent[\"shiftParams\"] };\n            } else {\n                partial = { shiftIn: this.state.shift.shiftIn, shiftParams: { ...this.state.shift.shiftParams, contractCalls } as unknown as ShiftOutEvent[\"shiftParams\"] };\n            }\n            await this.updateShift(partial);\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////////\n    // Shift out ///////////////////////////////////////////////////////////////\n    ////////////////////////////////////////////////////////////////////////////\n\n    public submitBurnToEthereum = async (retry = false) => {\n        const { sdkRenVM: renVM } = this.state;\n        // const { sdkAddress: address, sdkWeb3: web3, sdkRenVM: renVM } = this.state;\n        if (!renVM) {\n            throw new Error(`Invalid values required for swap`);\n        }\n        const shift = this.state.shift;\n        if (!shift) {\n            throw new Error(\"Shift not set\");\n        }\n        if (shift.shiftIn) {\n            throw new Error(`Expected shift-out details but got shift-in`);\n        }\n        const { gatewayPopupID } = this.uiContainer.state;\n        if (!gatewayPopupID) {\n            throw new Error(`No gateway popup ID.`);\n        }\n\n        const params: SerializableShiftOutParams = shift.shiftParams;\n\n        // if (retry) {\n        //     await this.approveTokenTransfer(shiftID);\n        // }\n\n        // If there's a previous transaction and `retry` isn't set, reuse tx.\n        let transactionHash = shift.inTx && !retry ? shift.inTx.hash : null;\n\n        if (!transactionHash) {\n\n            const transactionConfig = await renVM.shiftOut({\n                ...params\n            }).createTransaction();\n\n            const { txHash, error } = await postMessageToClient(window, gatewayPopupID, GatewayMessageType.SendTransaction, { transactionConfig });\n            if (error) {\n                throw new Error(error);\n            }\n\n            if (!txHash) {\n                throw new Error(\"No txHash returned from Web3\");\n            }\n\n            transactionHash = txHash;\n\n            await this.updateShift({\n                inTx: EthereumTx(txHash),\n                status: ShiftOutStatus.SubmittedToEthereum,\n            });\n        }\n\n        const { confirmations, error } = await postMessageToClient(window, gatewayPopupID, GatewayMessageType.GetTransactionStatus, { txHash: transactionHash });\n        if (error) {\n            throw new Error(error);\n        }\n\n        await this.updateShift({\n            status: ShiftOutStatus.ConfirmedOnEthereum,\n        });\n    }\n\n    public submitBurnToRenVM = async (_resubmit = false) => {\n        // if (resubmit) {\n        //     await this.updateShift({ status: ShiftOutStatus.ConfirmedOnEthereum, renTxHash: null });\n        // }\n\n        const { sdkRenVM: renVM } = this.state;\n        // if (!web3) { throw new Error(`Web3 not initialized`); }\n        if (!renVM) { throw new Error(`RenVM not initialized`); }\n\n        const shift = this.state.shift;\n        if (!shift) { throw new Error(\"Shift not set\"); }\n        if (!shift.inTx) { throw new Error(`Invalid values required to submit deposit`); }\n\n        const { gatewayPopupID } = this.uiContainer.state;\n        if (!gatewayPopupID) {\n            throw new Error(`No gateway popup ID.`);\n        }\n\n        const { burnReference, error } = await postMessageToClient(window, gatewayPopupID, GatewayMessageType.GetTransactionBurn, { txHash: shift.inTx.hash });\n        if (error) {\n            throw new Error(error);\n        }\n\n        const shiftOutObject = await renVM.shiftOut({\n            sendToken: shift.shiftParams.sendToken,\n            burnReference: burnReference,\n        }).readFromEthereum();\n\n        const renTxHash = shiftOutObject.renTxHash();\n        this.updateShift({\n            renTxHash,\n            status: ShiftOutStatus.SubmittedToRenVM,\n        }).catch((error) => _catchBackgroundErr_(error, \"Error in sdkContainer: submitBurnToRenVM > renTxHash > updateShift\"));\n\n        const response = await shiftOutObject.submitToRenVM()\n            .on(\"status\", (renVMStatus: TxStatus) => {\n                this.updateShift({\n                    renVMStatus,\n                }).catch((error) => _catchBackgroundErr_(error, \"Error in sdkContainer: submitBurnToRenVM > onStatus > updateShift\"));\n            });\n        // TODO: Fix returned types for burning\n        const address = response.in.to;\n\n        await this.updateShift({\n            outTx: shift.shiftParams.sendToken === RenJS.Tokens.ZEC.Eth2Zec ?\n                ZCashTx(address) :\n                shift.shiftParams.sendToken === RenJS.Tokens.BCH.Eth2Bch ?\n                    BCashTx(address) :\n                    BitcoinTx(address),\n            status: ShiftOutStatus.ReturnedFromRenVM,\n        }).catch((error) => _catchBackgroundErr_(error, \"Error in sdkContainer: submitBurnToRenVM > updateShift\"));\n    }\n\n    ////////////////////////////////////////////////////////////////////////////\n    // Shift in ////////////////////////////////////////////////////////////////\n    ////////////////////////////////////////////////////////////////////////////\n\n    // Shifting in involves the following steps:\n    // 1. Generate a gateway address\n    // 2. Wait for a deposit to the address\n    // 3. Submit the deposit to RenVM and retrieve back a signature\n    // 4. Submit the signature to Ethereum\n\n    public shiftInObject = (): ShiftInObject => {\n        const { sdkRenVM: renVM } = this.state;\n        if (!renVM) {\n            throw new Error(\"Invalid parameters passed to `generateAddress`\");\n        }\n        const shift = this.state.shift;\n        if (!shift) {\n            throw new Error(\"Shift not set\");\n        }\n\n        return renVM.shiftIn(shift.shiftParams as ShiftInParams);\n    }\n\n    // Takes a shiftParams as bytes or an array of primitive types and returns\n    // the deposit address\n    public generateAddress = (): string | undefined => {\n        return this\n            .shiftInObject()\n            .addr();\n    }\n\n    // Retrieves unspent deposits at the provided address\n    public waitForDeposits = async (onDeposit: (utxo: UTXO) => void) => {\n        const shift = this.state.shift;\n        if (!shift) {\n            throw new Error(\"Shift not set\");\n        }\n\n        const promise = this\n            .shiftInObject()\n            .waitForDeposit(numberOfConfirmations(shift.shiftParams.sendToken, this.state.sdkRenVM ? this.state.sdkRenVM.network : undefined));\n        promise.on(\"deposit\", (utxo: UTXO) => {\n            this.updateShift({ status: ShiftInStatus.Deposited }).catch(error => _catchBackgroundErr_(error, \"Error in sdkContainer.tsx > waitForDeposits\"));\n            onDeposit(utxo);\n        });\n        await promise;\n        await this.updateShift({ status: ShiftInStatus.Confirmed });\n    }\n\n    // Submits the shiftParams and transaction to the darknodes, and then submits\n    // the signature to the adapter address\n    public submitMintToRenVM = async (): Promise<ShiftInObject> => {\n        const onRenTxHash = (renTxHash: string) => {\n            const shiftOnHash = this.state.shift;\n            if (!shiftOnHash || !shiftOnHash.renTxHash || shiftOnHash.renTxHash !== renTxHash) {\n                this.updateShift({ renTxHash, status: ShiftInStatus.SubmittedToRenVM })\n                    .catch(console.error);\n            }\n        };\n        const onStatus = (renVMStatus: TxStatus) => {\n            this.updateShift({\n                renVMStatus,\n            }).catch(console.error);\n        };\n\n        const shift = this.state.shift;\n        if (!shift) { throw new Error(\"Shift not set\"); }\n\n        const transaction = await this\n            .shiftInObject()\n            .waitForDeposit(numberOfConfirmations(shift.shiftParams.sendToken, this.state.sdkRenVM ? this.state.sdkRenVM.network : undefined));\n\n        const signature = await transaction\n            .submitToRenVM()\n            .on(\"renTxHash\", onRenTxHash)\n            .on(\"status\", onStatus);\n\n        const response = await signature.queryTx();\n\n        // Update shift in store.\n        await this.updateShift({\n            inTx: BitcoinTx(RenJS.utils.Ox(Buffer.from(response.in.utxo.txHash, \"base64\"))),\n            status: ShiftInStatus.ReturnedFromRenVM,\n        });\n\n        return signature;\n    }\n\n    public queryShiftStatus = async () => {\n        const { sdkRenVM: renVM } = this.state;\n        if (!renVM) { throw new Error(`RenVM not initialized`); }\n\n        const shift = this.state.shift;\n        if (!shift) { throw new Error(\"Shift not set\"); }\n\n        const renTxHash = shift.renTxHash;\n        if (!renTxHash) { throw new Error(`Invalid values required to query status`); }\n\n        if (shift.shiftIn) {\n            return renVM.shiftIn({\n                sendToken: shift.shiftParams.sendToken,\n                renTxHash,\n                contractCalls: [],\n            }).queryTx();\n        } else {\n            return renVM.shiftOut({\n                sendToken: shift.shiftParams.sendToken,\n                renTxHash,\n            }).queryTx();\n        }\n    }\n\n    public submitMintToEthereum = async (retry = false) => {\n        const { gatewayPopupID } = this.uiContainer.state;\n        const shift = this.state.shift;\n        if (!shift) { throw new Error(\"Shift not set\"); }\n        if (!gatewayPopupID) {\n            throw new Error(`No gateway popup ID.`);\n        }\n\n        let transactionHash = shift.outTx && !retry ? shift.outTx.hash : null;\n        // let receipt: TransactionReceipt;\n\n        if (!transactionHash) {\n\n            const transactionConfig = (await this.submitMintToRenVM()).createTransaction();\n\n            const { txHash, error } = await postMessageToClient(window, gatewayPopupID, GatewayMessageType.SendTransaction, { transactionConfig });\n            if (error) {\n                console.error(error);\n                throw new Error(error);\n            }\n\n            if (!txHash) {\n                throw new Error(\"No txHash returned from Web3\");\n            }\n\n            // const txHash = await new Promise<string>((resolveTx, rejectTx) => promiEvent\n            //     .on(\"transactionHash\", resolveTx).catch(rejectTx));\n\n            // Update shift in store.\n            await this.updateShift({\n                status: ShiftInStatus.SubmittedToEthereum,\n                outTx: EthereumTx(txHash),\n            });\n\n            transactionHash = txHash;\n\n            // tslint:disable-next-line: no-any\n            // promiEvent.once(\"confirmation\", (_confirmations: number, newReceipt: any) => { resolve([newReceipt, txHash]); });\n            // });\n            // } else {\n            // receipt = (await this.getReceipt(web3, transactionHash)) as TransactionReceipt;\n        }\n\n        // // tslint:disable-next-line: no-any\n        // if ((receipt as any).status === 0 || receipt.status === false || (receipt as any).status === \"0x0\") {\n        //     throw new Error(`Transaction ${transactionHash} was reverted.`);\n        // }\n\n        const { confirmations, error } = await postMessageToClient(window, gatewayPopupID, GatewayMessageType.GetTransactionStatus, { txHash: transactionHash });\n        if (error) {\n            console.error(error);\n            throw new Error(error);\n        }\n\n        // Update shift in store.\n        await this.updateShift({\n            outTx: EthereumTx(transactionHash),\n            status: ShiftInStatus.ConfirmedOnEthereum,\n        });\n\n        return;\n    }\n\n    private readonly getReceipt = async (web3: Web3, transactionHash: string) => {\n        // Wait for confirmation\n        let receipt;\n        while (!receipt || !receipt.blockHash) {\n            receipt = await web3.eth.getTransactionReceipt(transactionHash);\n            if (receipt && receipt.blockHash) {\n                break;\n            }\n            await sleep(3 * 1000);\n        }\n\n        // Status might be undefined - so check against `false` explicitly.\n        if (receipt.status === false) {\n            throw new Error(`Transaction was reverted. { \"transactionHash\": \"${transactionHash}\" }`);\n        }\n\n        return receipt;\n    }\n\n}\n","import { ShiftInStatus, ShiftOutStatus, TxStatus } from \"@renproject/interfaces\";\n\n// tslint:disable-next-line: no-any\nexport const isPromise = <T>(p: any): p is Promise<T> => {\n    return p.hasOwnProperty(\"then\");\n};\n\n// tslint:disable-next-line: no-any ban-types\nexport const isFunction = (p: any): p is Function => {\n    return typeof p === \"function\";\n};\n\nexport const range = (left: number, right?: number) => {\n    const start = right === undefined ? 0 : left;\n    const end = right === undefined ? left : right;\n    return Array.from(new Array(end - start)).map((_, i) => i + start);\n};\n\nexport const classNames = (...args: Array<string | undefined>) => {\n    return args.filter(arg => arg !== undefined).join(\" \");\n};\n\nconst maxBy = <T>(fn: (t: T) => number, rest: T[]): T => {\n    return rest.slice(1).reduce((acc, next) => fn(next) > fn(acc) ? next : acc, rest[0]);\n};\n\nexport const compareTxStatus = (...statuses: Array<TxStatus | undefined | null>): TxStatus | undefined => {\n    return maxBy(\n        (status: { status: TxStatus | undefined, index: number }) => status.index,\n        statuses.map(status => {\n            switch (status) {\n                case TxStatus.TxStatusNil: return { status, index: 0 };\n                case TxStatus.TxStatusConfirming: return { status, index: 1 };\n                case TxStatus.TxStatusPending: return { status, index: 2 };\n                case TxStatus.TxStatusExecuting: return { status, index: 3 };\n                case TxStatus.TxStatusDone: return { status, index: 4 };\n                case TxStatus.TxStatusReverted: return { status, index: 5 };\n\n                default: return { status: undefined, index: -1 }\n            }\n        }),\n    ).status;\n};\n\nexport const compareShiftStatus = (...statuses: Array<ShiftInStatus | ShiftOutStatus | undefined | null>): ShiftInStatus | ShiftOutStatus | undefined => {\n    return maxBy(\n        (status: { status: ShiftInStatus | ShiftOutStatus | undefined, index: number }) => status.index,\n        statuses.map(status => {\n            switch (status) {\n                case ShiftInStatus.Committed: return { status, index: 0 };\n                case ShiftInStatus.Deposited: return { status, index: 1 };\n                case ShiftInStatus.Confirmed: return { status, index: 2 };\n                case ShiftInStatus.SubmittedToRenVM: return { status, index: 3 };\n                case ShiftInStatus.ReturnedFromRenVM: return { status, index: 4 };\n                case ShiftInStatus.SubmittedToEthereum: return { status, index: 5 };\n                case ShiftInStatus.ConfirmedOnEthereum: return { status, index: 6 };\n\n                case ShiftOutStatus.Committed: return { status, index: 0 };\n                case ShiftOutStatus.SubmittedToEthereum: return { status, index: 1 };\n                case ShiftOutStatus.ConfirmedOnEthereum: return { status, index: 2 };\n                case ShiftOutStatus.SubmittedToRenVM: return { status, index: 3 };\n                case ShiftOutStatus.ReturnedFromRenVM: return { status, index: 4 };\n                case ShiftOutStatus.NoBurnFound: return { status, index: 5 };\n\n                default: return { status: undefined, index: -1 }\n            }\n        }),\n    ).status;\n};\n","// User-configured\nexport const SENTRY_DSN: string | undefined = process.env.REACT_APP_SENTRY_DSN;\nexport const ETHEREUM_NODE: string = process.env.REACT_APP_ETHEREUM_NODE || `${\"http\"}://localhost:8545`;\nexport const DEFAULT_NETWORK: string = process.env.REACT_APP_NETWORK || \"testnet\";\n\n// Not configured\nexport const SOURCE_VERSION: string | undefined = process.env.REACT_APP_SOURCE_VERSION;\nexport const SENTRY_ENVIRONMENT: string = ((process.env.NODE_ENV === \"development\") ? \"development\" : DEFAULT_NETWORK) || \"unknown\";\n","module.exports = __webpack_public_path__ + \"static/media/info.3ffb815c.svg\";"],"sourceRoot":""}